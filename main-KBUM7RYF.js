import{A as zi,Ab as ot,B as Ti,C as Li,D as Fi,Db as qi,E as Ri,F as Bi,G as Ni,Gb as Ki,H as Gi,I as Vi,Ja as Wi,Kb as vn,Pa as xe,Rb as Be,Sb as De,T as Ui,Ta as ji,Za as Ie,a as pi,b as xn,c as mi,cc as yn,d as gi,db as Rt,e as ui,f as hi,fc as Ne,g as ut,h as fi,i as _i,ib as he,j as bi,k as xi,l as vi,m as yi,mb as Hi,n as ht,o as Ci,p as Mi,q as wi,qb as Ae,r as Si,s as ft,t as Pi,u as Oi,v as ki,w as Ei,x as Ii,y as Ai,z as Di}from"./chunk-ECOVHHNS.js";import{a as Zi,b as ce,c as ne,d as ve,e as ye,f as ie,g as Ce,h as $i,i as Yi,j as Ge,k as Ve,l as Ue,m as Me,n as Xi,o as Qi,p as $}from"./chunk-EZQIA44Z.js";import{a as ti,b as ni,c as ii,d as ri,e as oi,f as ai,g as si,h as li,i as se,j as di,k as R,l as le,m as ci,n as de,o as Ji}from"./chunk-6QVVGQKU.js";import{a as re}from"./chunk-SI7OH67C.js";import{$ as W,A as ue,Ab as a,B as Bn,Bb as _,Cb as x,Db as V,Ea as Wn,Eb as Kn,Fb as Zn,Gb as y,Hb as C,I as Nn,Ib as M,J as Le,Jb as $n,Kb as Yn,La as jn,Lb as oe,M as tt,Ma as te,Mb as it,Nb as Ee,Ob as Ye,Pa as l,Sb as Xn,Ta as w,W as Gn,X as fn,Ya as E,Za as Hn,_a as bn,a as G,aa as Vn,ab as f,b as j,ca as Et,d as Ur,e as Wr,ea as Q,f as jr,fa as F,ga as ct,gb as Ze,h as S,ha as Un,hb as p,ib as qn,jb as nt,jc as Qn,k as Ke,ka as It,kb as $e,kc as H,lb as r,lc as D,ma as pt,mb as i,mc as rt,n as Rn,na as u,nb as P,nc as Ft,o as Ot,oa as h,ob as Fe,oc as Jn,pb as Re,pc as A,qb as k,ra as At,rb as b,sb as m,sc as ei,tb as Dt,ub as zt,v as kt,va as Oe,vb as Tt,w as Pe,wa as ke,wb as Lt,xb as mt,yb as gt,za as _n,zb as fe}from"./chunk-HKMJNDLM.js";var Br={};Wr(Br,{environment:()=>Te});var Te,Mt=Ur(()=>{"use strict";Te={production:!1,firebase:{apiKey:"AIzaSyBY571lmuW24qnczKhCGORAGWg4gei8cek",authDomain:"afroconnect-a53a5.firebaseapp.com",projectId:"afroconnect-a53a5",storageBucket:"afroconnect-a53a5.firebasestorage.app",messagingSenderId:"341889512681",appId:"1:341889512681:web:e4073a27dded8eae9e2c78"},googleMapsApiKey:"AIzaSyAVTCyd8uLieVgnMHEygb5mm1xQKcjiOVk"}});var ar="firebasestorage.googleapis.com",sr="storageBucket",Hr=2*60*1e3,qr=10*60*1e3;var q=class o extends hi{constructor(t,e,n=0){super(Cn(t),`Firebase Storage: ${e} (${Cn(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,o.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Cn(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},K=function(o){return o.UNKNOWN="unknown",o.OBJECT_NOT_FOUND="object-not-found",o.BUCKET_NOT_FOUND="bucket-not-found",o.PROJECT_NOT_FOUND="project-not-found",o.QUOTA_EXCEEDED="quota-exceeded",o.UNAUTHENTICATED="unauthenticated",o.UNAUTHORIZED="unauthorized",o.UNAUTHORIZED_APP="unauthorized-app",o.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",o.INVALID_CHECKSUM="invalid-checksum",o.CANCELED="canceled",o.INVALID_EVENT_NAME="invalid-event-name",o.INVALID_URL="invalid-url",o.INVALID_DEFAULT_BUCKET="invalid-default-bucket",o.NO_DEFAULT_BUCKET="no-default-bucket",o.CANNOT_SLICE_BLOB="cannot-slice-blob",o.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",o.NO_DOWNLOAD_URL="no-download-url",o.INVALID_ARGUMENT="invalid-argument",o.INVALID_ARGUMENT_COUNT="invalid-argument-count",o.APP_DELETED="app-deleted",o.INVALID_ROOT_OPERATION="invalid-root-operation",o.INVALID_FORMAT="invalid-format",o.INTERNAL_ERROR="internal-error",o.UNSUPPORTED_ENVIRONMENT="unsupported-environment",o}(K||{});function Cn(o){return"storage/"+o}function kn(){let o="An unknown error occurred, please check the error payload for server response.";return new q(K.UNKNOWN,o)}function Kr(o){return new q(K.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")}function Zr(o){return new q(K.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function $r(){let o="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new q(K.UNAUTHENTICATED,o)}function Yr(){return new q(K.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Xr(o){return new q(K.UNAUTHORIZED,"User does not have permission to access '"+o+"'.")}function Qr(){return new q(K.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Jr(){return new q(K.CANCELED,"User canceled the upload/download.")}function eo(o){return new q(K.INVALID_URL,"Invalid URL '"+o+"'.")}function to(o){return new q(K.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+o+"'.")}function no(){return new q(K.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sr+"' property when initializing the app?")}function io(){return new q(K.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ro(){return new q(K.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function oo(o){return new q(K.UNSUPPORTED_ENVIRONMENT,`${o} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Mn(o){return new q(K.INVALID_ARGUMENT,o)}function lr(){return new q(K.APP_DELETED,"The Firebase app was deleted.")}function ao(o){return new q(K.INVALID_ROOT_OPERATION,"The operation '"+o+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bt(o,t){return new q(K.INVALID_FORMAT,"String does not match format '"+o+"': "+t)}function _t(o){throw new q(K.INTERNAL_ERROR,"Internal error: "+o)}var _e=class o{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=o.makeFromUrl(t,e)}catch{return new o(t,"")}if(n.path==="")return n;throw to(t)}static makeFromUrl(t,e){let n=null,s="([A-Za-z0-9.\\-_]+)";function d(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}let c="(/(.*))?$",g=new RegExp("^gs://"+s+c,"i"),v={bucket:1,path:3};function O(ae){ae.path_=decodeURIComponent(ae.path)}let I="v[A-Za-z0-9_]+",L=e.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",X=new RegExp(`^https?://${L}/${I}/b/${s}/o${N}`,"i"),Z={bucket:1,path:3},pe=e===ar?"(?:storage.googleapis.com|storage.cloud.google.com)":e,B="([^?#]*)",et=new RegExp(`^https?://${pe}/${s}/${B}`,"i"),be=[{regex:g,indices:v,postModify:d},{regex:X,indices:Z,postModify:O},{regex:et,indices:{bucket:1,path:2},postModify:O}];for(let ae=0;ae<be.length;ae++){let Pt=be[ae],un=Pt.regex.exec(t);if(un){let Vr=un[Pt.indices.bucket],hn=un[Pt.indices.path];hn||(hn=""),n=new o(Vr,hn),Pt.postModify(n);break}}if(n==null)throw eo(t);return n}},wn=class{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}};function so(o,t,e){let n=1,s=null,d=null,c=!1,g=0;function v(){return g===2}let O=!1;function I(...B){O||(O=!0,t.apply(null,B))}function L(B){s=setTimeout(()=>{s=null,o(X,v())},B)}function N(){d&&clearTimeout(d)}function X(B,...et){if(O){N();return}if(B){N(),I.call(null,B,...et);return}if(v()||c){N(),I.call(null,B,...et);return}n<64&&(n*=2);let be;g===1?(g=2,be=0):be=(n+Math.random())*1e3,L(be)}let Z=!1;function pe(B){Z||(Z=!0,N(),!O&&(s!==null?(B||(g=2),clearTimeout(s),L(0)):B||(g=1)))}return L(0),d=setTimeout(()=>{c=!0,pe(!0)},e),pe}function lo(o){o(!1)}function co(o){return o!==void 0}function po(o){return typeof o=="object"&&!Array.isArray(o)}function En(o){return typeof o=="string"||o instanceof String}function er(o){return In()&&o instanceof Blob}function In(){return typeof Blob<"u"}function tr(o,t,e,n){if(n<t)throw Mn(`Invalid value for '${o}'. Expected ${t} or greater.`);if(n>e)throw Mn(`Invalid value for '${o}'. Expected ${e} or less.`)}function An(o,t,e){let n=t;return e==null&&(n=`https://${t}`),`${e}://${n}/v0${o}`}function dr(o){let t=encodeURIComponent,e="?";for(let n in o)if(o.hasOwnProperty(n)){let s=t(n)+"="+t(o[n]);e=e+s+"&"}return e=e.slice(0,-1),e}var st=function(o){return o[o.NO_ERROR=0]="NO_ERROR",o[o.NETWORK_ERROR=1]="NETWORK_ERROR",o[o.ABORT=2]="ABORT",o}(st||{});function mo(o,t){let e=o>=500&&o<600,s=[408,429].indexOf(o)!==-1,d=t.indexOf(o)!==-1;return e||s||d}var Sn=class{constructor(t,e,n,s,d,c,g,v,O,I,L,N=!0,X=!1){this.url_=t,this.method_=e,this.headers_=n,this.body_=s,this.successCodes_=d,this.additionalRetryCodes_=c,this.callback_=g,this.errorCallback_=v,this.timeout_=O,this.progressCallback_=I,this.connectionFactory_=L,this.retry=N,this.isUsingEmulator=X,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Z,pe)=>{this.resolve_=Z,this.reject_=pe,this.start_()})}start_(){let t=(n,s)=>{if(s){n(!1,new at(!1,null,!0));return}let d=this.connectionFactory_();this.pendingConnection_=d;let c=g=>{let v=g.loaded,O=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(v,O)};this.progressCallback_!==null&&d.addUploadProgressListener(c),d.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&d.removeUploadProgressListener(c),this.pendingConnection_=null;let g=d.getErrorCode()===st.NO_ERROR,v=d.getStatus();if(!g||mo(v,this.additionalRetryCodes_)&&this.retry){let I=d.getErrorCode()===st.ABORT;n(!1,new at(!1,null,I));return}let O=this.successCodes_.indexOf(v)!==-1;n(!0,new at(O,d))})},e=(n,s)=>{let d=this.resolve_,c=this.reject_,g=s.connection;if(s.wasSuccessCode)try{let v=this.callback_(g,g.getResponse());co(v)?d(v):d()}catch(v){c(v)}else if(g!==null){let v=kn();v.serverResponse=g.getErrorText(),this.errorCallback_?c(this.errorCallback_(g,v)):c(v)}else if(s.canceled){let v=this.appDelete_?lr():Jr();c(v)}else{let v=Qr();c(v)}};this.canceled_?e(!1,new at(!1,null,!0)):this.backoffId_=so(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&lo(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},at=class{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}};function go(o,t){t!==null&&t.length>0&&(o.Authorization="Firebase "+t)}function uo(o,t){o["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function ho(o,t){t&&(o["X-Firebase-GMPID"]=t)}function fo(o,t){t!==null&&(o["X-Firebase-AppCheck"]=t)}function _o(o,t,e,n,s,d,c=!0,g=!1){let v=dr(o.urlParams),O=o.url+v,I=Object.assign({},o.headers);return ho(I,t),go(I,e),uo(I,d),fo(I,n),new Sn(O,o.method,I,o.body,o.successCodes,o.additionalRetryCodes,o.handler,o.errorHandler,o.timeout,o.progressCallback,s,c,g)}function bo(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function xo(...o){let t=bo();if(t!==void 0){let e=new t;for(let n=0;n<o.length;n++)e.append(o[n]);return e.getBlob()}else{if(In())return new Blob(o);throw new q(K.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function vo(o,t,e){return o.webkitSlice?o.webkitSlice(t,e):o.mozSlice?o.mozSlice(t,e):o.slice?o.slice(t,e):null}function yo(o){if(typeof atob>"u")throw oo("base-64");return atob(o)}var we={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},xt=class{constructor(t,e){this.data=t,this.contentType=e||null}};function Co(o,t){switch(o){case we.RAW:return new xt(cr(t));case we.BASE64:case we.BASE64URL:return new xt(pr(o,t));case we.DATA_URL:return new xt(wo(t),So(t))}throw kn()}function cr(o){let t=[];for(let e=0;e<o.length;e++){let n=o.charCodeAt(e);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(e<o.length-1&&(o.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{let d=n,c=o.charCodeAt(++e);n=65536|(d&1023)<<10|c&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(t)}function Mo(o){let t;try{t=decodeURIComponent(o)}catch{throw bt(we.DATA_URL,"Malformed data URL.")}return cr(t)}function pr(o,t){switch(o){case we.BASE64:{let s=t.indexOf("-")!==-1,d=t.indexOf("_")!==-1;if(s||d)throw bt(o,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case we.BASE64URL:{let s=t.indexOf("+")!==-1,d=t.indexOf("/")!==-1;if(s||d)throw bt(o,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=yo(t)}catch(s){throw s.message.includes("polyfill")?s:bt(o,"Invalid character found")}let n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}var Nt=class{constructor(t){this.base64=!1,this.contentType=null;let e=t.match(/^data:([^,]+)?,/);if(e===null)throw bt(we.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let n=e[1]||null;n!=null&&(this.base64=Po(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}};function wo(o){let t=new Nt(o);return t.base64?pr(we.BASE64,t.rest):Mo(t.rest)}function So(o){return new Nt(o).contentType}function Po(o,t){return o.length>=t.length?o.substring(o.length-t.length)===t:!1}var Gt=class o{constructor(t,e){let n=0,s="";er(t)?(this.data_=t,n=t.size,s=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,e){if(er(this.data_)){let n=this.data_,s=vo(n,t,e);return s===null?null:new o(s)}else{let n=new Uint8Array(this.data_.buffer,t,e-t);return new o(n,!0)}}static getBlob(...t){if(In()){let e=t.map(n=>n instanceof o?n.data_:n);return new o(xo.apply(null,e))}else{let e=t.map(c=>En(c)?Co(we.RAW,c).data:c.data_),n=0;e.forEach(c=>{n+=c.byteLength});let s=new Uint8Array(n),d=0;return e.forEach(c=>{for(let g=0;g<c.length;g++)s[d++]=c[g]}),new o(s,!0)}}uploadData(){return this.data_}};function mr(o){let t;try{t=JSON.parse(o)}catch{return null}return po(t)?t:null}function Oo(o){if(o.length===0)return null;let t=o.lastIndexOf("/");return t===-1?"":o.slice(0,t)}function ko(o,t){let e=t.split("/").filter(n=>n.length>0).join("/");return o.length===0?e:o+"/"+e}function gr(o){let t=o.lastIndexOf("/",o.length-2);return t===-1?o:o.slice(t+1)}function Eo(o,t){return t}var J=class{constructor(t,e,n,s){this.server=t,this.local=e||t,this.writable=!!n,this.xform=s||Eo}},Bt=null;function Io(o){return!En(o)||o.length<2?o:gr(o)}function ur(){if(Bt)return Bt;let o=[];o.push(new J("bucket")),o.push(new J("generation")),o.push(new J("metageneration")),o.push(new J("name","fullPath",!0));function t(d,c){return Io(c)}let e=new J("name");e.xform=t,o.push(e);function n(d,c){return c!==void 0?Number(c):c}let s=new J("size");return s.xform=n,o.push(s),o.push(new J("timeCreated")),o.push(new J("updated")),o.push(new J("md5Hash",null,!0)),o.push(new J("cacheControl",null,!0)),o.push(new J("contentDisposition",null,!0)),o.push(new J("contentEncoding",null,!0)),o.push(new J("contentLanguage",null,!0)),o.push(new J("contentType",null,!0)),o.push(new J("metadata","customMetadata",!0)),Bt=o,Bt}function Ao(o,t){function e(){let n=o.bucket,s=o.fullPath,d=new _e(n,s);return t._makeStorageReference(d)}Object.defineProperty(o,"ref",{get:e})}function Do(o,t,e){let n={};n.type="file";let s=e.length;for(let d=0;d<s;d++){let c=e[d];n[c.local]=c.xform(n,t[c.server])}return Ao(n,o),n}function hr(o,t,e){let n=mr(t);return n===null?null:Do(o,n,e)}function zo(o,t,e,n){let s=mr(t);if(s===null||!En(s.downloadTokens))return null;let d=s.downloadTokens;if(d.length===0)return null;let c=encodeURIComponent;return d.split(",").map(O=>{let I=o.bucket,L=o.fullPath,N="/b/"+c(I)+"/o/"+c(L),X=An(N,e,n),Z=dr({alt:"media",token:O});return X+Z})[0]}function To(o,t){let e={},n=t.length;for(let s=0;s<n;s++){let d=t[s];d.writable&&(e[d.server]=o[d.local])}return JSON.stringify(e)}var Vt=class{constructor(t,e,n,s){this.url=t,this.method=e,this.handler=n,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function fr(o){if(!o)throw kn()}function Lo(o,t){function e(n,s){let d=hr(o,s,t);return fr(d!==null),d}return e}function Fo(o,t){function e(n,s){let d=hr(o,s,t);return fr(d!==null),zo(d,s,o.host,o._protocol)}return e}function _r(o){function t(e,n){let s;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?s=Yr():s=$r():e.getStatus()===402?s=Zr(o.bucket):e.getStatus()===403?s=Xr(o.path):s=n,s.status=e.getStatus(),s.serverResponse=n.serverResponse,s}return t}function Ro(o){let t=_r(o);function e(n,s){let d=t(n,s);return n.getStatus()===404&&(d=Kr(o.path)),d.serverResponse=s.serverResponse,d}return e}function Bo(o,t,e){let n=t.fullServerUrl(),s=An(n,o.host,o._protocol),d="GET",c=o.maxOperationRetryTime,g=new Vt(s,d,Fo(o,e),c);return g.errorHandler=Ro(t),g}function No(o,t){return o&&o.contentType||t&&t.type()||"application/octet-stream"}function Go(o,t,e){let n=Object.assign({},e);return n.fullPath=o.path,n.size=t.size(),n.contentType||(n.contentType=No(null,t)),n}function Vo(o,t,e,n,s){let d=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function g(){let be="";for(let ae=0;ae<2;ae++)be=be+Math.random().toString().slice(2);return be}let v=g();c["Content-Type"]="multipart/related; boundary="+v;let O=Go(t,n,s),I=To(O,e),L="--"+v+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+I+`\r
--`+v+`\r
Content-Type: `+O.contentType+`\r
\r
`,N=`\r
--`+v+"--",X=Gt.getBlob(L,n,N);if(X===null)throw io();let Z={name:O.fullPath},pe=An(d,o.host,o._protocol),B="POST",et=o.maxUploadRetryTime,qe=new Vt(pe,B,Lo(o,e),et);return qe.urlParams=Z,qe.headers=c,qe.body=X.uploadData(),qe.errorHandler=_r(t),qe}var ld=256*1024;var nr=null,Pn=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=st.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=st.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=st.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,n,s,d){if(this.sent_)throw _t("cannot .send() more than once");if(xn(t)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(e,t,!0),d!==void 0)for(let c in d)d.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,d[c].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _t("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _t("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _t("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _t("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}},On=class extends Pn{initXhr(){this.xhr_.responseType="text"}};function br(){return nr?nr():new On}var lt=class o{constructor(t,e){this._service=t,e instanceof _e?this._location=e:this._location=_e.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new o(t,e)}get root(){let t=new _e(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gr(this._location.path)}get storage(){return this._service}get parent(){let t=Oo(this._location.path);if(t===null)return null;let e=new _e(this._location.bucket,t);return new o(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw ao(t)}};function Uo(o,t,e){o._throwIfRoot("uploadBytes");let n=Vo(o.storage,o._location,ur(),new Gt(t,!0),e);return o.storage.makeRequestWithTokens(n,br).then(s=>({metadata:s,ref:o}))}function Wo(o){o._throwIfRoot("getDownloadURL");let t=Bo(o.storage,o._location,ur());return o.storage.makeRequestWithTokens(t,br).then(e=>{if(e===null)throw ro();return e})}function jo(o,t){let e=ko(o._location.path,t),n=new _e(o._location.bucket,e);return new lt(o.storage,n)}function Ho(o){return/^[A-Za-z]+:\/\//.test(o)}function qo(o,t){return new lt(o,t)}function xr(o,t){if(o instanceof vt){let e=o;if(e._bucket==null)throw no();let n=new lt(e,e._bucket);return t!=null?xr(n,t):n}else return t!==void 0?jo(o,t):o}function Ko(o,t){if(t&&Ho(t)){if(o instanceof vt)return qo(o,t);throw Mn("To use ref(service, url), the first argument must be a Storage instance.")}else return xr(o,t)}function ir(o,t){let e=t?.[sr];return e==null?null:_e.makeFromBucketSpec(e,o)}function Zo(o,t,e,n={}){o.host=`${t}:${e}`;let s=xn(t);s&&(mi(`https://${o.host}/b`),ui("Storage",!0)),o._isUsingEmulator=!0,o._protocol=s?"https":"http";let{mockUserToken:d}=n;d&&(o._overrideAuthToken=typeof d=="string"?d:gi(d,o.app.options.projectId))}var vt=class{constructor(t,e,n,s,d,c=!1){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=s,this._firebaseVersion=d,this._isUsingEmulator=c,this._bucket=null,this._host=ar,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Hr,this._maxUploadRetryTime=qr,this._requests=new Set,s!=null?this._bucket=_e.makeFromBucketSpec(s,this._host):this._bucket=ir(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=_e.makeFromBucketSpec(this._url,t):this._bucket=ir(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){tr("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){tr("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){return S(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let t=this._authProvider.getImmediate({optional:!0});if(t){let e=yield t.getToken();if(e!==null)return e.accessToken}return null})}_getAppCheckToken(){return S(this,null,function*(){if(xi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=this._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new lt(this,t)}_makeRequest(t,e,n,s,d=!0){if(this._deleted)return new wn(lr());{let c=_o(t,this._appId,n,s,e,this._firebaseVersion,d,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(t,e){return S(this,null,function*(){let[n,s]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,s).getPromise()})}},rr="@firebase/storage",or="0.13.14";var vr="storage";function yr(o,t,e){return o=ut(o),Uo(o,t,e)}function Cr(o){return o=ut(o),Wo(o)}function Mr(o,t){return o=ut(o),Ko(o,t)}function wr(o=yi(),t){o=ut(o);let n=bi(o,vr).getImmediate({identifier:t}),s=pi("storage");return s&&Sr(n,...s),n}function Sr(o,t,e,n={}){Zo(o,t,e,n)}function $o(o,{instanceIdentifier:t}){let e=o.getProvider("app").getImmediate(),n=o.getProvider("auth-internal"),s=o.getProvider("app-check-internal");return new vt(e,n,s,t,vi)}function Yo(){_i(new fi(vr,$o,"PUBLIC").setMultipleInstances(!0)),ht(rr,or,""),ht(rr,or,"esm2017")}Yo();var Xe=class{constructor(t){return t}},Pr="storage",Dn=class{constructor(){return wi(Pr)}};var zn=new Et("angularfire2.storage-instances");function Xo(o,t){let e=Mi(Pr,o,t);return e&&new Xe(e)}function Qo(o){return(t,e)=>{let n=t.runOutsideAngular(()=>o(e));return new Xe(n)}}var Jo={provide:Dn,deps:[[new ct,zn]]},ea={provide:Xe,useFactory:Xo,deps:[[new ct,zn],Pi]};function Or(o,...t){return ht("angularfire",Ci.full,"gcs"),Un([ea,Jo,{provide:zn,useFactory:Qo(o),multi:!0,deps:[ke,At,Si,Oi,[new ct,zi],[new ct,Ii],...t]}])}var kr=ft(Cr,!0);var Er=ft(wr,!0);var Ir=ft(Mr,!0,2);var Ar=ft(yr,!0);var na=["*"],Ct=class{_ngZone;_pending=[];_listeners=[];_targetStream=new Ot(void 0);_clearListeners(){for(let t of this._listeners)t.remove();this._listeners=[]}constructor(t){this._ngZone=t}getLazyEmitter(t){return this._targetStream.pipe(Gn(e=>{let n=new Ke(s=>{if(!e){this._pending.push({observable:n,observer:s});return}let d=e.addListener(t,c=>{this._ngZone.run(()=>s.next(c))});if(!d){s.complete();return}return this._listeners.push(d),()=>d.remove()});return n}))}setTarget(t){let e=this._targetStream.value;t!==e&&(e&&(this._clearListeners(),this._pending=[]),this._targetStream.next(t),this._pending.forEach(n=>n.observable.subscribe(n.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}},yt={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"},Dr="500px",zr="500px",Ut=(()=>{class o{_elementRef=F(_n);_ngZone=F(ke);_eventManager=new Ct(F(ke));_mapEl;_existingAuthFailureCallback;googleMap;_isBrowser;height=Dr;width=zr;mapId;mapTypeId;set center(e){this._center=e}_center;set zoom(e){this._zoom=e}_zoom;set options(e){this._options=e||yt}_options=yt;mapInitialized=new Oe;authFailure=new Oe;boundsChanged=this._eventManager.getLazyEmitter("bounds_changed");centerChanged=this._eventManager.getLazyEmitter("center_changed");mapClick=this._eventManager.getLazyEmitter("click");mapDblclick=this._eventManager.getLazyEmitter("dblclick");mapDrag=this._eventManager.getLazyEmitter("drag");mapDragend=this._eventManager.getLazyEmitter("dragend");mapDragstart=this._eventManager.getLazyEmitter("dragstart");headingChanged=this._eventManager.getLazyEmitter("heading_changed");idle=this._eventManager.getLazyEmitter("idle");maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed");mapMousemove=this._eventManager.getLazyEmitter("mousemove");mapMouseout=this._eventManager.getLazyEmitter("mouseout");mapMouseover=this._eventManager.getLazyEmitter("mouseover");projectionChanged=this._eventManager.getLazyEmitter("projection_changed");mapRightclick=this._eventManager.getLazyEmitter("rightclick");tilesloaded=this._eventManager.getLazyEmitter("tilesloaded");tiltChanged=this._eventManager.getLazyEmitter("tilt_changed");zoomChanged=this._eventManager.getLazyEmitter("zoom_changed");constructor(){let e=F(Wn);if(this._isBrowser=ei(e),this._isBrowser){let n=window;n.google,this._existingAuthFailureCallback=n.gm_authFailure,n.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(e){(e.height||e.width)&&this._setSize();let n=this.googleMap;n&&(e.options&&n.setOptions(this._combineOptions()),e.center&&this._center&&n.setCenter(this._center),e.zoom&&this._zoom!=null&&n.setZoom(this._zoom),e.mapTypeId&&this.mapTypeId&&n.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),google.maps.Map?this._initialize(google.maps.Map):this._ngZone.runOutsideAngular(()=>{google.maps.importLibrary("maps").then(e=>this._initialize(e.Map))}))}_initialize(e){this._ngZone.runOutsideAngular(()=>{this.googleMap=new e(this._mapEl,this._combineOptions()),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap)})}ngOnDestroy(){if(this.mapInitialized.complete(),this._eventManager.destroy(),this._isBrowser){let e=window;e.gm_authFailure=this._existingAuthFailureCallback}}fitBounds(e,n){this._assertInitialized(),this.googleMap.fitBounds(e,n)}panBy(e,n){this._assertInitialized(),this.googleMap.panBy(e,n)}panTo(e){this._assertInitialized(),this.googleMap.panTo(e)}panToBounds(e,n){this._assertInitialized(),this.googleMap.panToBounds(e,n)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_resolveMap(){return this.googleMap?Promise.resolve(this.googleMap):this.mapInitialized.pipe(tt(1)).toPromise()}_setSize(){if(this._mapEl){let e=this._mapEl.style;e.height=this.height===null?"":Tr(this.height)||Dr,e.width=this.width===null?"":Tr(this.width)||zr}}_combineOptions(){let e=this._options||{};return j(G({},e),{center:this._center||e.center||yt.center,zoom:this._zoom??e.zoom??yt.zoom,mapTypeId:this.mapTypeId||e.mapTypeId||yt.mapTypeId,mapId:this.mapId||e.mapId})}_assertInitialized(){this.googleMap}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=E({type:o,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapId:"mapId",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[pt],ngContentSelectors:na,decls:2,vars:0,consts:[[1,"map-container"]],template:function(n,s){n&1&&(Dt(),P(0,"div",0),zt(1))},encapsulation:2,changeDetection:0})}return o})(),ia=/([A-Za-z%]+)$/;function Tr(o){return o==null?"":ia.test(o)?o:`${o}px`}var Lr=(()=>{class o{_googleMap=F(Ut);_elementRef=F(_n);_ngZone=F(ke);_eventManager=new Ct(F(ke));_options=new Ot({});_position=new Ot(void 0);_destroy=new Rn;infoWindow;set options(e){this._options.next(e||{})}set position(e){this._position.next(e)}closeclick=this._eventManager.getLazyEmitter("closeclick");contentChanged=this._eventManager.getLazyEmitter("content_changed");domready=this._eventManager.getLazyEmitter("domready");positionChanged=this._eventManager.getLazyEmitter("position_changed");zindexChanged=this._eventManager.getLazyEmitter("zindex_changed");infoWindowInitialized=new Oe;constructor(){}ngOnInit(){this._googleMap._isBrowser&&this._combineOptions().pipe(tt(1)).subscribe(e=>{google.maps.InfoWindow?this._initialize(google.maps.InfoWindow,e):this._ngZone.runOutsideAngular(()=>{google.maps.importLibrary("maps").then(n=>{this._initialize(n.InfoWindow,e)})})})}_initialize(e,n){this._ngZone.runOutsideAngular(()=>{this.infoWindow=new e(n),this._eventManager.setTarget(this.infoWindow),this.infoWindowInitialized.emit(this.infoWindow),this._watchForOptionsChanges(),this._watchForPositionChanges()})}ngOnDestroy(){this._eventManager.destroy(),this._destroy.next(),this._destroy.complete(),this.infoWindow&&this.close()}close(){this._assertInitialized(),this.infoWindow.close()}getContent(){return this._assertInitialized(),this.infoWindow.getContent()||null}getPosition(){return this._assertInitialized(),this.infoWindow.getPosition()||null}getZIndex(){return this._assertInitialized(),this.infoWindow.getZIndex()}openAdvancedMarkerElement(e,n){this.open({getAnchor:()=>e},void 0,n)}open(e,n,s){this._assertInitialized();let d=e?e.getAnchor():void 0;(this.infoWindow.get("anchor")!==d||!d)&&(this._elementRef.nativeElement.style.display=s?"none":"",s&&this.infoWindow.setContent(s),this.infoWindow.open({map:this._googleMap.googleMap,anchor:d,shouldFocus:n}))}_combineOptions(){return Bn([this._options,this._position]).pipe(ue(([e,n])=>j(G({},e),{position:n||e.position,content:this._elementRef.nativeElement})))}_watchForOptionsChanges(){this._options.pipe(fn(this._destroy)).subscribe(e=>{this._assertInitialized(),this.infoWindow.setOptions(e)})}_watchForPositionChanges(){this._position.pipe(fn(this._destroy)).subscribe(e=>{e&&(this._assertInitialized(),this.infoWindow.setPosition(e))})}_assertInitialized(){}static \u0275fac=function(n){return new(n||o)};static \u0275dir=bn({type:o,selectors:[["map-info-window"]],hostAttrs:[2,"display","none"],inputs:{options:"options",position:"position"},outputs:{closeclick:"closeclick",contentChanged:"contentChanged",domready:"domready",positionChanged:"positionChanged",zindexChanged:"zindexChanged",infoWindowInitialized:"infoWindowInitialized"},exportAs:["mapInfoWindow"]})}return o})();var ra=new Et("MAP_MARKER"),oa={position:{lat:37.421995,lng:-122.084092}},Fr=(()=>{class o{_googleMap=F(Ut);_ngZone=F(ke);_eventManager=new Ct(F(ke));set title(e){this._title=e}_title;set position(e){this._position=e}_position;set label(e){this._label=e}_label;set clickable(e){this._clickable=e}_clickable;set options(e){this._options=e}_options;set icon(e){this._icon=e}_icon;set visible(e){this._visible=e}_visible;animationChanged=this._eventManager.getLazyEmitter("animation_changed");mapClick=this._eventManager.getLazyEmitter("click");clickableChanged=this._eventManager.getLazyEmitter("clickable_changed");cursorChanged=this._eventManager.getLazyEmitter("cursor_changed");mapDblclick=this._eventManager.getLazyEmitter("dblclick");mapDrag=this._eventManager.getLazyEmitter("drag");mapDragend=this._eventManager.getLazyEmitter("dragend");draggableChanged=this._eventManager.getLazyEmitter("draggable_changed");mapDragstart=this._eventManager.getLazyEmitter("dragstart");flatChanged=this._eventManager.getLazyEmitter("flat_changed");iconChanged=this._eventManager.getLazyEmitter("icon_changed");mapMousedown=this._eventManager.getLazyEmitter("mousedown");mapMouseout=this._eventManager.getLazyEmitter("mouseout");mapMouseover=this._eventManager.getLazyEmitter("mouseover");mapMouseup=this._eventManager.getLazyEmitter("mouseup");positionChanged=this._eventManager.getLazyEmitter("position_changed");mapRightclick=this._eventManager.getLazyEmitter("rightclick");shapeChanged=this._eventManager.getLazyEmitter("shape_changed");titleChanged=this._eventManager.getLazyEmitter("title_changed");visibleChanged=this._eventManager.getLazyEmitter("visible_changed");zindexChanged=this._eventManager.getLazyEmitter("zindex_changed");markerInitialized=new Oe;marker;constructor(){}ngOnInit(){this._googleMap._isBrowser&&(google.maps.Marker&&this._googleMap.googleMap?this._initialize(this._googleMap.googleMap,google.maps.Marker):this._ngZone.runOutsideAngular(()=>{Promise.all([this._googleMap._resolveMap(),google.maps.importLibrary("marker")]).then(([e,n])=>{this._initialize(e,n.Marker)})}))}_initialize(e,n){this._ngZone.runOutsideAngular(()=>{this.marker=new n(this._combineOptions()),this._assertInitialized(),this.marker.setMap(e),this._eventManager.setTarget(this.marker),this.markerInitialized.next(this.marker)})}ngOnChanges(e){let{marker:n,_title:s,_position:d,_label:c,_clickable:g,_icon:v,_visible:O}=this;n&&(e.options&&n.setOptions(this._combineOptions()),e.title&&s!==void 0&&n.setTitle(s),e.position&&d&&n.setPosition(d),e.label&&c!==void 0&&n.setLabel(c),e.clickable&&g!==void 0&&n.setClickable(g),e.icon&&v&&n.setIcon(v),e.visible&&O!==void 0&&n.setVisible(O))}ngOnDestroy(){this.markerInitialized.complete(),this._eventManager.destroy(),this.marker?.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_resolveMarker(){return this.marker?Promise.resolve(this.marker):this.markerInitialized.pipe(tt(1)).toPromise()}_combineOptions(){let e=this._options||oa;return j(G({},e),{title:this._title||e.title,position:this._position||e.position,label:this._label||e.label,clickable:this._clickable??e.clickable,map:this._googleMap.googleMap,icon:this._icon||e.icon,visible:this._visible??e.visible})}_assertInitialized(){}static \u0275fac=function(n){return new(n||o)};static \u0275dir=bn({type:o,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged",markerInitialized:"markerInitialized"},exportAs:["mapMarker"],features:[$n([{provide:ra,useExisting:o}]),pt]})}return o})();var Rr=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=Hn({type:o});static \u0275inj=Vn({})}return o})();function sa(o,t){o&1&&(r(0,"p",15),a(1," \u{1F4CD} Deine Position wird angezeigt "),i())}function la(o,t){o&1&&(r(0,"p",16),a(1," \u26A0\uFE0F Standort nicht verf\xFCgbar - Zentrum Berlin angezeigt "),i())}function da(o,t){if(o&1){let e=k();r(0,"div",19)(1,"h4"),a(2),i(),r(3,"p")(4,"strong"),a(5),oe(6,"titlecase"),i()(),r(7,"p"),a(8),i(),r(9,"p"),a(10),i(),r(11,"button",20),b("click",function(){u(e);let s=m().$implicit,d=m();return h(d.getDirections(s.shop))}),a(12," \u{1F697} Route berechnen "),i()()}if(o&2){let e=m().$implicit;l(2),_(e.shop.name),l(3),_(it(6,4,e.shop.type)),l(3),x("\u{1F4CD} ",e.shop.address.split(",")[0],""),l(2),x("\u2B50 ",e.shop.rating,"/5")}}function ca(o,t){o&1&&(r(0,"div",19)(1,"h4"),a(2,"\u{1F4CD} Deine Position"),i(),r(3,"p"),a(4,"Du bist hier"),i()())}function pa(o,t){if(o&1){let e=k();r(0,"map-marker",17),b("mapClick",function(){let s=u(e).$implicit,d=m();return h(d.onMarkerClick(s))}),r(1,"map-info-window"),f(2,da,13,6,"div",18)(3,ca,5,0,"div",18),i()()}if(o&2){let e=t.$implicit,n=m();p("position",e.position)("title",e.title)("options",n.getMarkerOptions(e)),l(2),p("ngIf",e.shop),l(),p("ngIf",e.isUserLocation)}}var Wt=class o{afroshops=[];userLocation=null;shopSelected=new Oe;mapOptions={center:{lat:52.52,lng:13.405},zoom:12,mapTypeControl:!0,streetViewControl:!0,fullscreenControl:!0};markers=[];constructor(){}ngOnInit(){this.updateMapCenter(),this.createMarkers()}ngOnChanges(){this.updateMapCenter(),this.createMarkers()}updateMapCenter(){this.userLocation&&(this.mapOptions=j(G({},this.mapOptions),{center:this.userLocation,zoom:13}))}createMarkers(){this.markers=this.afroshops.map(t=>({position:t.coordinates,title:t.name,shop:t})),this.userLocation&&this.markers.push({position:this.userLocation,title:"Deine Position",isUserLocation:!0})}getMarkerOptions(t){return t.isUserLocation?{icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="12" cy="12" r="8" fill="#4285F4" stroke="white" stroke-width="2"/>
              <circle cx="12" cy="12" r="3" fill="white"/>
            </svg>
          `),scaledSize:new google.maps.Size(24,24),anchor:new google.maps.Point(12,12)}}:{}}onMarkerClick(t){t.shop&&(console.log("Afroshop ausgew\xE4hlt:",t.shop),this.shopSelected.emit(t.shop.id))}getDirections(t){if(this.userLocation){let e=`https://www.google.com/maps/dir/${this.userLocation.lat},${this.userLocation.lng}/${t.coordinates.lat},${t.coordinates.lng}`;window.open(e,"_blank")}else{let e=`https://www.google.com/maps/search/?api=1&query=${t.coordinates.lat},${t.coordinates.lng}`;window.open(e,"_blank")}}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=E({type:o,selectors:[["app-map"]],inputs:{afroshops:"afroshops",userLocation:"userLocation"},outputs:{shopSelected:"shopSelected"},features:[pt],decls:42,vars:6,consts:[[1,"map-container"],[1,"map-header"],["class","location-info",4,"ngIf"],["class","no-location-info",4,"ngIf"],[1,"google-map",3,"options","width","height"],[3,"position","title","options","mapClick",4,"ngFor","ngForOf"],[1,"map-legend"],[1,"legend-items"],[1,"legend-item"],[1,"legend-icon","restaurant"],[1,"legend-icon","epicerie"],[1,"legend-icon","coiffeur"],[1,"legend-icon","vetement"],[1,"legend-icon","services"],[1,"legend-icon","user"],[1,"location-info"],[1,"no-location-info"],[3,"mapClick","position","title","options"],["class","info-window",4,"ngIf"],[1,"info-window"],[1,"directions-btn",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h3"),a(3,"\u{1F5FA}\uFE0F Karte der Afroshops"),i(),f(4,sa,2,0,"p",2)(5,la,2,0,"p",3),i(),r(6,"google-map",4),f(7,pa,4,5,"map-marker",5),i(),r(8,"div",6)(9,"h4"),a(10,"Legende"),i(),r(11,"div",7)(12,"div",8)(13,"span",9),a(14,"\u{1F37D}\uFE0F"),i(),r(15,"span"),a(16,"Restaurants"),i()(),r(17,"div",8)(18,"span",10),a(19,"\u{1F6D2}"),i(),r(20,"span"),a(21,"Lebensmittel"),i()(),r(22,"div",8)(23,"span",11),a(24,"\u2702\uFE0F"),i(),r(25,"span"),a(26,"Friseure"),i()(),r(27,"div",8)(28,"span",12),a(29,"\u{1F457}"),i(),r(30,"span"),a(31,"Mode"),i()(),r(32,"div",8)(33,"span",13),a(34,"\u{1F3E6}"),i(),r(35,"span"),a(36,"Dienstleistungen"),i()(),r(37,"div",8)(38,"span",14),a(39,"\u{1F4CD}"),i(),r(40,"span"),a(41,"Deine Position"),i()()()()()),e&2&&(l(4),p("ngIf",n.userLocation),l(),p("ngIf",!n.userLocation),l(),p("options",n.mapOptions)("width","100%")("height","400px"),l(),p("ngForOf",n.markers))},dependencies:[A,H,D,rt,Rr,Ut,Lr,Fr],styles:[".map-container[_ngcontent-%COMP%]{padding:var(--spacing-lg);background:var(--background-white);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-sm);margin:var(--spacing-lg) 0}.map-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--spacing-md)}.map-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--primary-color);font-size:1.5rem;margin-bottom:var(--spacing-xs)}.location-info[_ngcontent-%COMP%]{color:#27ae60;font-weight:500;margin:0}.no-location-info[_ngcontent-%COMP%]{color:#f39c12;font-weight:500;margin:0}.google-map[_ngcontent-%COMP%]{border-radius:var(--border-radius);border:2px solid #e0e0e0;overflow:hidden;box-shadow:var(--shadow-sm)}.info-window[_ngcontent-%COMP%]{padding:var(--spacing-sm);min-width:200px}.info-window[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--primary-color);margin:0 0 var(--spacing-xs) 0;font-size:1.1rem}.info-window[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:var(--spacing-xs) 0;font-size:.9rem;color:var(--text-light)}.directions-btn[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border:none;padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--border-radius);cursor:pointer;font-size:.9rem;margin-top:var(--spacing-xs);transition:background .3s ease}.directions-btn[_ngcontent-%COMP%]:hover{background:var(--secondary-color)}.map-legend[_ngcontent-%COMP%]{margin-top:var(--spacing-lg);padding:var(--spacing-md);background:var(--background-light);border-radius:var(--border-radius);border-left:4px solid var(--primary-color)}.map-legend[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-dark);margin:0 0 var(--spacing-sm) 0;font-size:1.1rem}.legend-items[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:var(--spacing-sm)}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-xs);font-size:.9rem;color:var(--text-light)}.legend-icon[_ngcontent-%COMP%]{font-size:1.2rem;width:24px;text-align:center}.legend-icon.restaurant[_ngcontent-%COMP%]{color:#e74c3c}.legend-icon.epicerie[_ngcontent-%COMP%]{color:#27ae60}.legend-icon.coiffeur[_ngcontent-%COMP%]{color:#9b59b6}.legend-icon.vetement[_ngcontent-%COMP%]{color:#3498db}.legend-icon.services[_ngcontent-%COMP%]{color:#f1c40f}.legend-icon.user[_ngcontent-%COMP%]{color:#4285f4}@media (max-width: 768px){.map-container[_ngcontent-%COMP%]{padding:var(--spacing-md);margin:var(--spacing-md) 0}.google-map[_ngcontent-%COMP%]{height:300px!important}.legend-items[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:var(--spacing-xs)}.legend-item[_ngcontent-%COMP%]{font-size:.8rem}}.map-loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:400px;background:var(--background-light);border-radius:var(--border-radius)}.loading-spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid var(--primary-color);border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var We=class o{afroshops=[{id:1,name:"Mama Afrika Restaurant",type:"restaurant",address:"M\xFCllerstra\xDFe 123, 13349 Berlin",coordinates:{lat:52.52,lng:13.405},phone:"+49 30 12345678",description:"Authentisches Restaurant mit westafrikanischen Spezialit\xE4ten. Warme Atmosph\xE4re und traditionelle Gerichte mit Liebe zubereitet. Spezialit\xE4ten: Jollof Rice, Poulet Yassa, Atti\xE9k\xE9.",rating:4.5,image:"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800&h=600&fit=crop",cuisine:"Westafrikanische",priceLevel:2,hours:"Mo-So: 12:00-22:00",products:[],impressumName:"Max Mustermann",impressumAddress:"Musterstra\xDFe 1, 12345 Berlin",impressumEmail:"info@mama-afrika.de",impressumPhone:"+49 30 12345678",impressumText:"USt-ID: DE123456789, Gesch\xE4ftsf\xFChrer: Max Mustermann"},{id:7,name:"Afro Palace Dortmund",type:"restaurant",address:"Kampstra\xDFe 45, 44137 Dortmund",coordinates:{lat:51.5136,lng:7.4653},phone:"+49 231 567890",description:"Das beste afrikanische Restaurant im Herzen von Dortmund. Bekannt f\xFCr authentische nigerianische und ghanaische K\xFCche.",rating:4.7,image:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=800&h=600&fit=crop",cuisine:"Westafrikanische",priceLevel:2,hours:"Di-So: 17:00-23:00",products:[],impressumName:"Fatou Ndiaye",impressumAddress:"Kampstra\xDFe 45, 44137 Dortmund",impressumEmail:"kontakt@afro-palace.de",impressumPhone:"+49 231 567890",impressumText:"USt-ID: DE987654321, Gesch\xE4ftsf\xFChrer: Fatou Ndiaye"},{id:8,name:"Sahara Markt Dortmund",type:"epicerie",address:"Steinstra\xDFe 33, 44147 Dortmund",coordinates:{lat:51.52,lng:7.46},phone:"+49 231 445566",description:"Gr\xF6\xDFter afrikanischer Supermarkt in Dortmund. Frische Produkte, Gew\xFCrze und Spezialit\xE4ten aus ganz Afrika.",rating:4.3,image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop",priceLevel:1,hours:"Mo-Sa: 09:00-20:00",products:[],impressumName:"Aminata Diallo",impressumAddress:"Steinstra\xDFe 33, 44147 Dortmund",impressumEmail:"info@sahara-markt.de",impressumPhone:"+49 231 445566",impressumText:"USt-ID: DE192837465, Inhaberin: Aminata Diallo"},{id:9,name:"Style Africain Dortmund",type:"coiffeur",address:"Rheinische Stra\xDFe 89, 44137 Dortmund",coordinates:{lat:51.51,lng:7.47},phone:"+49 231 778899",description:"Spezialisiert auf afrikanische Frisuren, Braiding und Extensions. Erfahrene Stylisten aus ganz Afrika.",rating:4.6,image:"https://images.unsplash.com/photo-1562322140-8198e5d5067e?w=800&h=600&fit=crop",priceLevel:2,hours:"Mo-Sa: 10:00-19:00",products:[],impressumName:"Binta Traor\xE9",impressumAddress:"Rheinische Stra\xDFe 89, 44137 Dortmund",impressumEmail:"kontakt@style-africain.de",impressumPhone:"+49 231 778899",impressumText:"USt-ID: DE564738291, Inhaberin: Binta Traor\xE9"},{id:10,name:"Kilimanjaro Hamburg",type:"restaurant",address:"Gro\xDFe Bergstra\xDFe 123, 22767 Hamburg",coordinates:{lat:53.5511,lng:9.9937},phone:"+49 40 334455",description:"Ostafriikanisches Restaurant mit Swahili-K\xFCche. Authentische Gerichte aus Tansania und Kenia.",rating:4.4,image:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=800&h=600&fit=crop",cuisine:"Ostafrikanische",priceLevel:3,hours:"Mi-So: 18:00-23:00",products:[],impressumName:"John Mushi",impressumAddress:"Gro\xDFe Bergstra\xDFe 123, 22767 Hamburg",impressumEmail:"info@kilimanjaro-hamburg.de",impressumPhone:"+49 40 334455",impressumText:"USt-ID: DE246813579, Gesch\xE4ftsf\xFChrer: John Mushi"},{id:11,name:"Baobab Markt Hamburg",type:"epicerie",address:"Steindamm 55, 20099 Hamburg",coordinates:{lat:53.555,lng:10.005},phone:"+49 40 667788",description:"Afrikanische Lebensmittel und Produkte im Zentrum von Hamburg. Von Kochbananen bis Shea-Butter.",rating:4.2,image:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=800&h=600&fit=crop",priceLevel:2,hours:"Mo-Sa: 08:00-20:00",products:[],impressumName:"Samuel Baobab",impressumAddress:"Steindamm 55, 20099 Hamburg",impressumEmail:"kontakt@baobab-markt.de",impressumPhone:"+49 40 667788",impressumText:"USt-ID: DE135792468, Inhaber: Samuel Baobab"},{id:12,name:"Senegal Eck K\xF6ln",type:"restaurant",address:"Venloer Stra\xDFe 234, 50823 K\xF6ln",coordinates:{lat:50.9375,lng:6.9603},phone:"+49 221 889900",description:"Traditionelles senegalesisches Restaurant. Thieboudienne und Yassa-Spezialit\xE4ten in gem\xFCtlicher Atmosph\xE4re.",rating:4.8,image:"https://images.unsplash.com/photo-1493770348161-369560ae357d?w=800&h=600&fit=crop",cuisine:"Senegalesische",priceLevel:2,hours:"Do-Mo: 17:00-22:00",products:[],impressumName:"Mamadou Diop",impressumAddress:"Venloer Stra\xDFe 234, 50823 K\xF6ln",impressumEmail:"info@senegal-eck.de",impressumPhone:"+49 221 889900",impressumText:"USt-ID: DE112233445, Gesch\xE4ftsf\xFChrer: Mamadou Diop"},{id:13,name:"Afrika Center K\xF6ln",type:"services",address:"Wilhelmsplatz 12, 50674 K\xF6ln",coordinates:{lat:50.94,lng:6.95},phone:"+49 221 445566",description:"Beratungszentrum f\xFCr afrikanische Community. Geldtransfer, Visa-Service und kulturelle Veranstaltungen.",rating:4.1,image:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop",priceLevel:1,hours:"Mo-Fr: 09:00-18:00",impressumName:"Awa Sarr",impressumAddress:"Wilhelmsplatz 12, 50674 K\xF6ln",impressumEmail:"kontakt@afrika-center.de",impressumPhone:"+49 221 445566",impressumText:"USt-ID: DE556677889, Inhaberin: Awa Sarr"},{id:14,name:"Addis Abeba Frankfurt",type:"restaurant",address:"Leipziger Stra\xDFe 78, 60487 Frankfurt am Main",coordinates:{lat:50.1109,lng:8.6821},phone:"+49 69 778899",description:"\xC4thiopisches Restaurant mit traditioneller Injera und Wat. Authentische Gew\xFCrze direkt aus \xC4thiopien.",rating:4.6,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=800&h=600&fit=crop",cuisine:"\xC4thiopische",priceLevel:2,hours:"Di-So: 17:30-23:00",impressumName:"Abeba Tesfaye",impressumAddress:"Leipziger Stra\xDFe 78, 60487 Frankfurt am Main",impressumEmail:"info@addisabeba-ffm.de",impressumPhone:"+49 69 778899",impressumText:"USt-ID: DE998877665, Inhaberin: Abeba Tesfaye"},{id:15,name:"Wax Print Fashion Frankfurt",type:"vetement",address:"Kaiserstra\xDFe 199, 60311 Frankfurt am Main",coordinates:{lat:50.115,lng:8.685},phone:"+49 69 556677",description:"Traditionelle afrikanische Mode und moderne Designs. Wax-Print Stoffe und ma\xDFgeschneiderte Kleidung.",rating:4.5,image:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=800&h=600&fit=crop",priceLevel:3,hours:"Mo-Sa: 11:00-19:00",impressumName:"Fatimata Sow",impressumAddress:"Kaiserstra\xDFe 199, 60311 Frankfurt am Main",impressumEmail:"kontakt@waxprintfashion.de",impressumPhone:"+49 69 556677",impressumText:"USt-ID: DE334455667, Inhaberin: Fatimata Sow"},{id:2,name:"Afro Market Hamburg",type:"epicerie",address:"Steindamm 78, 20099 Hamburg",coordinates:{lat:53.5511,lng:10.0067},phone:"+49 40 87654321",description:"Vollst\xE4ndiger afrikanischer Supermarkt mit frischen Produkten, authentischen Gew\xFCrzen, Kosmetik und traditionellen Artikeln. Gro\xDFe Auswahl an tropischen Gem\xFCsen und direkt aus Afrika importierten Produkten.",rating:4.3,image:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=800&h=600&fit=crop",priceLevel:2,hours:"Mo-Sa: 09:00-20:00",impressumName:"Koffi Mensah",impressumAddress:"Steindamm 78, 20099 Hamburg",impressumEmail:"info@afro-market-hamburg.de",impressumPhone:"+49 40 87654321",impressumText:"USt-ID: DE445566778, Inhaber: Koffi Mensah"},{id:3,name:"Salon Nappy Queen",type:"coiffeur",address:"K\xF6nigstra\xDFe 45, 70173 Stuttgart",coordinates:{lat:48.7758,lng:9.1829},phone:"+49 711 98765432",description:"Friseursalon spezialisiert auf afro und krauses Haar. Flechtwerk, Gl\xE4ttung, nat\xFCrliche Pflege und sch\xFCtzende Frisuren. Erfahrenes Team und hochwertige Produkte.",rating:4.8,image:"https://images.unsplash.com/photo-1560066984-138dadb4c035?w=800&h=600&fit=crop",priceLevel:3,hours:"Di-Sa: 10:00-19:00",impressumName:"Nadia Nappy",impressumAddress:"K\xF6nigstra\xDFe 45, 70173 Stuttgart",impressumEmail:"kontakt@nappyqueen.de",impressumPhone:"+49 711 98765432",impressumText:"USt-ID: DE556644332, Inhaberin: Nadia Nappy"},{id:4,name:"Le Baobab M\xFCnchen",type:"restaurant",address:"Landwehrstra\xDFe 32, 80336 M\xFCnchen",coordinates:{lat:48.1351,lng:11.582},phone:"+49 89 11223344",description:"Elegantes senegalesisches Restaurant mit raffinierter K\xFCche. Modernes Ambiente mit traditionellen Akzenten. Spezialit\xE4ten: Thieboudienne, Maf\xE9, hausgemachter Bissap.",rating:4.6,image:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&h=600&fit=crop",cuisine:"Senegalesische",priceLevel:3,hours:"Mi-So: 18:00-23:00",impressumName:"Cheikh Baobab",impressumAddress:"Landwehrstra\xDFe 32, 80336 M\xFCnchen",impressumEmail:"info@lebaobab-muenchen.de",impressumPhone:"+49 89 11223344",impressumText:"USt-ID: DE223344556, Gesch\xE4ftsf\xFChrer: Cheikh Baobab"},{id:5,name:"Afrika Mode K\xF6ln",type:"vetement",address:"Ehrenstra\xDFe 67, 50672 K\xF6ln",coordinates:{lat:50.9375,lng:6.9603},phone:"+49 221 55667788",description:"Afrikanische Modeboutique mit traditioneller und zeitgen\xF6ssischer Kleidung. Wax, Bogolan, Dashiki, authentischer Schmuck und Accessoires. Ma\xDFanfertigung verf\xFCgbar.",rating:4.4,image:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=800&h=600&fit=crop",priceLevel:3,hours:"Mo-Sa: 10:00-19:00",impressumName:"Aminata Mode",impressumAddress:"Ehrenstra\xDFe 67, 50672 K\xF6ln",impressumEmail:"info@afrikamode-koeln.de",impressumPhone:"+49 221 55667788",impressumText:"USt-ID: DE667788990, Inhaberin: Aminata Mode"},{id:6,name:"Transfert Afrika Services",type:"services",address:"Warschauer Str. 34, 10243 Berlin",coordinates:{lat:52.5058,lng:13.4498},phone:"+49 30 99887766",description:"Geldtransfer nach Afrika, W\xE4hrungswechsel und Finanzberatung. Offizieller Partner von Western Union und Money Gram. Schneller und sicherer Service.",rating:4.2,image:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=600&fit=crop",priceLevel:1,hours:"Mo-Fr: 09:00-18:00, Sa: 10:00-16:00",impressumName:"Moussa Traor\xE9",impressumAddress:"Warschauer Str. 34, 10243 Berlin",impressumEmail:"kontakt@transfert-afrika.de",impressumPhone:"+49 30 99887766",impressumText:"USt-ID: DE778899001, Inhaber: Moussa Traor\xE9"}];constructor(){}getAllAfroshops(){return this.afroshops}getAfroshopById(t){return this.afroshops.find(e=>e.id==t)}getAfroshopsByType(t){return this.afroshops.filter(e=>e.type===t)}searchAfroshops(t){let e=t.toLowerCase();return this.afroshops.filter(n=>n.name.toLowerCase().includes(e)||n.cuisine?.toLowerCase().includes(e)||n.description.toLowerCase().includes(e))}getAfroshopsByCity(t){if(!t)return this.afroshops;let n={berlin:["Berlin"],hamburg:["Hamburg"],m\u00FCnchen:["M\xFCnchen","Munich"],k\u00F6ln:["K\xF6ln","Cologne"],frankfurt:["Frankfurt am Main","Frankfurt"],stuttgart:["Stuttgart"],d\u00FCsseldorf:["D\xFCsseldorf"],dortmund:["Dortmund"],essen:["Essen"],leipzig:["Leipzig"],bremen:["Bremen"],dresden:["Dresden"],hannover:["Hannover"],n\u00FCrnberg:["N\xFCrnberg","Nuremberg"]}[t.toLowerCase()]||[t];return this.afroshops.filter(s=>n.some(d=>s.address.toLowerCase().includes(d.toLowerCase())))}static \u0275fac=function(e){return new(e||o)};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};var U=class o{constructor(t,e){this.firestore=t;this.storage=e}getAllAfroshops(){console.log("\u{1F525} D\xE9but getAllAfroshops()");let t=he(this.firestore,"afroshops");return kt(qi(t)).pipe(ue(e=>{console.log("\u{1F525} Documents bruts depuis Firebase:",e.size);let n=[];e.forEach(d=>{let c=d.data();c.id=d.id,n.push(c)}),console.log("\u{1F525} Premier document:",n[0]),console.log("\u{1F525} Tous les noms:",n.map(d=>d.name));let s=n.map(d=>this.mapFirebaseDocToAfroshopData(d));return console.log("\u{1F525} Documents mapp\xE9s:",s.length),console.log("\u{1F525} Noms apr\xE8s mapping:",s.map(d=>d.name)),s.sort((d,c)=>d.name.localeCompare(c.name)),s}))}mapFirebaseDocToAfroshopData(t){console.log("\u{1F525} Mapping document:",t.name,t);let e={id:t.id,name:t.name||"",type:t.type||"services",address:t.address||"",coordinates:{lat:t.coordinates?.lat||0,lng:t.coordinates?.lng||0},phone:t.phone||"",description:t.description||"",rating:t.rating||4,image:t.image||"",cuisine:t.cuisine||"",priceLevel:t.priceLevel||2,hours:t.hours||"",website:t.website||"",products:Array.isArray(t.products)?t.products:[],impressumName:t.impressumName||"",impressumAddress:t.impressumAddress||"",impressumEmail:t.impressumEmail||"",impressumPhone:t.impressumPhone||"",impressumText:t.impressumText||"",createdBy:t.createdBy,createdByName:t.createdByName,createdAt:t.createdAt,verified:t.verified,iban:t.iban||"",bic:t.bic||""};return console.log("\u{1F525} R\xE9sultat mapping:",e.name,e),console.log("\u{1F525} CreatedBy dans mapping:",e.createdBy),console.log("\u{1F525} Impressum dans mapping:",{name:e.impressumName,address:e.impressumAddress,email:e.impressumEmail,phone:e.impressumPhone}),e}getAfroshopsByCity(t){let e=he(this.firestore,"afroshops"),n=De(e,Be("name")),s=c=>c.toLowerCase().normalize("NFD").replace(/[ -- --]/g,"").replace(/[-_ ]/g,"").trim(),d=s(t);return Ie(n,{idField:"id"}).pipe(ue(c=>c.filter(g=>g.city&&s(g.city).includes(d))))}getAfroshopsByType(t){let e=he(this.firestore,"afroshops"),n=De(e,Ne("type","==",t),Be("rating","desc"));return Ie(n,{idField:"id"})}getAfroshopById(t){return S(this,null,function*(){try{let e=Ae(this.firestore,"afroshops",t),n=yield ot(e);if(n.exists()){let s=n.data();return this.mapFirebaseDocToAfroshopData(j(G({},s),{id:n.id}))}return}catch(e){console.error("Fehler beim Laden des Afroshops:",e);return}})}addAfroshop(t){return S(this,null,function*(){let e=he(this.firestore,"afroshops"),n=j(G({},t),{createdAt:new Date,updatedAt:new Date,views:0,likes:0,verified:!1});return(yield Rt(e,n)).id})}updateAfroshop(t,e){return S(this,null,function*(){let n=Ae(this.firestore,"afroshops",t),s=j(G({},e),{updatedAt:new Date});yield yn(n,s)})}deleteAfroshop(t){return S(this,null,function*(){let e=Ae(this.firestore,"afroshops",t);yield Hi(e)})}searchAfroshops(t){let e=he(this.firestore,"afroshops"),n=De(e,Ne("name",">=",t),Ne("name","<=",t+"\uF8FF"),vn(20));return Ie(n,{idField:"id"})}getTopRatedAfroshops(t=10){let e=he(this.firestore,"afroshops"),n=De(e,Ne("verified","==",!0),Be("rating","desc"),vn(t));return Ie(n,{idField:"id"})}incrementViews(t){return S(this,null,function*(){try{let e=Ae(this.firestore,"afroshops",t);yield yn(e,{views:1})}catch(e){console.error("Erreur lors de l'incr\xE9mentation des vues:",e)}})}uploadImage(t){return S(this,null,function*(){try{if(console.log("\u{1F525} Firebase Storage upload d\xE9marr\xE9..."),console.log("\u{1F4C1} Fichier \xE0 upload:",t.name,`${(t.size/1024).toFixed(0)}KB`),!this.storage)throw new Error("Firebase Storage non initialis\xE9");let e=Date.now(),n=t.name.replace(/[^a-zA-Z0-9.-]/g,"_"),s=`afroshops/${e}_${n}`;console.log("\u{1F4DD} Nom du fichier:",s);let d=Ir(this.storage,s);console.log("\u{1F4CD} R\xE9f\xE9rence cr\xE9\xE9e:",d),console.log("\u2B06\uFE0F Upload en cours...");let c=yield Ar(d,t);console.log("\u2705 Upload termin\xE9, snapshot:",c),console.log("\u{1F517} R\xE9cup\xE9ration URL...");let g=yield kr(c.ref);return console.log("\u2705 URL obtenue:",g),g}catch(e){throw console.error("\u274C Erreur Firebase Storage:",e),console.error("\u274C Type d'erreur:",typeof e),console.error("\u274C Stack:",e instanceof Error?e.stack:"Pas de stack"),e instanceof Error?new Error(`Firebase Storage Fehler: ${e.message}`):new Error("Unbekannter Firebase Storage Fehler")}})}static \u0275fac=function(e){return new(e||o)(Q(xe),Q(Xe))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};var Se=class o{businessTypeTranslations={restaurant:"Restaurant",epicerie:"Lebensmittelgesch\xE4ft",coiffeur:"Friseur",vetement:"Modegesch\xE4ft",services:"Dienstleistungen"};businessTypePlural={restaurant:"Restaurants",epicerie:"Lebensmittelgesch\xE4fte",coiffeur:"Friseure",vetement:"Modegesch\xE4fte",services:"Dienstleistungen"};businessTypeIcons={restaurant:"\u{1F37D}\uFE0F",epicerie:"\u{1F6D2}",coiffeur:"\u2702\uFE0F",vetement:"\u{1F457}",services:"\u{1F3E6}"};errorMessages={"auth/user-not-found":"Benutzer nicht gefunden","auth/wrong-password":"Falsches Passwort","auth/email-already-in-use":"E-Mail-Adresse wird bereits verwendet","auth/weak-password":"Passwort ist zu schwach","auth/invalid-email":"Ung\xFCltige E-Mail-Adresse","auth/popup-blocked":"Popup wurde blockiert. Bitte erlauben Sie Popups f\xFCr diese Website.","auth/popup-closed-by-user":"Anmeldung wurde abgebrochen","auth/cancelled-popup-request":"Anmeldung wurde abgebrochen","popup-blocked":"Popup wurde von Ihrem Browser blockiert","connection-error":"Verbindungsfehler. \xDCberpr\xFCfen Sie Ihre Internetverbindung.","general-error":"Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut."};generalMessages={"login-success":"Erfolgreich angemeldet!","logout-success":"Erfolgreich abgemeldet!","registration-success":"Konto erfolgreich erstellt!","data-saved":"Daten erfolgreich gespeichert!","data-deleted":"Daten erfolgreich gel\xF6scht!",loading:"Wird geladen...",saving:"Wird gespeichert...","confirma-delete":"Sind Sie sicher, dass Sie dies l\xF6schen m\xF6chten?"};getBusinessTypeName(t,e=!1){return e?this.businessTypePlural[t]||t:this.businessTypeTranslations[t]||t}getBusinessTypeIcon(t){return this.businessTypeIcons[t]||"\u{1F3EA}"}getBusinessTypeDisplay(t,e=!1){let n=this.getBusinessTypeIcon(t),s=this.getBusinessTypeName(t,e);return`${n} ${s}`}getErrorMessage(t){return this.errorMessages[t]||this.errorMessages["general-error"]}getMessage(t){return this.generalMessages[t]||t}getAllBusinessTypes(){return Object.keys(this.businessTypeTranslations).map(t=>({value:t,label:this.businessTypeTranslations[t],icon:this.businessTypeIcons[t]}))}static \u0275fac=function(e){return new(e||o)};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};var T=class o{constructor(t,e){this.auth=t;this.translationService=e;this.user$=Li(this.auth)}user$;register(t,e,n){return S(this,null,function*(){try{let s=yield Fi(this.auth,t,e);return n&&s.user&&(yield Vi(s.user,{displayName:n})),{uid:s.user.uid,email:s.user.email,displayName:n||s.user.displayName,photoURL:s.user.photoURL}}catch(s){throw console.error("Erreur lors de l'inscription:",s),this.handleAuthError(s)}})}login(t,e){return S(this,null,function*(){try{let n=yield Bi(this.auth,t,e);return{uid:n.user.uid,email:n.user.email,displayName:n.user.displayName,photoURL:n.user.photoURL}}catch(n){throw console.error("Erreur lors de la connexion:",n),this.handleAuthError(n)}})}loginWithGoogle(){return S(this,null,function*(){try{console.log("\u{1F680} Initialisation du provider Google...");let t=new Ai;t.setCustomParameters({prompt:"select_account"}),console.log("\u{1F50D} V\xE9rification du support des popups..."),this.checkPopupSupport(),console.log("\u{1F510} Tentative de connexion avec popup...");let e=yield Ni(this.auth,t);return console.log("\u2705 Connexion r\xE9ussie, utilisateur:",e.user.email),{uid:e.user.uid,email:e.user.email,displayName:e.user.displayName,photoURL:e.user.photoURL}}catch(t){throw console.error("\u274C Erreur d\xE9taill\xE9e:",{name:t.name,code:t.code,message:t.message,customData:t.customData}),t.code==="auth/popup-blocked"?console.log("\u{1F6AB} Popup bloqu\xE9e d\xE9tect\xE9e"):t.code==="auth/popup-closed-by-user"?console.log("\u{1F44B} Popup ferm\xE9e par l'utilisateur"):t.code==="auth/cancelled-popup-request"&&console.log("\u{1F504} Requ\xEAte popup annul\xE9e"),this.handleAuthError(t)}})}checkPopupSupport(){try{let t=window.open("","_blank","width=1,height=1");if(t)t.close();else throw new Error("popup-blocked")}catch{throw new Error("popup-blocked")}}logout(){return S(this,null,function*(){try{yield Gi(this.auth)}catch(t){throw console.error("Erreur lors de la d\xE9connexion:",t),this.handleAuthError(t)}})}getCurrentUser(){return this.auth.currentUser}isLoggedIn(){return this.getCurrentUser()!==null}handleAuthError(t){let e="Ein Fehler ist aufgetreten";if(t.code)switch(t.code){case"auth/email-already-in-use":e=this.translationService.getErrorMessage("auth/email-already-in-use");break;case"auth/weak-password":e=this.translationService.getErrorMessage("auth/weak-password");break;case"auth/invalid-email":e=this.translationService.getErrorMessage("auth/invalid-email");break;case"auth/user-not-found":e=this.translationService.getErrorMessage("auth/user-not-found");break;case"auth/wrong-password":e=this.translationService.getErrorMessage("auth/wrong-password");break;case"auth/too-many-requests":e="Zu viele Versuche. Bitte versuchen Sie es sp\xE4ter erneut";break;case"auth/user-disabled":e="Dieses Konto wurde deaktiviert";break;case"auth/operation-not-allowed":e="Diese Operation ist nicht erlaubt";break;case"auth/popup-closed-by-user":e=this.translationService.getErrorMessage("auth/popup-closed-by-user");break;case"auth/popup-blocked":e=this.translationService.getErrorMessage("auth/popup-blocked");break;case"popup-blocked":e=this.translationService.getErrorMessage("popup-blocked");break;case"auth/cancelled-popup-request":e=this.translationService.getErrorMessage("auth/cancelled-popup-request");break;default:e=this.translationService.getErrorMessage("general-error")}return new Error(e)}static \u0275fac=function(e){return new(e||o)(Q(Di),Q(Se))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};var Ht=class o{constructor(){}getCurrentPosition(){return new Ke(t=>{if(!navigator.geolocation){console.error("Geolocation ist in diesem Browser nicht verf\xFCgbar"),t.next(null),t.complete();return}let e={enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5};navigator.geolocation.getCurrentPosition(n=>{let s={lat:n.coords.latitude,lng:n.coords.longitude,accuracy:n.coords.accuracy,timestamp:n.timestamp};t.next(s),t.complete()},n=>{switch(console.error("Fehler beim Abrufen der Position:",n),n.code){case n.PERMISSION_DENIED:console.error("Standortzugriff wurde verweigert");break;case n.POSITION_UNAVAILABLE:console.error("Standortinformationen nicht verf\xFCgbar");break;case n.TIMEOUT:console.error("Zeit\xFCberschreitung beim Abrufen des Standorts");break}t.next(null),t.complete()},e)})}watchPosition(){return new Ke(t=>{if(!navigator.geolocation){t.next(null),t.complete();return}let e={enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4},n=navigator.geolocation.watchPosition(s=>{let d={lat:s.coords.latitude,lng:s.coords.longitude,accuracy:s.coords.accuracy,timestamp:s.timestamp};t.next(d)},s=>{console.error("Fehler beim \xDCberwachen der Position:",s),t.next(null)},e);return()=>{navigator.geolocation.clearWatch(n)}})}calculateDistance(t,e,n,s){let c=this.deg2rad(n-t),g=this.deg2rad(s-e),v=Math.sin(c/2)*Math.sin(c/2)+Math.cos(this.deg2rad(t))*Math.cos(this.deg2rad(n))*Math.sin(g/2)*Math.sin(g/2),I=6371*(2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)));return Math.round(I*100)/100}deg2rad(t){return t*(Math.PI/180)}isGeolocationSupported(){return"geolocation"in navigator}static \u0275fac=function(e){return new(e||o)};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};Mt();var ga="https://nominatim.openstreetmap.org/search",je=class o{constructor(t){this.http=t}GOOGLE_MAPS_API_KEY=Te.googleMapsApiKey;GEOCODING_URL="https://maps.googleapis.com/maps/api/geocode/json";getTravelDuration(t,e){let n=this.GOOGLE_MAPS_API_KEY,s="https://maps.googleapis.com/maps/api/directions/json",c=["driving","walking"].map(g=>{let v=`${s}?origin=${t.lat},${t.lng}&destination=${e.lat},${e.lng}&mode=${g}&key=${n}`;return this.http.get(v).pipe(ue(O=>O.routes?.length&&O.routes[0].legs?.length?{mode:g,duration:O.routes[0].legs[0].duration.text}:{mode:g,duration:void 0}),Le(()=>Pe({mode:g,duration:void 0})))});return new Ke(g=>{let v={},O=0;c.forEach(I=>{I.subscribe(L=>{v[L.mode]=L.duration,O++,O===c.length&&(g.next({driving:v.driving,walking:v.walking}),g.complete())})})})}geocodeWithGoogleMaps(t){let e={address:t,key:this.GOOGLE_MAPS_API_KEY,language:"de",region:"de"};return this.http.get(this.GEOCODING_URL,{params:e}).pipe(ue(n=>{if(n.status==="OK"&&n.results?.length>0){let s=n.results[0],d=s.geometry.location;return{lat:d.lat,lng:d.lng,formatted_address:s.formatted_address,place_id:s.place_id,accuracy:"APPROXIMATE"}}return null}),Le(n=>(console.error("\u274C Erreur g\xE9ocodage Google Maps:",n),Pe(null))))}geocodeWithNominatim(t){let e={q:t,format:"json",addressdetails:"1",limit:"1",countrycodes:"de,be,fr,ch,lu,at,nl"};return this.http.get(ga,{params:e}).pipe(ue(n=>{if(n?.length>0){let s=n[0];return{lat:parseFloat(s.lat),lng:parseFloat(s.lon),formatted_address:s.display_name,accuracy:s.type}}return null}),Le(n=>(console.error("\u274C Erreur Nominatim:",n),Pe(null))))}extractCityFromAddress(t){let e=t.match(/\b(\d{5})\b/);if(e){let s=t.split(e[0]);if(s.length>1)return s[1].replace(/[^a-zA-Z\s,]/g,"").trim().split(",").map(g=>g.trim()).filter(Boolean)[0]||null}let n=t.split(",").map(s=>s.trim()).filter(Boolean);return n.length>1?n[n.length-1]:null}geocodeWithFallback(t){let e=t.toLowerCase(),n=Object.entries(this.CITY_COORDINATES).sort((s,d)=>d[0].length-s[0].length);for(let[s,d]of n)if(new RegExp(`\\b${s}\\b`,"i").test(e))return{lat:d.lat,lng:d.lng,formatted_address:`${s}, Deutschland`,accuracy:"APPROXIMATE"};return console.warn("\u26A0\uFE0F Fallback \u2014 aucune correspondance trouv\xE9e:",t),null}CITY_COORDINATES={berlin:{lat:52.52,lng:13.405},hamburg:{lat:53.5511,lng:9.9937},m\u00FCnchen:{lat:48.1351,lng:11.582},k\u00F6ln:{lat:50.9375,lng:6.9603},frankfurt:{lat:50.1109,lng:8.6821},stuttgart:{lat:48.7758,lng:9.1829},dortmund:{lat:51.5136,lng:7.4653},leipzig:{lat:51.3397,lng:12.3731}};reverseGeocode(t,e){if(!this.GOOGLE_MAPS_API_KEY)return Pe({address:`${t.toFixed(4)}, ${e.toFixed(4)}`});let n={latlng:`${t},${e}`,key:this.GOOGLE_MAPS_API_KEY,language:"de",region:"de"};return this.http.get(this.GEOCODING_URL,{params:n}).pipe(ue(s=>{if(s.status==="OK"&&s.results?.length){let d=s.results[0];return{address:d.formatted_address,components:this.parseAddressComponents(d.address_components)}}return null}),Le(s=>(console.error("\u274C Erreur g\xE9ocodage inverse:",s),Pe(null))))}parseAddressComponents(t){let e={};return t.forEach(n=>{n.types.includes("street_number")&&(e.street_number=n.long_name),n.types.includes("route")&&(e.route=n.long_name),n.types.includes("locality")&&(e.locality=n.long_name),n.types.includes("postal_code")&&(e.postal_code=n.long_name),n.types.includes("country")&&(e.country=n.long_name)}),e}isValidCoordinates(t,e){return t!==0&&e!==0&&t>=-90&&t<=90&&e>=-180&&e<=180}calculateDistance(t,e,n,s){let c=this.deg2rad(n-t),g=this.deg2rad(s-e),v=Math.sin(c/2)**2+Math.cos(this.deg2rad(t))*Math.cos(this.deg2rad(n))*Math.sin(g/2)**2;return 6371*(2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)))}deg2rad(t){return t*(Math.PI/180)}geocodeAddress(t){if(!t||t.trim().length===0)return Pe(null);let e=t.trim();return this.GOOGLE_MAPS_API_KEY&&this.GOOGLE_MAPS_API_KEY!=="YOUR_GOOGLE_MAPS_API_KEY"?this.geocodeWithGoogleMaps(e).pipe(Le(n=>this.geocodeWithNominatim(e).pipe(Le(()=>Pe(this.geocodeWithFallback(e)))))):this.geocodeWithNominatim(e).pipe(Le(()=>Pe(this.geocodeWithFallback(e))))}static \u0275fac=function(e){return new(e||o)(Q(ni))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};function ua(o,t){if(o&1){let e=k();r(0,"button",46),b("click",function(){u(e);let s=m();return h(s.openSettings())}),a(1,"\u2699\uFE0F"),i()}}function ha(o,t){if(o&1&&(r(0,"span",52),a(1),i()),o&2){let e=m(2);l(),V("",e.texts.around," ",e.getSelectedCityName(),"")}}function fa(o,t){if(o&1&&(r(0,"span",53),a(1),i()),o&2){let e=m(2);l(),V("",e.texts.around," ",e.texts.yourLocation,"")}}function _a(o,t){if(o&1&&(r(0,"div",47)(1,"div",48),a(2),f(3,ha,2,2,"span",49)(4,fa,2,2,"span",50),i(),r(5,"div",51),a(6),i()()),o&2){let e=m();l(2),x(" \u{1F3AF} ",e.texts.searchRadius," "),l(),p("ngIf",e.selectedCity),l(),p("ngIf",!e.selectedCity),l(2),Zn(" ",e.filteredAfroshops.length," ",e.texts.resultsCount," ",e.allAfroshops.length," ",e.texts.shopsDisplayed," ")}}function ba(o,t){if(o&1){let e=k();r(0,"div",54)(1,"app-map",55),b("shopSelected",function(s){u(e);let d=m();return h(d.viewAfroshopDetail(s))}),i()()}if(o&2){let e=m();l(),p("afroshops",e.filteredAfroshops)("userLocation",e.userLocation)}}function xa(o,t){if(o&1){let e=k();r(0,"button",76),b("click",function(s){u(e);let d=m().$implicit,c=m(2);return h(c.editAfroshop(s,d.id))}),a(1," \u270F\uFE0F "),i()}if(o&2){let e=m(3);p("title",e.texts.edit)}}function va(o,t){if(o&1&&(r(0,"span"),a(1),i()),o&2){let e=m(2).$implicit,n=m(2);l(),V(" ",n.getDirectionsDuration(e)," \u2013 ",n.getTravelDurationDisplay(e)," ")}}function ya(o,t){if(o&1&&(r(0,"div",77),a(1),f(2,va,2,2,"span",78),i()),o&2){let e=m().$implicit,n=m(2);l(),x(" \u{1F3AF} ",n.getDistanceFromUser(e)," "),l(),p("ngIf",n.getTravelDurationDisplay(e))}}function Ca(o,t){if(o&1){let e=k();r(0,"div",58)(1,"div",59),b("click",function(){let s=u(e).$implicit,d=m(2);return h(d.viewAfroshopDetail(s.id))}),r(2,"img",60),b("error",function(s){let d=u(e).$implicit,c=m(2);return h(c.onImageError(s,d.type))}),i(),r(3,"div",61),a(4),i(),f(5,xa,2,1,"button",62),r(6,"div",63)(7,"span",64),a(8),i()()(),r(9,"div",65)(10,"h3",66),a(11),i(),r(12,"p",67),a(13),i(),r(14,"div",68)(15,"span",69),a(16),i(),r(17,"span",70),a(18),i(),r(19,"span",71),a(20),oe(21,"titlecase"),i()(),f(22,ya,3,2,"div",72),r(23,"div",73)(24,"a",74),a(25),i(),r(26,"a",75),a(27),i()()()()}if(o&2){let e=t.$implicit,n=m(2);l(2),p("src",e.image||n.getDefaultImage(e.type),te)("alt",e.name),l(),$e(e.type),l(),x(" ",n.getBusinessTypeDisplay(e.type)," "),l(),p("ngIf",n.canEditAfroshop(e)),l(3),x("\u{1F4CD} ",n.texts.viewDetails,""),l(3),_(e.name),l(2),x("\u{1F4CD} ",n.getLocationDisplay(e.address),""),l(3),x("\u2B50 ",e.rating,""),l(2),_(n.getPriceLevel(e.priceLevel)),l(2),_(it(21,17,e.type)),l(2),p("ngIf",n.userLocation),l(2),p("href",n.getGoogleMapsUrl(e.address),te),l(),x("\u{1F5FA}\uFE0F ",n.texts.showOnMap,""),l(),p("href",n.getGoogleMapsRouteUrl(e.address),te),l(),x("\u{1F697} ",n.texts.route,"")}}function Ma(o,t){if(o&1&&(r(0,"div",56),f(1,Ca,28,19,"div",57),i()),o&2){let e=m();l(),p("ngForOf",e.filteredAfroshops)}}function wa(o,t){if(o&1){let e=k();r(0,"div",79)(1,"div",80)(2,"div",81),a(3,"\u{1F50D}"),i(),r(4,"h3"),a(5,"Kein Gesch\xE4ft gefunden"),i(),r(6,"p"),a(7,"Kein Afroshop entspricht deinen Suchkriterien"),i(),r(8,"button",82),b("click",function(){u(e);let s=m();return h(s.clearSearch())}),a(9," Alle Gesch\xE4fte anzeigen "),i()()()}}var qt=class o{constructor(t,e,n,s,d,c,g,v,O){this.afroshopService=t;this.firebaseService=e;this.authService=n;this.translationService=s;this.languageService=d;this.router=c;this.geolocationService=g;this.geocodingService=v;this.firestore=O;this.user$=this.authService.user$}langSub;texts={discover:"Entdecke",shopsNearYou:"afrikanische Gesch\xE4fte in deiner N\xE4he",addShopBtn:"Gesch\xE4ft hinzuf\xFCgen",filterByType:"Nach Type filtern:",allTypes:"Alle Typen",activateGPS:"GPS aktivieren",searchRadius:"Suche in 50km Umkreis",around:"um",yourLocation:"deinen Standort",resultsCount:"von",shopsDisplayed:"Afroshops angezeigt",yourCity:"Deine Stadt:",anyCityPlaceholder:"Jede deutsche Stadt...",search:"Suchen",popularCities:"Beliebte St\xE4dte...",confirm:"Best\xE4tigen",viewDetails:"Details ansehen",showOnMap:"Karte anzeigen",route:"Route",edit:"Bearbeiten",restaurant:"Restaurant",epicerie:"Lebensmittelgesch\xE4ft",coiffeur:"Friseur",vetement:"Bekleidung",services:"Dienstleistungen"};getGoogleMapsUrl(t){return t?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(t)}`:"https://maps.google.com"}getGoogleMapsRouteUrl(t){return t?`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(t)}`:"https://maps.google.com"}directionsService=null;travelDurations={};allAfroshops=[];filteredAfroshops=[];searchTerm="";selectedType="";selectedCity="";customCityName="";showMap=!1;userLocation=null;user$;isAdmin=!1;goToAddAfroshop(){this.authService.user$.subscribe(t=>{t?this.router.navigate(["/add-afroshop"]):this.router.navigate(["/login"],{queryParams:{returnUrl:"/add-afroshop"}})})}openSettings(){this.router.navigate(["/admin"])}cityCoordinates={berlin:{lat:52.52,lng:13.405},hamburg:{lat:53.5511,lng:9.9937},m\u00FCnchen:{lat:48.1351,lng:11.582},k\u00F6ln:{lat:50.9375,lng:6.9603},frankfurt:{lat:50.1109,lng:8.6821},stuttgart:{lat:48.7758,lng:9.1829},d\u00FCsseldorf:{lat:51.2277,lng:6.7735},dortmund:{lat:51.5136,lng:7.4653},essen:{lat:51.4556,lng:7.0116},leipzig:{lat:51.3397,lng:12.3731},bremen:{lat:53.0793,lng:8.8017},dresden:{lat:51.0504,lng:13.7373},hannover:{lat:52.3759,lng:9.732},n\u00FCrnberg:{lat:49.4521,lng:11.0767}};ngOnInit(){return S(this,null,function*(){this.langSub=this.languageService.currentLanguage$.subscribe(()=>{this.updateTranslations()}),this.updateTranslations(),this.authService.user$.subscribe(t=>S(this,null,function*(){if(t?.uid){let e=Ae(this.firestore,"roles/admins"),s=(yield ot(e)).data();console.log("[DEBUG] Firestore adminDoc:",s),console.log("[DEBUG] User UID:",t.uid),this.isAdmin=s?.uids?.includes(t.uid)??!1,console.log("[DEBUG] isAdmin:",this.isAdmin)}else this.isAdmin=!1,console.log("[DEBUG] Pas d'utilisateur connect\xE9, isAdmin:",this.isAdmin)})),window.google&&window.google.maps&&(this.directionsService=new window.google.maps.DirectionsService),navigator.geolocation&&navigator.geolocation.getCurrentPosition(t=>{this.userLocation={lat:t.coords.latitude,lng:t.coords.longitude}}),this.firebaseService.getAllAfroshops().subscribe({next:t=>{this.allAfroshops=this.fixInvalidCoordinates(t),this.filteredAfroshops=this.allAfroshops},error:t=>{console.error("Erreur lors du chargement Firebase:",t),this.allAfroshops=this.afroshopService.getAllAfroshops(),this.filteredAfroshops=this.allAfroshops}})})}onSearchChange(){this.applyFilters(),this.userLocation&&this.sortAfroshopsByDistance()}onTypeFilterChange(){this.applyFilters(),this.userLocation&&this.sortAfroshopsByDistance()}applyFilters(){let t=this.allAfroshops;if(this.userLocation&&(t=t.filter(e=>e.coordinates.lat===0&&e.coordinates.lng===0?!0:this.geolocationService.calculateDistance(this.userLocation.lat,this.userLocation.lng,e.coordinates.lat,e.coordinates.lng)<=50)),this.selectedType&&(t=t.filter(e=>e.type===this.selectedType)),this.searchTerm.trim()!==""){let e=this.searchTerm.toLowerCase();t=t.filter(n=>n.name.toLowerCase().includes(e)||n.cuisine?.toLowerCase().includes(e)||n.description.toLowerCase().includes(e))}this.filteredAfroshops=t}clearSearch(){this.searchTerm="",this.selectedType="",this.selectedCity="",this.userLocation=null,this.filteredAfroshops=this.allAfroshops,this.applyFilters()}viewAfroshopDetail(t){this.router.navigate(["/afroshop",t])}getTypeIcon(t){return{restaurant:"\u{1F37D}\uFE0F",epicerie:"\u{1F6D2}",coiffeur:"\u2702\uFE0F",vetement:"\u{1F457}",services:"\u{1F3E6}"}[t]}getPriceLevel(t){return"\u20AC".repeat(t)}toggleMapView(){this.showMap=!this.showMap}onCityChange(){if(this.customCityName="",this.selectedCity){let t=this.cityCoordinates[this.selectedCity];t&&(this.userLocation=t,this.applyFilters(),this.sortAfroshopsByDistance())}else this.userLocation=null,this.applyFilters()}useCurrentLocation(){if(!confirm(`\u{1F4CD} GPS Standort aktivieren?

AfroConnect m\xF6chte deinen Standort nutzen um:
\u{1F3AF} Afroshops in deiner N\xE4he zu finden
\u{1F4CF} Entfernungen genau zu berechnen
\u{1F5FA}\uFE0F Dir die beste Route zu zeigen

Dein Standort wird NICHT gespeichert und bleibt privat.

GPS jetzt aktivieren?`)){alert(`\u{1F44D} Kein Problem!

Du kannst jederzeit:
\u2022 Eine Stadt manuell eingeben
\u2022 Aus der Liste w\xE4hlen
\u2022 GPS sp\xE4ter aktivieren`);return}this.geolocationService.getCurrentPosition().subscribe({next:e=>{e?(this.userLocation={lat:e.lat,lng:e.lng},this.selectedCity="",this.applyFilters(),this.sortAfroshopsByDistance(),alert(`\u2705 Standort erfolgreich ermittelt!

\u{1F3AF} Afroshops werden jetzt nach Entfernung sortiert.
\u{1F4CF} Du siehst die genauen Distanzen zu jedem Gesch\xE4ft.`)):this.fallbackToDefaultLocationWithChoice()},error:e=>{this.handleGeolocationError(e)}})}handleGeolocationError(t){if(t.code)switch(t.code){case 1:this.showGPSActivationDialog();break;case 2:this.showGPSUnavailableDialog();break;case 3:this.showGPSTimeoutDialog();break;default:this.showGenericGPSError()}else this.showHTTPSRequiredDialog()}showGPSActivationDialog(){confirm(`\u{1F4CD} Standort-Zugriff erforderlich

Um Afroshops in deiner N\xE4he zu finden, ben\xF6tigt AfroConnect Zugriff auf deinen Standort.

\u2705 Schritte:
1. Klicke "OK" um die Berechtigung zu erteilen
2. W\xE4hle "Zulassen" wenn der Browser fragt
3. Bei iOS: Einstellungen > Safari > Standort aktivieren

M\xF6chtest du es nochmal versuchen?`)?this.useCurrentLocation():this.fallbackToDefaultLocationWithChoice()}showGPSUnavailableDialog(){confirm(`\u{1F6F0}\uFE0F GPS-Signal nicht verf\xFCgbar

Dein GPS-Signal ist momentan nicht erreichbar.

\u{1F4A1} L\xF6sungen:
\u2022 Gehe ins Freie oder n\xE4her zum Fenster
\u2022 Aktiviere GPS in den Ger\xE4te-Einstellungen
\u2022 Starte die App neu

Nochmal versuchen?`)?this.useCurrentLocation():this.fallbackToDefaultLocationWithChoice()}showGPSTimeoutDialog(){confirm(`\u23F1\uFE0F GPS-Anfrage zu langsam

Die Standort-Ermittlung dauert zu lange.

\u{1F4A1} Tipps:
\u2022 \xDCberpr\xFCfe deine Internetverbindung
\u2022 Gehe ins Freie f\xFCr besseres GPS-Signal
\u2022 Versuche es in ein paar Sekunden nochmal

Erneut versuchen?`)?this.useCurrentLocation():this.fallbackToDefaultLocationWithChoice()}showGenericGPSError(){alert(`\u274C Standort-Fehler

Ein unbekannter Fehler ist aufgetreten.

\u{1F4CD} Berlin wird als Standard verwendet.
Du kannst jederzeit eine Stadt manuell ausw\xE4hlen.`),this.fallbackToDefaultLocationWithChoice()}showHTTPSRequiredDialog(){let t=window.location.protocol==="https:";alert(t?`\u{1F527} Standort-Service Problem

Der Standort-Service ist momentan nicht verf\xFCgbar.

\u{1F4CD} Berlin wird als Standard verwendet.
Versuche es sp\xE4ter nochmal oder w\xE4hle eine Stadt manuell.`:`\u{1F512} HTTPS erforderlich

F\xFCr mobile Ger\xE4te ist eine sichere HTTPS-Verbindung n\xF6tig.

\u{1F310} Verwende: https://ydi5291.github.io/AfroConnect/

\u{1F4CD} Berlin wird als Standard verwendet.`),this.fallbackToDefaultLocationWithChoice()}fallbackToDefaultLocationWithChoice(){let t=prompt(`\u{1F4CD} Standort automatisch nicht m\xF6glich

Bitte gib deine Stadt ein f\xFCr personalisierte Ergebnisse:

Beispiele: Dortmund, Hamburg, M\xFCnchen, K\xF6ln, Frankfurt, Stuttgart, D\xFCsseldorf...

Deine Stadt:`,localStorage.getItem("afroconnect-user-city")||"Dortmund");if(t&&t.trim()){let e=t.toLowerCase().trim();localStorage.setItem("afroconnect-user-city",e),this.cityCoordinates[e]?(this.userLocation=this.cityCoordinates[e],this.selectedCity=e,alert(`\u2705 Standort auf ${this.formatCityName(e)} gesetzt!

\u{1F3AF} Afroshops werden nach Entfernung zu ${this.formatCityName(e)} sortiert.
\u{1F4CF} Du siehst jetzt relevante Gesch\xE4fte in deiner N\xE4he.`)):(this.userLocation=this.cityCoordinates.dortmund||this.cityCoordinates.berlin,this.selectedCity="dortmund",alert(`\u{1F4CD} Stadt "${t}" nicht erkannt

Dortmund wurde als Standard-Standort gew\xE4hlt.

Du kannst jederzeit:
\u2022 Eine andere Stadt aus der Liste w\xE4hlen
\u2022 Eine andere Stadt eingeben
\u2022 GPS nochmal versuchen`))}else this.userLocation=this.cityCoordinates.dortmund||this.cityCoordinates.berlin,this.selectedCity="dortmund",alert(`\u{1F4CD} Standard-Standort: Dortmund

Du kannst jederzeit:
\u2022 Eine Stadt aus der Liste w\xE4hlen
\u2022 Eine Stadt eingeben
\u2022 GPS erneut aktivieren`);this.applyFilters(),this.sortAfroshopsByDistance()}formatCityName(t){return{berlin:"Berlin",hamburg:"Hamburg",m\u00FCnchen:"M\xFCnchen",k\u00F6ln:"K\xF6ln",frankfurt:"Frankfurt am Main",stuttgart:"Stuttgart",d\u00FCsseldorf:"D\xFCsseldorf",dortmund:"Dortmund",essen:"Essen",leipzig:"Leipzig"}[t]||t.charAt(0).toUpperCase()+t.slice(1)}sortAfroshopsByDistance(){this.userLocation&&this.filteredAfroshops.sort((t,e)=>{let n=this.geolocationService.calculateDistance(this.userLocation.lat,this.userLocation.lng,t.coordinates.lat,t.coordinates.lng),s=this.geolocationService.calculateDistance(this.userLocation.lat,this.userLocation.lng,e.coordinates.lat,e.coordinates.lng);return n-s})}getDistanceFromUser(t){if(this.userLocation&&t.coordinates.lat&&t.coordinates.lng&&this.travelDurations[t.id],!this.userLocation)return"";let e=this.geolocationService.calculateDistance(this.userLocation.lat,this.userLocation.lng,t.coordinates.lat,t.coordinates.lng);return e<1?`${Math.round(e*1e3)}m entfernt`:`${e.toFixed(1)}km entfernt`}getDirectionsDuration(t){if(!this.directionsService)if(window.google&&window.google.maps)this.directionsService=new window.google.maps.DirectionsService;else return;let e=new window.google.maps.LatLng(this.userLocation.lat,this.userLocation.lng),n=new window.google.maps.LatLng(t.coordinates.lat,t.coordinates.lng);this.directionsService.route({origin:e,destination:n,travelMode:"DRIVING"},(s,d)=>{if(d==="OK"&&s.routes.length>0){let c=s.routes[0].legs[0].duration.text;this.travelDurations[t.id]=j(G({},this.travelDurations[t.id]),{driving:c})}}),this.directionsService.route({origin:e,destination:n,travelMode:"WALKING"},(s,d)=>{if(d==="OK"&&s.routes.length>0){let c=s.routes[0].legs[0].duration.text;this.travelDurations[t.id]=j(G({},this.travelDurations[t.id]),{walking:c})}})}getTravelDurationDisplay(t){let e=this.travelDurations[t.id];if(!e)return"";let n="";return e.driving&&(n+=`\u{1F697} ${e.driving}`),e.walking&&(n+=(n?" | ":"")+`\u{1F6B6} ${e.walking}`),n}addNewAfroshop(){if(!this.authService.getCurrentUser()){alert("Bitte melden Sie sich an, um einen Afroshop hinzuzuf\xFCgen."),this.router.navigate(["/login"]);return}this.router.navigate(["/add-afroshop"])}canEditAfroshop(t){let e=this.authService.getCurrentUser();return e?t.createdBy===e.uid:!1}editAfroshop(t,e){if(t.stopPropagation(),!this.authService.getCurrentUser()){alert("Bitte melden Sie sich an, um fortzufahren."),this.router.navigate(["/login"]);return}this.router.navigate(["/edit-afroshop",e])}isAdminUser(t){return!t||!t.email?!1:["youssoufdiamaldiallo@gmail.com","admin@afroconnect.de","contact@afroconnect.de"].includes(t.email)}goToAdmin(){this.router.navigate(["/admin"])}getBusinessTypeName(t){return this.translationService.getBusinessTypeName(t)}getBusinessTypeDisplay(t){return this.translationService.getBusinessTypeDisplay(t)}getBusinessTypeIcon(t){return this.translationService.getBusinessTypeIcon(t)}getAllBusinessTypes(){return this.translationService.getAllBusinessTypes()}getSelectedCityName(){return this.selectedCity?this.selectedCity.charAt(0).toUpperCase()+this.selectedCity.slice(1):""}getDefaultImage(t){return{restaurant:"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=400&h=300&fit=crop",epicerie:"https://images.unsplash.com/photo-1586350388589-e263efc1ba5a?w=400&h=300&fit=crop",coiffeur:"https://images.unsplash.com/photo-1560066984-138dadb4c035?w=400&h=300&fit=crop",vetement:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&h=300&fit=crop",services:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=400&h=300&fit=crop"}[t]}onImageError(t,e){t.target.src=this.getDefaultImage(e)}getLocationDisplay(t){if(!t||t.trim()==="")return"Adresse \xE0 confirmer";let e=t.split(",");return e.length>1?e[1].trim():t}searchCity(){if(!this.customCityName?.trim())return;let t=this.customCityName.trim().toLowerCase(),e=Object.keys(this.cityCoordinates).find(s=>s.toLowerCase().includes(t)||t.includes(s.toLowerCase()));if(e){this.selectedCity=e,this.userLocation=this.cityCoordinates[e],this.onCityChange();return}this.searchInAdditionalCities(t)||this.geocodeGermanCity(t)}searchInAdditionalCities(t){let e={werl:{lat:51.5533,lng:7.9111},lippstadt:{lat:51.6755,lng:8.3439},soest:{lat:51.5731,lng:8.1067},paderborn:{lat:51.7189,lng:8.7575},bielefeld:{lat:52.0302,lng:8.5325},m\u00FCnster:{lat:51.9607,lng:7.6261},bochum:{lat:51.4818,lng:7.2162},duisburg:{lat:51.4344,lng:6.7623},wuppertal:{lat:51.2562,lng:7.1508}},n=Object.keys(e).find(s=>s.toLowerCase().includes(t)||t.includes(s.toLowerCase()));return n?(this.userLocation=e[n],this.selectedCity="",this.applyFilters(),this.sortAfroshopsByDistance(),alert(`\u{1F4CD} Stadt gefunden: ${this.customCityName}`),!0):!1}geocodeGermanCity(t){return S(this,null,function*(){try{let e=yield fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(t)}&country=Germany&addressdetails=1&limit=5&format=json&featuretype=city,town,village`);if(!e.ok)throw new Error("Probl\xE8me de r\xE9seau");let n=yield e.json();if(n&&n.length>0){let s=n[0],d=parseFloat(s.lat),c=parseFloat(s.lon);if(!isNaN(d)&&!isNaN(c)){this.userLocation={lat:d,lng:c},this.selectedCity="",this.applyFilters(),this.sortAfroshopsByDistance();let g=s.display_name.split(",")[0];alert(`\u{1F4CD} Stadt gefunden: ${g}
\u{1F5FA}\uFE0F Koordinaten: ${d.toFixed(4)}, ${c.toFixed(4)}`)}else throw new Error("Coordonn\xE9es invalides")}else this.showCityNotFoundAlert()}catch(e){console.error("Erreur de g\xE9ocodage:",e),this.showCityNotFoundAlert()}})}showCityNotFoundAlert(){alert(`\u274C Stadt "${this.customCityName}" nicht gefunden.

\u{1F4A1} Tipps:
\u2022 \xDCberpr\xFCfen Sie die Schreibweise
\u2022 Verwenden Sie deutsche St\xE4dtenamen
\u2022 Versuchen Sie es mit einem Stadtteil oder einer nahegelegenen gr\xF6\xDFeren Stadt
\u2022 W\xE4hlen Sie aus der vordefinierten Liste`)}fixInvalidCoordinates(t){return t.map(e=>{if(e.coordinates.lat===0&&e.coordinates.lng===0){let n=this.guessCoordinatesFromAddress(e.address);if(n)return j(G({},e),{coordinates:n})}return e})}guessCoordinatesFromAddress(t){let e=t.toLowerCase(),n=j(G({},this.cityCoordinates),{lippstadt:{lat:51.6755,lng:8.3439},werl:{lat:51.5533,lng:7.9111},soest:{lat:51.5731,lng:8.1067},paderborn:{lat:51.7189,lng:8.7575},bielefeld:{lat:52.0302,lng:8.5325},m\u00FCnster:{lat:51.9607,lng:7.6261},bochum:{lat:51.4818,lng:7.2162},duisburg:{lat:51.4344,lng:6.7623},wuppertal:{lat:51.2562,lng:7.1508}});for(let[d,c]of Object.entries(n))if(e.includes(d))return c;let s={59555:{lat:51.6755,lng:8.3439},59594:{lat:51.5533,lng:7.9111},59494:{lat:51.5731,lng:8.1067},33098:{lat:51.7189,lng:8.7575}};for(let[d,c]of Object.entries(s))if(t.includes(d))return c;return null}updateTranslations(){this.texts={discover:this.languageService.translate("gallery.discover"),shopsNearYou:this.languageService.translate("gallery.shopsNearYou"),addShopBtn:this.languageService.translate("gallery.addShopBtn"),filterByType:this.languageService.translate("gallery.filterByType"),allTypes:this.languageService.translate("gallery.allTypes"),activateGPS:this.languageService.translate("gallery.activateGPS"),searchRadius:this.languageService.translate("gallery.searchRadius"),around:this.languageService.translate("gallery.around"),yourLocation:this.languageService.translate("gallery.yourLocation"),resultsCount:this.languageService.translate("gallery.resultsCount"),shopsDisplayed:this.languageService.translate("gallery.shopsDisplayed"),yourCity:this.languageService.translate("gallery.yourCity"),anyCityPlaceholder:this.languageService.translate("gallery.anyCityPlaceholder"),search:this.languageService.translate("gallery.search"),popularCities:this.languageService.translate("gallery.popularCities"),confirm:this.languageService.translate("gallery.confirm"),viewDetails:this.languageService.translate("gallery.viewDetails"),showOnMap:this.languageService.translate("gallery.showOnMap"),route:this.languageService.translate("gallery.route"),edit:this.languageService.translate("gallery.edit"),restaurant:this.languageService.translate("type.restaurant"),epicerie:this.languageService.translate("type.epicerie"),coiffeur:this.languageService.translate("type.coiffeur"),vetement:this.languageService.translate("type.vetement"),services:this.languageService.translate("type.services")}}ngOnDestroy(){this.langSub?.unsubscribe()}static \u0275fac=function(e){return new(e||o)(w(We),w(U),w(T),w(Se),w(re),w(R),w(Ht),w(je),w(xe))};static \u0275cmp=E({type:o,selectors:[["app-gallery"]],decls:75,vars:30,consts:[[1,"intro-section"],[1,"intro-message"],[1,"intro-actions"],[1,"add-shop-btn",3,"click"],["class","settings-btn",3,"click",4,"ngIf"],[1,"controls-section"],[1,"controls-main"],[1,"controls-row"],[1,"filter-gps-column"],[1,"type-filter-group"],["for","type-filter",1,"unified-label"],["id","type-filter",1,"unified-select","type-select-compact",3,"ngModelChange","change","ngModel"],["value",""],["value","restaurant"],["value","epicerie"],["value","coiffeur"],["value","vetement"],["value","services"],[1,"gps-group"],[1,"location-btn","gps-btn-desktop",3,"click","title"],["class","radius-info",4,"ngIf"],[1,"location-container"],["for","city-input",1,"unified-label"],[1,"city-search-group"],[1,"unified-input-group"],["type","text","id","city-input","name","cityInput",1,"unified-input","city-input-compact",3,"ngModelChange","keyup.enter","ngModel","placeholder"],[1,"unified-btn","search-btn",3,"click","disabled","title"],[1,"quick-cities-group"],[1,"unified-select","city-select-compact",3,"ngModelChange","ngModel"],["value","berlin"],["value","hamburg"],["value","m\xFCnchen"],["value","k\xF6ln"],["value","frankfurt"],["value","stuttgart"],["value","d\xFCsseldorf"],["value","dortmund"],["value","essen"],["value","leipzig"],["value","bremen"],["value","hannover"],[1,"unified-btn","confirm-btn",3,"click","disabled","title"],[1,"gallery-section"],["class","map-view",4,"ngIf"],["class","gallery-grid",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"settings-btn",3,"click"],[1,"radius-info"],[1,"radius-indicator"],["class","city-name",4,"ngIf"],["class","current-location",4,"ngIf"],[1,"results-count"],[1,"city-name"],[1,"current-location"],[1,"map-view"],[3,"shopSelected","afroshops","userLocation"],[1,"gallery-grid"],["class","shop-card",4,"ngFor","ngForOf"],[1,"shop-card"],[1,"image-wrapper",3,"click"],[1,"gallery-image",3,"error","src","alt"],[1,"type-badge"],["class","edit-btn",3,"title","click",4,"ngIf"],[1,"image-overlay"],[1,"click-hint"],[1,"card-info"],[1,"shop-name"],[1,"shop-location"],[1,"shop-meta"],[1,"rating"],[1,"price"],[1,"type"],["class","distance",4,"ngIf"],[1,"map-buttons"],["target","_blank",1,"map-btn",3,"href"],["target","_blank",1,"route-btn",3,"href"],[1,"edit-btn",3,"click","title"],[1,"distance"],[4,"ngIf"],[1,"no-results"],[1,"no-results-content"],[1,"no-results-icon"],[1,"btn-clear-search",3,"click"]],template:function(e,n){e&1&&(r(0,"section",0)(1,"div",1),a(2),i(),r(3,"div",2)(4,"button",3),b("click",function(){return n.goToAddAfroshop()}),a(5),i(),f(6,ua,2,0,"button",4),i()(),r(7,"section",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),a(13),i(),r(14,"select",11),M("ngModelChange",function(d){return C(n.selectedType,d)||(n.selectedType=d),d}),b("change",function(){return n.onTypeFilterChange()}),r(15,"option",12),a(16),i(),r(17,"option",13),a(18),i(),r(19,"option",14),a(20),i(),r(21,"option",15),a(22),i(),r(23,"option",16),a(24),i(),r(25,"option",17),a(26),i()()(),r(27,"div",18)(28,"button",19),b("click",function(){return n.useCurrentLocation()}),a(29),i()()(),f(30,_a,7,7,"div",20),i(),r(31,"div",7)(32,"div",21)(33,"label",22),a(34),i(),r(35,"div",23)(36,"div",24)(37,"input",25),M("ngModelChange",function(d){return C(n.customCityName,d)||(n.customCityName=d),d}),b("keyup.enter",function(){return n.searchCity()}),i(),r(38,"button",26),b("click",function(){return n.searchCity()}),a(39),i()()(),r(40,"div",27)(41,"div",24)(42,"select",28),M("ngModelChange",function(d){return C(n.selectedCity,d)||(n.selectedCity=d),d}),r(43,"option",12),a(44),i(),r(45,"option",29),a(46,"Berlin"),i(),r(47,"option",30),a(48,"Hamburg"),i(),r(49,"option",31),a(50,"M\xFCnchen"),i(),r(51,"option",32),a(52,"K\xF6ln"),i(),r(53,"option",33),a(54,"Frankfurt am Main"),i(),r(55,"option",34),a(56,"Stuttgart"),i(),r(57,"option",35),a(58,"D\xFCsseldorf"),i(),r(59,"option",36),a(60,"Dortmund"),i(),r(61,"option",37),a(62,"Essen"),i(),r(63,"option",38),a(64,"Leipzig"),i(),r(65,"option",39),a(66,"Bremen"),i(),r(67,"option",40),a(68,"Hannover"),i()(),r(69,"button",41),b("click",function(){return n.onCityChange()}),a(70),i()()()()()()(),r(71,"section",42),f(72,ba,2,2,"div",43)(73,Ma,2,1,"div",44)(74,wa,10,0,"div",45),i()),e&2&&(l(2),Kn(" \u{1F30D} ",n.texts.discover," ",n.allAfroshops.length," ",n.texts.shopsNearYou," "),l(3),x("\u2795 ",n.texts.addShopBtn,""),l(),p("ngIf",n.isAdmin),l(7),_(n.texts.filterByType),l(),y("ngModel",n.selectedType),l(2),_(n.texts.allTypes),l(2),_(n.texts.restaurant),l(2),_(n.texts.epicerie),l(2),_(n.texts.coiffeur),l(2),_(n.texts.vetement),l(2),_(n.texts.services),l(2),p("title",n.texts.activateGPS),l(),x(" \u{1F4E1} ",n.texts.activateGPS," "),l(),p("ngIf",n.userLocation||n.selectedCity),l(4),x("\u{1F4CD} ",n.texts.yourCity,""),l(3),y("ngModel",n.customCityName),p("placeholder",n.texts.anyCityPlaceholder),l(),p("disabled",!n.customCityName||!n.customCityName.trim())("title",n.texts.search),l(),x(" \u{1F50D} ",n.texts.search," "),l(3),y("ngModel",n.selectedCity),l(2),_(n.texts.popularCities),l(25),p("disabled",!n.selectedCity)("title",n.texts.confirm),l(),x(" \u2713 ",n.texts.confirm," "),l(2),p("ngIf",n.showMap&&n.filteredAfroshops.length>0),l(),p("ngIf",!n.showMap&&n.filteredAfroshops.length>0),l(),p("ngIf",n.filteredAfroshops.length===0&&(n.searchTerm||n.selectedType)))},dependencies:[A,H,D,rt,$,Ve,Ue,ce,Ge,ne,ie,Wt],styles:["@media (min-width: 600px) and (max-width: 1024px){.quick-cities-group[_ngcontent-%COMP%]{margin-top:2.2rem}}@media (min-width: 600px) and (max-width: 1024px){.unified-select.city-select-compact[_ngcontent-%COMP%]{max-width:220px;width:100%;min-width:120px}}@media (min-width: 600px) and (max-width: 1024px){.unified-input-group[_ngcontent-%COMP%]{gap:2rem}.search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{min-width:120px;max-width:120px;width:120px}}@media (min-width: 600px) and (max-width: 1024px){.unified-input-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.7rem;width:100%}.unified-input.city-input-compact[_ngcontent-%COMP%]{flex:1 1 0;min-width:0;max-width:70%}.search-btn[_ngcontent-%COMP%]{min-width:90px;max-width:30%;margin-left:.2rem}.quick-cities-group[_ngcontent-%COMP%]{width:100%;margin-top:.5rem}}@media (min-width: 600px) and (max-width: 1024px){.location-container[_ngcontent-%COMP%]{gap:2.2rem;display:flex;flex-direction:column}.city-search-group[_ngcontent-%COMP%]{margin-bottom:3.5rem}}@media (min-width: 600px) and (max-width: 1024px){.gallery-section[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;max-width:900px;width:100%;display:block}}@media (min-width: 600px) and (max-width: 1024px){.controls-main[_ngcontent-%COMP%]{flex-direction:column!important;align-items:stretch!important;gap:1.5rem}.controls-row[_ngcontent-%COMP%], .filter-gps-column[_ngcontent-%COMP%]{flex-direction:column!important;align-items:stretch!important;gap:1.2rem}.type-filter-group[_ngcontent-%COMP%], .gps-group[_ngcontent-%COMP%]{width:100%;margin-bottom:.7rem}.radius-info.radius-center[_ngcontent-%COMP%], .radius-info[_ngcontent-%COMP%]{max-width:98vw;padding:1rem 1.2rem;font-size:1.05rem}.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;gap:1.2rem;justify-content:center}.shop-card[_ngcontent-%COMP%]{max-width:95vw;min-width:320px;margin-left:auto;margin-right:auto}.unified-input[_ngcontent-%COMP%], .unified-select[_ngcontent-%COMP%], .location-btn[_ngcontent-%COMP%], .search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{font-size:1.08rem;min-height:2.2rem}}.filter-gps-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.2rem;align-items:flex-start;margin-bottom:1.5rem}.radius-info.radius-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background:#f9f9f9;border:1px solid #e5e7eb;border-radius:10px;padding:.7rem 1.2rem;margin:1.2rem auto;max-width:420px;font-size:1rem}.radius-info[_ngcontent-%COMP%]   .radius-indicator[_ngcontent-%COMP%]{font-weight:600;color:#2d3748;margin-bottom:.5rem}.radius-info[_ngcontent-%COMP%]   .city-name[_ngcontent-%COMP%], .radius-info[_ngcontent-%COMP%]   .current-location[_ngcontent-%COMP%]{color:#3182ce;font-weight:500}.radius-info[_ngcontent-%COMP%]   .results-count[_ngcontent-%COMP%]{color:#4a5568;font-size:.98rem;margin-top:.3rem}.controls-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.2rem;align-items:flex-start;margin-bottom:1.5rem}@media (max-width: 900px){.gallery-grid[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;align-items:center!important;justify-content:flex-start;width:100%;padding:0;margin:0;box-sizing:border-box}}.shop-card[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:100%;max-width:420px;box-sizing:border-box}@media (max-width: 900px){.shop-card[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:.5rem;width:calc(100% - 1rem);max-width:98vw}}@media (max-width: 600px){.shop-card[_ngcontent-%COMP%]{margin-left:.2rem;margin-right:.2rem;width:calc(100% - .4rem);max-width:99vw}}@media (max-width: 900px){.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%]{width:70%;min-width:120px;max-width:220px;margin-left:auto;margin-right:auto;display:block}}@media (max-width: 600px){.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%]{width:95%;min-width:90px;max-width:180px;font-size:.97rem;margin-left:auto;margin-right:auto;display:block}}@media (max-width: 900px){.location-btn[_ngcontent-%COMP%]{width:70%;min-width:120px;max-width:220px;padding-left:.5rem;padding-right:.5rem}}@media (max-width: 600px){.location-btn[_ngcontent-%COMP%]{width:95%;min-width:90px;max-width:180px;font-size:.97rem;padding-left:.3rem;padding-right:.3rem}}@media (max-width: 900px){.controls-section[_ngcontent-%COMP%], .controls-main[_ngcontent-%COMP%], .controls-row[_ngcontent-%COMP%], .gps-group[_ngcontent-%COMP%], .radius-info[_ngcontent-%COMP%], .location-container[_ngcontent-%COMP%], .city-search-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%], .unified-input-group[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;align-items:center!important;width:100%!important;gap:.4rem}}@media (max-width: 900px){.intro-actions[_ngcontent-%COMP%], .controls-main[_ngcontent-%COMP%], .controls-row[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;width:100%;align-items:center}.gps-group[_ngcontent-%COMP%], .radius-info[_ngcontent-%COMP%], .location-container[_ngcontent-%COMP%], .city-search-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem;align-items:center;display:flex;flex-direction:column;gap:.3rem}.unified-input-group[_ngcontent-%COMP%]{width:100%;flex-direction:column;gap:.3rem;align-items:center}.unified-input.city-input-compact[_ngcontent-%COMP%], .unified-select.city-select-compact[_ngcontent-%COMP%]{width:100%;min-width:0;font-size:1rem;margin-bottom:.5rem}.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%], .location-btn[_ngcontent-%COMP%], .search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{width:100%;min-width:0;font-size:1rem;margin-bottom:.2rem;box-shadow:0 1px 4px #00000014}.radius-info[_ngcontent-%COMP%]{text-align:center;font-size:.98rem;padding:.4rem .2rem;border-radius:7px}.intro-section[_ngcontent-%COMP%], .controls-section[_ngcontent-%COMP%]{padding:.7rem .1rem;border-radius:8px;box-shadow:0 1px 4px #00000014}}@media (max-width: 900px){.intro-section[_ngcontent-%COMP%], .controls-section[_ngcontent-%COMP%]{padding:.8rem .2rem;border-radius:10px;box-shadow:0 2px 8px #00000012}.intro-message[_ngcontent-%COMP%]{font-size:1.05rem;margin-bottom:.7rem}.controls-main[_ngcontent-%COMP%], .controls-row[_ngcontent-%COMP%]{flex-direction:column;gap:.7rem;width:100%;align-items:stretch}.location-container[_ngcontent-%COMP%], .radius-info[_ngcontent-%COMP%]{width:100%;max-width:100%;padding:0 .2rem;box-sizing:border-box}.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%], .location-btn[_ngcontent-%COMP%], .search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{width:100%;min-width:0;font-size:1rem;margin-bottom:.4rem;box-shadow:0 1px 4px #00000014}.unified-input.city-input-compact[_ngcontent-%COMP%], .unified-select.city-select-compact[_ngcontent-%COMP%]{width:100%;min-width:0;font-size:.98rem}.gallery-section[_ngcontent-%COMP%]{padding:.5rem .1rem}.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:1fr!important;gap:1rem}.shop-card[_ngcontent-%COMP%]{min-width:0;width:100%;box-shadow:0 1px 6px #00000014;border-radius:10px}.card-info[_ngcontent-%COMP%]{font-size:.98rem;padding:.7rem .5rem}}@media (max-width: 600px){.intro-section[_ngcontent-%COMP%], .controls-section[_ngcontent-%COMP%]{padding:.4rem .05rem;border-radius:7px;box-shadow:0 1px 4px #0000000f}.intro-message[_ngcontent-%COMP%]{font-size:.98rem;margin-bottom:.5rem}.controls-section[_ngcontent-%COMP%]{gap:.5rem}.radius-info[_ngcontent-%COMP%]{font-size:.93rem;padding:.3rem .2rem;border-radius:6px}.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%], .location-btn[_ngcontent-%COMP%], .search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{font-size:.95rem;min-width:0;padding:.4rem .5rem;margin-bottom:.3rem}.gallery-section[_ngcontent-%COMP%]{padding:.2rem .01rem}.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:1fr!important;gap:.7rem}.shop-card[_ngcontent-%COMP%]{border-radius:7px;box-shadow:0 1px 3px #00000012}.card-info[_ngcontent-%COMP%]{font-size:.95rem;padding:.5rem .2rem}}@media (max-width: 900px){.controls-main[_ngcontent-%COMP%], .controls-row[_ngcontent-%COMP%]{flex-direction:column;gap:1.2rem;width:100%;align-items:center}.intro-section[_ngcontent-%COMP%], .controls-section[_ngcontent-%COMP%]{padding:1.2rem .5rem}.intro-message[_ngcontent-%COMP%]{font-size:1.1rem}.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%], .location-btn[_ngcontent-%COMP%], .search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{width:100%;min-width:180px;font-size:1rem;margin-bottom:.5rem}.location-container[_ngcontent-%COMP%]{width:100%;max-width:100%;padding:0 .5rem}.unified-input.city-input-compact[_ngcontent-%COMP%], .unified-select.city-select-compact[_ngcontent-%COMP%]{width:100%;min-width:0}}@media (max-width: 600px){.intro-section[_ngcontent-%COMP%], .controls-section[_ngcontent-%COMP%]{padding:.7rem .2rem;border-radius:10px}.intro-message[_ngcontent-%COMP%]{font-size:1rem}.controls-section[_ngcontent-%COMP%]{gap:1rem}.radius-info[_ngcontent-%COMP%]{font-size:.95rem;padding:.5rem}.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%], .location-btn[_ngcontent-%COMP%], .search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{font-size:.98rem;min-width:120px;padding:.5rem .7rem}}.controls-main[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%}.controls-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:2rem;width:100%;margin-bottom:1.2rem}.location-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.city-search-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%], .unified-input-group[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.location-btn[_ngcontent-%COMP%]{font-size:1.1rem;padding:.6rem 1.2rem;border-radius:8px;background:#e0f7fa;color:#00796b;border:none;box-shadow:0 1px 4px #00000012;cursor:pointer;transition:background .2s,color .2s}.location-btn[_ngcontent-%COMP%]:hover{background:#b2ebf2;color:#004d40}.radius-info[_ngcontent-%COMP%]{background:#f3e5f5;border-radius:8px;padding:.7rem 1rem;margin-bottom:.5rem;text-align:center;color:#6a1b9a;font-weight:500;box-shadow:0 1px 4px #0000000a}.radius-indicator[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:.3rem}.results-count[_ngcontent-%COMP%]{font-size:.95rem;color:#333}.location-container[_ngcontent-%COMP%]{width:100%;max-width:500px;margin:0 auto;display:flex;flex-direction:column;gap:1rem}.unified-label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem;color:#222}.city-search-group[_ngcontent-%COMP%], .unified-input-group[_ngcontent-%COMP%]{display:flex;gap:.5rem}.unified-input.city-input-compact[_ngcontent-%COMP%]{flex:1;padding:.5rem 1rem;border-radius:8px;border:1px solid #e0e0e0;font-size:1rem}.search-btn[_ngcontent-%COMP%]{background:#e0f7fa;color:#00796b;border:none;border-radius:8px;padding:.5rem 1.2rem;font-size:1rem;cursor:pointer;transition:background .2s,color .2s}.search-btn[_ngcontent-%COMP%]:hover{background:#b2ebf2;color:#004d40}.quick-cities-group[_ngcontent-%COMP%]{margin-top:.5rem;display:flex;gap:.5rem}.unified-select.city-select-compact[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:8px;border:1px solid #e0e0e0;font-size:1rem}.confirm-btn[_ngcontent-%COMP%]{background:#f3e5f5;color:#6a1b9a;border:none;border-radius:8px;padding:.5rem 1.2rem;font-size:1rem;cursor:pointer;transition:background .2s,color .2s}.confirm-btn[_ngcontent-%COMP%]:hover{background:#ce93d8;color:#4a148c}.location-hint[_ngcontent-%COMP%]{font-size:.95rem;color:#888;margin-top:.5rem;text-align:center}.intro-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem 1rem 1.5rem;background:#f8fafc;border-radius:16px;box-shadow:0 2px 8px #0000000a;margin-bottom:2rem}.intro-message[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#222;margin-bottom:1.2rem;text-align:center;letter-spacing:.5px}.intro-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center}.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%]{font-size:1.1rem;padding:.6rem 1.2rem;border-radius:8px;border:none;background:#fff;color:#222;box-shadow:0 1px 4px #00000012;cursor:pointer;transition:background .2s,box-shadow .2s}.add-shop-btn[_ngcontent-%COMP%]:hover{background:#e0f7fa;color:#00796b}.settings-btn[_ngcontent-%COMP%]:hover{background:#f3e5f5;color:#6a1b9a}@media (min-width: 1024px){.controls-desktop-layout[_ngcontent-%COMP%]{display:grid;box-shadow:0 4px 16px #00000026;gap:48px;align-items:start;padding:32px 40px;background:linear-gradient(135deg,#fff,#f4f7fa);border-radius:18px;box-shadow:0 8px 32px #00000014;margin-bottom:40px}.controls-left[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:24px;align-items:flex-end;justify-content:flex-start}.controls-right[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:24px;align-items:flex-end;justify-content:flex-end}.filter-container.unified-control-group[_ngcontent-%COMP%], .gps-group-above-city[_ngcontent-%COMP%]{margin:0;max-width:220px;width:100%}.gps-btn-desktop[_ngcontent-%COMP%]{min-width:160px;max-width:220px;padding:12px 24px;margin:0;border-radius:10px;font-size:1rem;font-weight:600;box-shadow:0 4px 15px #28a7454d;display:flex;align-items:center;justify-content:center}.city-search-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%]{margin:0;max-width:220px;width:100%}}.gallery-container[_ngcontent-%COMP%]{padding:var(--spacing-lg)}.gallery-header[_ngcontent-%COMP%]{margin-bottom:var(--spacing-xl)}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-lg)}.header-text[_ngcontent-%COMP%]{text-align:center;flex:1}.header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--primary-color);font-size:2.5rem;margin-bottom:var(--spacing-sm)}.header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);font-size:1.1rem}.header-actions[_ngcontent-%COMP%]{margin-left:var(--spacing-lg)}.add-afroshop-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--border-radius);font-size:.9rem;font-weight:500;cursor:pointer;transition:all .3s ease;box-shadow:var(--shadow-sm)}.add-afroshop-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-md);text-align:center}.header-actions[_ngcontent-%COMP%]{margin-left:0;width:100%;display:flex;justify-content:center}.header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}.unified-control-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs);max-width:500px;margin:0 auto var(--spacing-md) auto;width:100%}.unified-label[_ngcontent-%COMP%]{color:var(--text-dark);font-size:1rem;font-weight:600;margin-bottom:var(--spacing-xs);text-align:center}.unified-input-group[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm);align-items:stretch;width:100%;height:50px}.unified-input[_ngcontent-%COMP%], .unified-select[_ngcontent-%COMP%]{flex:1;padding:var(--spacing-sm) var(--spacing-md);border:2px solid #e0e0e0;border-radius:var(--border-radius);background:var(--background-white);font-size:1rem;color:var(--text-dark);transition:all .3s ease;height:100%;box-sizing:border-box}.unified-input[_ngcontent-%COMP%]:focus, .unified-select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #4a90e21a}.unified-input[_ngcontent-%COMP%]::placeholder{color:#999;font-style:italic}.unified-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),#2980b9);color:#fff;border:none;padding:0 var(--spacing-md);border-radius:var(--border-radius);font-size:.9rem;font-weight:500;cursor:pointer;white-space:nowrap;transition:all .3s ease;min-width:120px;height:100%;box-sizing:border-box}.unified-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#2980b9,var(--primary-color));transform:translateY(-1px);box-shadow:var(--shadow-sm)}.unified-btn[_ngcontent-%COMP%]:disabled{background:#bdc3c7;cursor:not-allowed;transform:none;opacity:.6}.filter-container.unified-control-group[_ngcontent-%COMP%]   .unified-input-group[_ngcontent-%COMP%]{justify-content:flex-start;max-width:100%;padding-left:0}.filter-container.unified-control-group[_ngcontent-%COMP%]   .unified-select[_ngcontent-%COMP%]{flex:1;max-width:280px;min-width:180px;margin:0}.unified-spacer[_ngcontent-%COMP%]{width:120px;min-width:120px;visibility:hidden}.controls-desktop-layout[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);border:2px solid #e9ecef;border-radius:16px;padding:24px;margin-bottom:32px;box-shadow:0 8px 32px #00000014}@media (min-width: 1024px){.controls-desktop-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(250px,300px) 1fr;gap:40px;align-items:start}.filter-container[_ngcontent-%COMP%]{margin:0;text-align:left}.filter-container[_ngcontent-%COMP%]   .unified-input-group[_ngcontent-%COMP%]{padding-left:0}.location-container[_ngcontent-%COMP%]{margin:0}.desktop-city-controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 2fr 1fr;gap:20px;align-items:end;width:100%}.city-search-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%], .gps-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.city-search-group[_ngcontent-%COMP%]   .unified-input-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%]   .unified-input-group[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:stretch}.city-input-compact[_ngcontent-%COMP%]{min-width:200px;flex:1;max-width:300px}.city-select-compact[_ngcontent-%COMP%]{min-width:180px;flex:1;max-width:250px}.search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{min-width:90px;flex-shrink:0}.gps-btn-desktop[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#20c997);color:#fff;border:none;padding:12px 16px;border-radius:10px;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px #28a7454d;white-space:nowrap;width:100%;min-height:48px}.gps-btn-desktop[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #28a74566}.mobile-only[_ngcontent-%COMP%], .quick-cities[_ngcontent-%COMP%]   .unified-label[_ngcontent-%COMP%]{display:none}}@media (min-width: 768px) and (max-width: 1023px){.controls-desktop-layout[_ngcontent-%COMP%]{padding:20px}.desktop-city-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.city-search-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%]{width:100%}.city-search-group[_ngcontent-%COMP%]   .unified-input-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%]   .unified-input-group[_ngcontent-%COMP%]{display:flex;gap:12px;width:100%}.city-input-compact[_ngcontent-%COMP%], .city-select-compact[_ngcontent-%COMP%]{flex:1}.search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{min-width:100px;flex-shrink:0}.gps-group[_ngcontent-%COMP%]{width:100%}.gps-btn-desktop[_ngcontent-%COMP%]{width:100%;padding:14px}}@media (max-width: 767px){.controls-desktop-layout[_ngcontent-%COMP%]{background:none;border:none;padding:0;box-shadow:none}.desktop-city-controls[_ngcontent-%COMP%]{display:block}.city-search-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%], .gps-group[_ngcontent-%COMP%]{margin-bottom:16px}.gps-btn-desktop[_ngcontent-%COMP%]{background:var(--primary-color);width:100%;margin-top:0;padding:14px}.mobile-only[_ngcontent-%COMP%]{display:block}}.search-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto var(--spacing-lg) auto}.filter-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto var(--spacing-lg) auto;text-align:center}.filter-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:var(--text-dark);font-weight:500;margin-bottom:var(--spacing-xs)}.type-filter[_ngcontent-%COMP%]{width:100%;padding:var(--spacing-sm);border:2px solid #e0e0e0;border-radius:var(--border-radius);background:var(--background-white);font-size:1rem;color:var(--text-dark);cursor:pointer;transition:border-color .3s ease}.type-filter[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #667eea1a}.search-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:var(--background-white);border:2px solid #e0e0e0;border-radius:25px;padding:var(--spacing-xs);transition:all .3s ease;box-shadow:var(--shadow-sm)}.search-wrapper[_ngcontent-%COMP%]:focus-within{border-color:var(--primary-color);box-shadow:0 0 0 3px #667eea1a}.search-icon[_ngcontent-%COMP%]{padding:0 var(--spacing-sm);color:var(--text-light);font-size:1.1rem}.search-input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;padding:var(--spacing-sm) var(--spacing-xs);font-size:1rem;background:transparent;color:var(--text-dark)}.search-input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.clear-button[_ngcontent-%COMP%]{background:var(--text-light);color:#fff;border:none;width:24px;height:24px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:.8rem;margin-right:var(--spacing-xs);transition:background .3s ease}.clear-button[_ngcontent-%COMP%]:hover{background:#e74c3c}.search-results[_ngcontent-%COMP%]{text-align:center;margin-top:var(--spacing-sm);color:var(--primary-color);font-weight:500;font-size:.9rem}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:var(--spacing-md);margin:var(--spacing-lg) auto;flex-wrap:wrap}.map-toggle-btn[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-lg);border-radius:var(--border-radius);font-size:1rem;cursor:pointer;display:inline-flex;align-items:center;gap:var(--spacing-xs);transition:all .3s ease}.map-toggle-btn[_ngcontent-%COMP%]:hover{background:var(--secondary-color);transform:translateY(-2px)}.map-toggle-btn.active[_ngcontent-%COMP%]{background:var(--secondary-color)}.map-toggle-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.2rem}.add-afroshop-btn[_ngcontent-%COMP%]{background:var(--accent-color);color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-lg);border-radius:var(--border-radius);font-size:1rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:var(--spacing-xs);transition:all .3s ease;box-shadow:var(--shadow-sm)}.add-afroshop-btn.primary[_ngcontent-%COMP%]{background:var(--accent-color);padding:var(--spacing-md) var(--spacing-xl);font-size:1.1rem;box-shadow:var(--shadow-md)}.add-afroshop-btn.disabled[_ngcontent-%COMP%]{background:#95a5a6;cursor:pointer}.add-afroshop-btn[_ngcontent-%COMP%]:hover:not(.disabled){background:#e67e22;transform:translateY(-2px);box-shadow:var(--shadow-lg)}.add-afroshop-btn.disabled[_ngcontent-%COMP%]:hover{background:#7f8c8d;transform:none}.add-afroshop-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.2rem}.admin-link-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#95a5a6,#7f8c8d);color:#fff;border:none;padding:8px 12px;border-radius:50%;font-size:1.1rem;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 8px #0000001a;margin-left:10px;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.admin-link-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#7f8c8d,#95a5a6);transform:translateY(-2px) scale(1.05);box-shadow:0 6px 20px #00000026}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}@media (max-width: 600px){.action-buttons[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.add-afroshop-btn[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-md);font-size:.9rem;width:auto;min-width:200px}.add-afroshop-btn.primary[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-lg);font-size:1rem}.header-content[_ngcontent-%COMP%]{align-items:center}.header-actions[_ngcontent-%COMP%]{margin-left:0}}.map-view[_ngcontent-%COMP%]{margin-bottom:var(--spacing-lg);border-radius:var(--border-radius);overflow:hidden;box-shadow:var(--shadow)}.location-container[_ngcontent-%COMP%]{max-width:700px;margin:0 auto var(--spacing-lg) auto;text-align:center}.location-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:var(--text-dark);font-weight:500;margin-bottom:var(--spacing-sm);font-size:1.1rem}.city-search-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md);align-items:center}.city-input-group[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm);width:100%;max-width:500px;justify-content:center;align-items:stretch}.city-input[_ngcontent-%COMP%]{flex:1;padding:var(--spacing-sm) var(--spacing-md);border:2px solid #e0e0e0;border-radius:var(--border-radius);background:var(--background-white);font-size:1rem;color:var(--text-dark);transition:border-color .3s ease}.city-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #3498db1a}.city-input[_ngcontent-%COMP%]::placeholder{color:#999;font-style:italic}.search-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),#2980b9);color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--border-radius);font-size:.9rem;font-weight:500;cursor:pointer;white-space:nowrap;transition:all .3s ease;min-width:100px}.search-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#2980b9,var(--primary-color));transform:translateY(-1px);box-shadow:var(--shadow-sm)}.search-btn[_ngcontent-%COMP%]:disabled{background:#bdc3c7;cursor:not-allowed;transform:none}.quick-cities[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);flex-wrap:wrap;justify-content:center;width:100%;max-width:500px;margin:0 auto}.quick-label[_ngcontent-%COMP%]{color:var(--text-light);font-size:.9rem;white-space:nowrap;min-width:80px}.city-selector-compact[_ngcontent-%COMP%]{padding:var(--spacing-xs) var(--spacing-sm);border:2px solid #e0e0e0;border-radius:var(--border-radius);background:var(--background-white);font-size:.9rem;color:var(--text-dark);cursor:pointer;transition:border-color .3s ease;min-width:180px}.city-selector-compact[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #4a90e21a}.location-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-xs)}.location-btn[_ngcontent-%COMP%]{background:var(--secondary-color);color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--border-radius);font-size:.9rem;cursor:pointer;white-space:nowrap;transition:all .3s ease}.location-btn[_ngcontent-%COMP%]:hover{background:#e67e22;transform:translateY(-1px)}.location-hint[_ngcontent-%COMP%]{color:#666;font-size:.8em;text-align:center;max-width:250px}.radius-info[_ngcontent-%COMP%]{margin-top:var(--spacing-md);padding:var(--spacing-sm) var(--spacing-md);background:linear-gradient(135deg,#f8f9fa,#e9ecef);border:2px solid #dee2e6;border-radius:var(--border-radius);text-align:center;max-width:500px;margin-left:auto;margin-right:auto}.radius-indicator[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:600;font-size:1rem;margin-bottom:var(--spacing-xs)}.city-name[_ngcontent-%COMP%], .current-location[_ngcontent-%COMP%]{color:var(--secondary-color);font-weight:700}.results-count[_ngcontent-%COMP%]{color:var(--text-light);font-size:.9rem;font-style:italic}.distance[_ngcontent-%COMP%]{color:var(--secondary-color);font-size:.85rem;font-weight:500;margin-top:var(--spacing-xs)}@media (max-width: 600px){.unified-control-group[_ngcontent-%COMP%]{max-width:100%;padding:0 var(--spacing-sm)}.unified-input-group[_ngcontent-%COMP%]{flex-direction:column;height:auto;gap:var(--spacing-xs)}.unified-input[_ngcontent-%COMP%], .unified-select[_ngcontent-%COMP%], .unified-btn[_ngcontent-%COMP%]{height:50px;min-width:auto;width:100%}.filter-container.unified-control-group[_ngcontent-%COMP%]   .unified-select[_ngcontent-%COMP%]{max-width:100%}.city-input-group[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-xs)}.search-btn[_ngcontent-%COMP%]{min-width:auto;width:100%}.quick-cities[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-xs);max-width:100%}.quick-label[_ngcontent-%COMP%]{min-width:auto;text-align:center}.city-dropdown-group[_ngcontent-%COMP%]{width:100%;max-width:300px}.city-selector-compact[_ngcontent-%COMP%]{min-width:auto;width:100%;max-width:none}.location-container[_ngcontent-%COMP%]{max-width:100%;padding:0 var(--spacing-md)}}.no-results[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:400px;padding:var(--spacing-xl)}.no-results-content[_ngcontent-%COMP%]{text-align:center;max-width:400px}.no-results-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:var(--spacing-lg);opacity:.6}.no-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-dark);font-size:1.5rem;margin-bottom:var(--spacing-sm)}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);margin-bottom:var(--spacing-lg);line-height:1.6}.btn-clear-search[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-lg);border-radius:var(--border-radius);cursor:pointer;font-size:1rem;font-weight:500;transition:transform .3s ease,box-shadow .3s ease}.btn-clear-search[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:var(--spacing-lg);max-width:1200px;margin:0 auto;padding:0 var(--spacing-md)}@media (max-width: 768px){.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:var(--spacing-md);padding:0 var(--spacing-sm)}}@media (max-width: 480px){.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:var(--spacing-sm);padding:0 var(--spacing-xs)}}.image-card[_ngcontent-%COMP%], .shop-card[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s ease,box-shadow .3s ease;border-radius:var(--border-radius-lg);overflow:hidden;background:var(--background-white);box-shadow:var(--shadow-sm)}.image-card[_ngcontent-%COMP%]:hover, .shop-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:var(--shadow-lg)}.type-badge[_ngcontent-%COMP%]{position:absolute;top:var(--spacing-sm);left:var(--spacing-sm);background:#000c;color:#fff;padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--border-radius);font-size:1.2rem;z-index:2}.type-badge.restaurant[_ngcontent-%COMP%]{background:#e74c3ce6}.type-badge.epicerie[_ngcontent-%COMP%]{background:#27ae60e6}.type-badge.coiffeur[_ngcontent-%COMP%]{background:#9b59b6e6}.type-badge.vetement[_ngcontent-%COMP%]{background:#3498dbe6}.type-badge.services[_ngcontent-%COMP%]{background:#f1c40fe6;color:var(--text-dark)}.rating[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:var(--spacing-xs);opacity:.95}.image-wrapper[_ngcontent-%COMP%]{position:relative;height:300px;overflow:hidden}.gallery-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.image-card[_ngcontent-%COMP%]:hover   .gallery-image[_ngcontent-%COMP%]{transform:scale(1.05)}.image-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0009;color:#fff;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease}.image-card[_ngcontent-%COMP%]:hover   .image-overlay[_ngcontent-%COMP%], .shop-card[_ngcontent-%COMP%]:hover   .image-overlay[_ngcontent-%COMP%]{opacity:1}.click-hint[_ngcontent-%COMP%]{background:var(--primary-color);padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--border-radius);font-size:1rem;font-weight:600;box-shadow:var(--shadow-md);transition:transform .2s ease}.image-overlay[_ngcontent-%COMP%]:hover   .click-hint[_ngcontent-%COMP%]{transform:scale(1.05)}@media (max-width: 1024px){.gallery-container[_ngcontent-%COMP%]{padding:var(--spacing-md)}.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(300px,1fr))}}@media (max-width: 768px){.gallery-container[_ngcontent-%COMP%]{padding:var(--spacing-sm)}.gallery-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;text-align:center}.gallery-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;text-align:center}.image-overlay[_ngcontent-%COMP%]{position:static;transform:none;background:linear-gradient(135deg,#000c,#0009);margin-top:-60px;z-index:2;border-radius:0 0 var(--border-radius-lg) var(--border-radius-lg)}.image-card[_ngcontent-%COMP%]:hover   .image-overlay[_ngcontent-%COMP%]{transform:none}}@media (max-width: 480px){.gallery-container[_ngcontent-%COMP%]{padding:var(--spacing-xs)}.gallery-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;line-height:1.3}.gallery-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.image-card[_ngcontent-%COMP%], .shop-card[_ngcontent-%COMP%]{margin:0 var(--spacing-xs)}.image-overlay[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem}.image-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width: 360px){.gallery-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem}.image-wrapper[_ngcontent-%COMP%]{height:200px}}@media (max-width: 768px){.image-wrapper[_ngcontent-%COMP%]{height:250px}.search-container[_ngcontent-%COMP%]{max-width:100%;margin-bottom:var(--spacing-md)}.search-wrapper[_ngcontent-%COMP%]{border-radius:20px}.search-input[_ngcontent-%COMP%]{font-size:.9rem}.no-results-icon[_ngcontent-%COMP%]{font-size:3rem}.no-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem}}.edit-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:40px;height:40px;border-radius:50%;background:#fffffff2;border:none;cursor:pointer;font-size:1.2rem;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0003;transition:all var(--transition-normal);z-index:10}.edit-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:var(--primary-color);box-shadow:0 4px 12px #e639464d}.edit-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.card-info[_ngcontent-%COMP%]{padding:var(--spacing-md);background:var(--background-white);border-top:1px solid var(--background-light)}.shop-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--text-dark);margin:0 0 var(--spacing-xs) 0;line-height:1.3;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical}.shop-location[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-light);margin:0 0 var(--spacing-sm) 0;display:flex;align-items:center;gap:var(--spacing-xs)}.shop-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);flex-wrap:wrap}.shop-meta[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{color:var(--accent-color);font-weight:600;font-size:.95rem}.shop-meta[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:var(--success-color);font-weight:700;font-size:.95rem}.shop-meta[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{background:var(--background-light);color:var(--text-light);padding:.25rem .5rem;border-radius:var(--border-radius-sm);font-size:.85rem;font-weight:500}.city-dropdown-group[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm);align-items:stretch;flex:1}.city-dropdown-group[_ngcontent-%COMP%]   .city-selector-compact[_ngcontent-%COMP%]{flex:1;min-width:180px}.validate-city-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--success-color),#27ae60);color:#fff;border:none;padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--border-radius);font-size:.85rem;font-weight:500;cursor:pointer;white-space:nowrap;transition:all .3s ease;min-width:90px}.validate-city-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#27ae60,var(--success-color));transform:translateY(-1px);box-shadow:var(--shadow-sm)}.validate-city-btn[_ngcontent-%COMP%]:disabled{background:#bdc3c7;cursor:not-allowed;transform:none;opacity:.6}@media (max-width: 768px){.city-dropdown-group[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-xs)}.validate-city-btn[_ngcontent-%COMP%]{min-width:auto;padding:var(--spacing-sm)}}@media (min-width: 1400px){.filter-container.unified-control-group[_ngcontent-%COMP%]   .unified-select[_ngcontent-%COMP%]{max-width:320px;min-width:200px}.city-input-compact[_ngcontent-%COMP%]{max-width:350px;min-width:220px}.city-select-compact[_ngcontent-%COMP%]{max-width:280px;min-width:200px}.search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{min-width:100px}}@media (min-width: 700px) and (max-width: 1024px){.location-container[_ngcontent-%COMP%]{display:flex!important;flex-direction:row!important;align-items:center!important;gap:.8rem;width:100%}.city-search-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%]{flex:1 1 0;min-width:0}.city-search-group[_ngcontent-%COMP%]   .unified-input-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%]   .unified-input-group[_ngcontent-%COMP%]{display:flex!important;flex-direction:row!important;align-items:center!important;gap:.6rem!important;width:100%}.unified-input.city-input-compact[_ngcontent-%COMP%], .unified-select.city-select-compact[_ngcontent-%COMP%]{flex:1 1 auto!important;min-width:0!important}.search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{flex:0 0 auto!important;margin-left:0!important}.city-search-group[_ngcontent-%COMP%]{margin-bottom:0!important}.quick-cities-group[_ngcontent-%COMP%]{margin-top:0!important}}.intro-section[_ngcontent-%COMP%], .controls-section[_ngcontent-%COMP%]{background:linear-gradient(180deg,#080a0ff5,#14181ef0);color:#e6eef8;padding:1rem .6rem;border-radius:12px;box-shadow:0 8px 28px #02061799;margin-bottom:1rem}.intro-message[_ngcontent-%COMP%]{color:#eaf4ff;font-weight:600}.intro-actions[_ngcontent-%COMP%]   .add-shop-btn[_ngcontent-%COMP%], .intro-actions[_ngcontent-%COMP%]   .settings-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3178e0,#1a63c4);color:#fff;box-shadow:0 6px 18px #0309278c}.unified-select[_ngcontent-%COMP%], .unified-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .unified-select[_ngcontent-%COMP%]:focus, .unified-select[_ngcontent-%COMP%]:active{color:#0b1220!important;background:#fff!important;-webkit-text-fill-color:#0b1220!important}.type-filter-group[_ngcontent-%COMP%]   .unified-select[_ngcontent-%COMP%], .unified-select.type-select-compact[_ngcontent-%COMP%]{color:#0b1220!important;background:#fff!important;-webkit-text-fill-color:#0b1220!important}.unified-select[_ngcontent-%COMP%]{-webkit-appearance:none!important;appearance:none!important}.unified-select[_ngcontent-%COMP%]::placeholder{color:#0b1220!important}"]})};function Sa(o,t){if(o&1){let e=k();r(0,"button",27),b("click",function(){u(e);let s=m(2);return h(s.editProducts())}),a(1),i()}if(o&2){let e=m(2);p("title",e.texts.edit),l(),x(" ",e.texts.edit," ")}}function Pa(o,t){if(o&1){let e=k();r(0,"div")(1,"img",28),b("error",function(s){u(e);let d=m(2);return h(d.onImageError(s))}),i()()}if(o&2){let e=m(2);l(),p("src",e.afroshop.image,te)("alt",e.afroshop.name)}}function Oa(o,t){if(o&1&&(r(0,"div",29)(1,"div",30),a(2,"\u{1F4F7}"),i(),r(3,"p"),a(4),i(),r(5,"small"),a(6),i()()),o&2){let e=m(2);l(4),_(e.texts.noImage),l(2),_(e.afroshop.image?"Fehler beim Laden: "+e.afroshop.image:"Keine Bild-URL gespeichert")}}function ka(o,t){if(o&1&&(r(0,"div",31),a(1),i()),o&2){let e=m(2);l(),V(" \u{1F37D}\uFE0F ",e.afroshop.cuisine||"\u2014"," ",e.texts.cuisine," ")}}function Ea(o,t){if(o&1&&(r(0,"p")(1,"a",32),a(2),i()()),o&2){let e=m(2);l(),Tt("href","tel:",e.afroshop.phone,"",te),l(),x(" ",e.afroshop.phone," ")}}function Ia(o,t){if(o&1&&(r(0,"span",33),a(1),i()),o&2){let e=m(2);l(),_(e.texts.notProvided)}}function Aa(o,t){if(o&1&&(r(0,"div",34)(1,"span",35),a(2),i(),r(3,"span",36),a(4),i()()),o&2){let e=t.$implicit;nt("closed",!e.isOpen)("open",e.isOpen),l(2),x("",e.day,":"),l(),nt("closed-text",!e.isOpen),l(),x(" ",e.hours," ")}}function Da(o,t){if(o&1&&(r(0,"div")(1,"strong"),a(2),i(),r(3,"span"),a(4),i()()),o&2){let e=m(3);l(2),x("\u{1F464} ",e.texts.impressumName,""),l(2),_(e.afroshop.impressumName)}}function za(o,t){if(o&1&&(r(0,"div")(1,"strong"),a(2),i(),r(3,"span"),a(4),i()()),o&2){let e=m(3);l(2),x("\u{1F4CD} ",e.texts.impressumAddress,""),l(2),_(e.afroshop.impressumAddress)}}function Ta(o,t){if(o&1&&(r(0,"div")(1,"strong"),a(2),i(),r(3,"span")(4,"a",46),a(5),i()()()),o&2){let e=m(3);l(2),x("\u{1F4E7} ",e.texts.impressumEmail,""),l(2),Tt("href","mailto:",e.afroshop.impressumEmail,"",te),l(),_(e.afroshop.impressumEmail)}}function La(o,t){if(o&1&&(r(0,"div")(1,"strong"),a(2),i(),r(3,"span")(4,"a",46),a(5),i()()()),o&2){let e=m(3);l(2),x("\u{1F4DE} ",e.texts.impressumPhone,""),l(2),Tt("href","tel:",e.afroshop.impressumPhone,"",te),l(),_(e.afroshop.impressumPhone)}}function Fa(o,t){if(o&1&&(r(0,"div")(1,"strong"),a(2),i(),r(3,"span",47),a(4),i()()),o&2){let e=m(3);l(2),x("\u{1F4DD} ",e.texts.impressumAdditional,""),l(2),_(e.afroshop.impressumText)}}function Ra(o,t){if(o&1){let e=k();r(0,"div",37)(1,"div",38)(2,"button",39),b("click",function(){u(e);let s=m(2);return h(s.showImpressum=!1)}),a(3,"\u2716"),i(),r(4,"h3"),a(5),i(),r(6,"div",40)(7,"div",41)(8,"p")(9,"strong"),a(10),i()(),r(11,"p"),a(12),r(13,"strong"),a(14),i(),a(15),i()(),P(16,"hr"),r(17,"div",42),f(18,Da,5,2,"div",43)(19,za,5,2,"div",43)(20,Ta,6,4,"div",43)(21,La,6,4,"div",43)(22,Fa,5,2,"div",43),i(),r(23,"small",44),a(24),i()()(),r(25,"div",45),b("click",function(){u(e);let s=m(2);return h(s.showImpressum=!1)}),i()()}if(o&2){let e=m(2);l(5),x("\u{1F4CB} ",e.texts.impressumTitle,""),l(5),x("\u26A0\uFE0F ",e.texts.impressumNotice,""),l(2),x("",e.texts.impressumDisclaimer," "),l(2),_(e.afroshop.impressumName||"[Betreiber]"),l(),_(e.texts.impressumNotSeller),l(3),p("ngIf",e.afroshop.impressumName),l(),p("ngIf",e.afroshop.impressumAddress),l(),p("ngIf",e.afroshop.impressumEmail),l(),p("ngIf",e.afroshop.impressumPhone),l(),p("ngIf",e.afroshop.impressumText),l(2),x("\u{1F4A1} ",e.texts.impressumHint,"")}}function Ba(o,t){if(o&1){let e=k();r(0,"div",4)(1,"div",5)(2,"button",6),b("click",function(){u(e);let s=m();return h(s.goBack())}),a(3),i(),f(4,Sa,2,2,"button",7),i(),r(5,"div",8)(6,"div",9),f(7,Pa,2,2,"div",10)(8,Oa,7,2,"ng-template",null,0,Ye),r(10,"div",11),a(11),oe(12,"titlecase"),i()(),r(13,"div",12)(14,"h1"),a(15),i(),r(16,"div",13)(17,"div",14),a(18),i(),f(19,ka,2,2,"div",15),i(),r(20,"div",16)(21,"div",17)(22,"strong"),a(23),i(),r(24,"p"),a(25),i()(),r(26,"div",17)(27,"strong"),a(28),i(),f(29,Ea,3,3,"p",10)(30,Ia,2,1,"ng-template",null,1,Ye),i(),r(32,"div",17)(33,"strong"),a(34),i(),r(35,"div",18),f(36,Aa,5,8,"div",19),i()()(),r(37,"div",20)(38,"h3"),a(39),i(),r(40,"p"),a(41),i()(),r(42,"div",21)(43,"button",22),b("click",function(){u(e);let s=m();return h(s.callPhone(s.afroshop.phone))}),a(44),i(),r(45,"button",23),b("click",function(){u(e);let s=m();return h(s.goToShop())}),a(46),i(),r(47,"button",24),b("click",function(){u(e);let s=m();return h(s.showImpressum=!0)}),a(48),i(),r(49,"button",25),b("click",function(){u(e);let s=m();return h(s.goBack())}),a(50),i(),f(51,Ra,26,11,"div",26),i()()()()}if(o&2){let e=fe(9),n=fe(31),s=m();l(3),x(" \u2190 ",s.texts.backToOverview," "),l(),p("ngIf",s.canEdit()),l(3),p("ngIf",s.afroshop.image)("ngIfElse",e),l(3),$e(s.afroshop.type),l(),V(" ",s.getTypeIcon(s.afroshop.type)," ",it(12,26,s.afroshop.type)," "),l(4),_(s.afroshop.name),l(3),V(" \u2B50 ",s.afroshop.rating||"\u2014","/5 \u2022 ",s.getPriceLevel(s.afroshop.priceLevel||1)," "),l(),p("ngIf",s.afroshop.cuisine),l(4),x("\u{1F4CD} ",s.texts.address,""),l(2),_(s.afroshop.address),l(3),x("\u{1F4DE} ",s.texts.phone,""),l(),p("ngIf",s.afroshop.phone)("ngIfElse",n),l(5),x("\u{1F552} ",s.texts.openingHours,""),l(2),p("ngForOf",s.formattedHours),l(3),_(s.texts.aboutUs),l(2),_(s.afroshop.description),l(3),x("\u{1F4DE} ",s.texts.call,""),l(2),x("\u{1F6D2} ",s.texts.shop,""),l(2),x("\u{1F4DD} ",s.texts.impressumTitle,""),l(2),x("\u2190 ",s.texts.back,""),l(),p("ngIf",s.showImpressum)}}function Na(o,t){if(o&1){let e=k();r(0,"div",48)(1,"h2"),a(2),i(),r(3,"p"),a(4),i(),r(5,"button",6),b("click",function(){u(e);let s=m();return h(s.goBack())}),a(6),i()()}if(o&2){let e=m();l(2),x("\u274C ",e.texts.impressumNotFound,""),l(2),_(e.texts.impressumNotFoundMsg),l(2),x(" \u2190 ",e.texts.backToOverview," ")}}var Kt=class o{constructor(t,e,n,s,d,c,g,v){this.route=t;this.router=e;this.afroshopService=n;this.firebaseService=s;this.authService=d;this.languageService=c;this.title=g;this.meta=v}langSub;texts={backToOverview:"Zur\xFCck zur \xDCbersicht",edit:"bearbeiten",noImage:"Kein Bild verf\xFCgbar",address:"Adresse:",phone:"Telefon:",notProvided:"Non renseign\xE9",openingHours:"\xD6ffnungszeiten:",aboutUs:"\xDCber uns",cuisine:"K\xFCche",monday:"Montag",tuesday:"Dienstag",wednesday:"Mittwoch",thursday:"Donnerstag",friday:"Freitag",saturday:"Samstag",sunday:"Sonntag",closed:"Geschlossen",call:"Anrufen",shop:"Einkaufen",back:"Zur\xFCck",impressumTitle:"Impressum",impressumNotice:"Hinweis",impressumDisclaimer:"Dieses Gesch\xE4ft wird von",impressumNotSeller:"betrieben. AfroConnect ist nicht Verk\xE4ufer.",impressumName:"Name/Firma:",impressumAddress:"Adresse:",impressumEmail:"E-Mail:",impressumPhone:"Telefon:",impressumAdditional:"Weitere Angaben:",impressumHint:"Dieses Impressum wurde vom Shop-Betreiber hinterlegt. Angaben ohne Gew\xE4hr.",impressumNotFound:"Gesch\xE4ft nicht gefunden",impressumNotFoundMsg:"Das gesuchte Gesch\xE4ft existiert nicht."};showImpressum=!1;afroshop;shopId="";formattedHours=[];cart=[];newProduct={id:"",name:"",price:0,image:"",category:"Lebensmittel"};isAdmin=!1;productImagePreview=null;productImageFile=null;editProducts(){this.shopId&&this.router.navigate(["/edit-afroshop",this.shopId])}ngOnInit(){this.langSub=this.languageService.currentLanguage$.subscribe(()=>{this.updateTranslations()}),this.updateTranslations();let t=this.route.snapshot.paramMap.get("id");t&&(this.shopId=t,console.log("\u{1F50D} Recherche Afroshop avec ID:",t),this.firebaseService.getAllAfroshops().subscribe({next:e=>{console.log("\u{1F50D} Afroshops disponibles:",e.map(n=>`${n.id}: ${n.name}`)),this.afroshop=e.find(n=>n.id===t||n.id===+t||n.id.toString()===t),this.afroshop?(console.log("\u2705 Afroshop trouv\xE9:",this.afroshop.name),console.log("\u{1F5BC}\uFE0F URL de l'image:",this.afroshop.image),console.log("\u{1F4E6} Donn\xE9es compl\xE8tes:",this.afroshop),console.log("\u{1F4DD} Impressum donn\xE9es:",{name:this.afroshop.impressumName,address:this.afroshop.impressumAddress,email:this.afroshop.impressumEmail,phone:this.afroshop.impressumPhone,text:this.afroshop.impressumText}),this.parseOpeningHours(this.afroshop.hours||""),this.title.setTitle(`${this.afroshop.name} | AfroConnect`),this.meta.updateTag({name:"description",content:this.afroshop.description||""}),this.meta.updateTag({name:"keywords",content:`${this.afroshop.name}, ${this.afroshop.type}, ${this.afroshop.city}, AfroConnect`}),this.meta.updateTag({name:"keywords",content:`${this.afroshop.name}, ${this.afroshop.type}, ${this.afroshop.city}, AfroConnect, Alloco, Kochbanane, ignam, fufu, manioc, feuilles de patate, feuilles de manioc, okra, gombo, atti\xE9k\xE9, poisson fum\xE9, \xE9pices africaines, plantain, couscous de ma\xEFs, arachide, huile de palme, bissap, gingembre, ndol\xE9, maf\xE9, yassa, poulet DG, sauce graine, sauce feuille, sauce arachide, k\xE9dj\xE9nou, gari, tapioca, bouillon cube, piment africain`}),this.meta.updateTag({property:"og:title",content:`${this.afroshop.name} | AfroConnect`}),this.meta.updateTag({property:"og:description",content:this.afroshop.description||""}),this.meta.updateTag({property:"og:image",content:this.afroshop.image||""})):(console.log("\u274C Afroshop non trouv\xE9 avec ID:",t),console.log("\u274C Types des IDs:",e.map(n=>`${n.id} (${typeof n.id})`)))},error:e=>{console.error("Erreur lors du chargement Firebase:",e);let n=+t;this.afroshop=this.afroshopService.getAfroshopById(n),this.afroshop&&(this.title.setTitle(`${this.afroshop.name} | AfroConnect`),this.meta.updateTag({name:"description",content:this.afroshop.description||""}),this.meta.updateTag({name:"keywords",content:`${this.afroshop.name}, ${this.afroshop.type}, ${this.afroshop.city}, AfroConnect`}),this.meta.updateTag({name:"keywords",content:`${this.afroshop.name}, ${this.afroshop.type}, ${this.afroshop.city}, AfroConnect, Alloco, Kochbanane, ignam, fufu, manioc, feuilles de patate, feuilles de manioc, okra, gombo, atti\xE9k\xE9, poisson fum\xE9, \xE9pices africaines, plantain, couscous de ma\xEFs, arachide, huile de palme, bissap, gingembre, ndol\xE9, maf\xE9, yassa, poulet DG, sauce graine, sauce feuille, sauce arachide, k\xE9dj\xE9nou, gari, tapioca, bouillon cube, piment africain`}),this.meta.updateTag({property:"og:title",content:`${this.afroshop.name} | AfroConnect`}),this.meta.updateTag({property:"og:description",content:this.afroshop.description||""}),this.meta.updateTag({property:"og:image",content:this.afroshop.image||""}))}})),this.authService.user$.subscribe(e=>{e?.uid&&this.afroshop?this.isAdmin=this.afroshop&&this.afroshop.createdBy?e.uid===this.afroshop.createdBy:!1:this.isAdmin=!1})}goBack(){this.router.navigate(["/gallery"])}onImageError(t){console.error("\u274C Erreur chargement image:",t),console.error("\u274C URL qui a \xE9chou\xE9:",t.target?.src)}callPhone(t){window.open(`tel:${t}`,"_self")}openInMaps(){if(this.afroshop&&this.afroshop.address){let e=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(this.afroshop.address)}`;window.open(e,"_blank")}else if(this.afroshop&&this.afroshop.coordinates){let e=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${this.afroshop.coordinates.lat},${this.afroshop.coordinates.lng}`)}`;window.open(e,"_blank")}}getDirections(){if(this.afroshop&&this.afroshop.address){let e=`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(this.afroshop.address)}`;window.open(e,"_blank")}else if(this.afroshop&&this.afroshop.coordinates){let e=`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(`${this.afroshop.coordinates.lat},${this.afroshop.coordinates.lng}`)}`;window.open(e,"_blank")}}getTypeIcon(t){return t&&{restaurant:"\u{1F37D}\uFE0F",epicerie:"\u{1F6D2}",coiffeur:"\u2702\uFE0F",vetement:"\u{1F457}",services:"\u{1F3E6}"}[t]||""}getPriceLevel(t){return"\u20AC".repeat(t)}canEdit(){let t=this.authService.getCurrentUser();if(console.log("\u{1F50D} Debug canEdit:"),console.log("  - User connect\xE9:",t?.uid),console.log("  - Afroshop:",this.afroshop),console.log("  - CreatedBy:",this.afroshop?.createdBy),!t||!this.afroshop)return console.log("  \u274C Pas de user ou pas d'afroshop"),!1;let e=this.afroshop.createdBy===t.uid;return console.log("  \u2705 Peut \xE9diter:",e),e}isShopOwner(){let t=this.authService.getCurrentUser();return!t||!this.afroshop?!1:this.afroshop.createdBy===t.uid}parseOpeningHours(t){if(this.formattedHours=[],!t)return;let e={Mo:this.texts.monday,Di:this.texts.tuesday,Mi:this.texts.wednesday,Do:this.texts.thursday,Fr:this.texts.friday,Sa:this.texts.saturday,So:this.texts.sunday},n=t.split(",").map(c=>c.trim()),s=[this.texts.monday,this.texts.tuesday,this.texts.wednesday,this.texts.thursday,this.texts.friday,this.texts.saturday,this.texts.sunday],d={};s.forEach(c=>{d[c]={isOpen:!1,hours:this.texts.closed}}),n.forEach(c=>{let g=c.indexOf(":");if(g===-1)return;let v=c.substring(0,g).trim(),O=c.substring(g+1).trim();if(v.includes("-")){let[I,L]=v.split("-").map(Z=>Z.trim()),N=e[I],X=e[L];if(N&&X){let Z=s.indexOf(N),pe=s.indexOf(X);if(Z!==-1&&pe!==-1)if(Z<=pe)for(let B=Z;B<=pe;B++)d[s[B]]={isOpen:!0,hours:O};else{for(let B=Z;B<s.length;B++)d[s[B]]={isOpen:!0,hours:O};for(let B=0;B<=pe;B++)d[s[B]]={isOpen:!0,hours:O}}}}else{let I=e[v];I&&(d[I]={isOpen:!0,hours:O})}}),s.forEach(c=>{this.formattedHours.push({day:c,hours:d[c].hours,isOpen:d[c].isOpen})})}editAfroshop(){this.canEdit()&&this.router.navigate(["/edit-afroshop",this.shopId])}goToShop(){this.router.navigate(["/shop",this.shopId])}updateTranslations(){this.texts={backToOverview:this.languageService.translate("detail.backToOverview"),edit:this.languageService.translate("detail.edit"),noImage:this.languageService.translate("detail.noImage"),address:this.languageService.translate("detail.address"),phone:this.languageService.translate("detail.phone"),notProvided:this.languageService.translate("detail.notProvided"),openingHours:this.languageService.translate("detail.openingHours"),aboutUs:this.languageService.translate("detail.aboutUs"),cuisine:this.languageService.translate("detail.cuisine"),monday:this.languageService.translate("day.monday"),tuesday:this.languageService.translate("day.tuesday"),wednesday:this.languageService.translate("day.wednesday"),thursday:this.languageService.translate("day.thursday"),friday:this.languageService.translate("day.friday"),saturday:this.languageService.translate("day.saturday"),sunday:this.languageService.translate("day.sunday"),closed:this.languageService.translate("day.closed"),call:this.languageService.translate("btn.call"),shop:this.languageService.translate("btn.shop"),back:this.languageService.translate("btn.back"),impressumTitle:this.languageService.translate("impressum.title"),impressumNotice:this.languageService.translate("impressum.notice"),impressumDisclaimer:this.languageService.translate("impressum.disclaimer"),impressumNotSeller:this.languageService.translate("impressum.notSeller"),impressumName:this.languageService.translate("impressum.name"),impressumAddress:this.languageService.translate("impressum.address"),impressumEmail:this.languageService.translate("impressum.email"),impressumPhone:this.languageService.translate("impressum.phone"),impressumAdditional:this.languageService.translate("impressum.additional"),impressumHint:this.languageService.translate("impressum.hint"),impressumNotFound:this.languageService.translate("impressum.notFound"),impressumNotFoundMsg:this.languageService.translate("impressum.notFoundMsg")},this.afroshop?.hours&&this.parseOpeningHours(this.afroshop.hours)}ngOnDestroy(){this.langSub?.unsubscribe()}static \u0275fac=function(e){return new(e||o)(w(se),w(R),w(We),w(U),w(T),w(re),w(oi),w(ri))};static \u0275cmp=E({type:o,selectors:[["app-image-detail"]],decls:2,vars:2,consts:[["noImage",""],["noPhone",""],["class","detail-container",4,"ngIf"],["class","error-container",4,"ngIf"],[1,"detail-container"],[1,"detail-header","flex-header"],[1,"back-button",3,"click"],["class","add-product-btn",3,"title","click",4,"ngIf"],[1,"detail-content"],[1,"image-section"],[4,"ngIf","ngIfElse"],[1,"type-badge-large"],[1,"info-section"],[1,"quick-info"],[1,"rating-info"],["class","cuisine-info",4,"ngIf"],[1,"contact-section"],[1,"contact-item"],[1,"opening-hours-display"],["class","day-row",3,"closed","open",4,"ngFor","ngForOf"],[1,"description"],[1,"actions"],[1,"action-btn","call",3,"click"],["title","Zum Shop",1,"action-btn","cart",3,"click"],[1,"action-btn","impressum",3,"click"],[1,"action-btn","secondary",3,"click"],["class","impressum-modal",4,"ngIf"],[1,"add-product-btn",3,"click","title"],[1,"detail-image",3,"error","src","alt"],[1,"no-image-placeholder",2,"background","#f5f5f5","padding","2rem","text-align","center","border-radius","8px"],[2,"font-size","3rem"],[1,"cuisine-info"],[1,"phone-link",3,"href"],[2,"color","#888"],[1,"day-row"],[1,"day-name"],[1,"day-hours"],[1,"impressum-modal"],[1,"impressum-modal-content"],[1,"close-btn",3,"click"],[1,"impressum-modal-scroll-wrapper"],[1,"afroconnect-disclaimer"],[1,"impressum-info-container"],[4,"ngIf"],[1,"form-hint"],[1,"impressum-modal-backdrop",3,"click"],[3,"href"],[2,"display","block","margin-top","0.5rem","white-space","pre-line"],[1,"error-container"]],template:function(e,n){e&1&&f(0,Ba,52,28,"div",2)(1,Na,7,3,"div",3),e&2&&(p("ngIf",n.afroshop),l(),p("ngIf",!n.afroshop))},dependencies:[A,H,D,rt,$],styles:[`.flex-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.add-product-btn{background:#1e88e5;color:#fff;border:none;border-radius:4px;padding:.5rem 1.2rem;font-size:1rem;cursor:pointer;transition:background .2s;display:flex;align-items:center;gap:.5rem}.add-product-btn:hover{background:#1565c0}.detail-container{background:pink!important}.detail-container{max-width:1200px;margin:0 auto;padding:var(--spacing-lg)}.detail-header{margin-bottom:var(--spacing-lg);display:flex;justify-content:space-between;align-items:center;gap:var(--spacing-md)}.back-button{background:var(--text-light);color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--border-radius);cursor:pointer;font-size:1rem;transition:all .3s ease}.back-button:hover{background:var(--primary-color);transform:translate(-5px)}.edit-button{background:linear-gradient(135deg,var(--accent-color),var(--accent-light));color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--border-radius);cursor:pointer;font-size:1rem;font-weight:600;transition:all var(--transition-normal);box-shadow:var(--shadow-sm);display:inline-flex;align-items:center;gap:var(--spacing-xs)}.edit-button:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}.detail-content{display:grid;grid-template-columns:1fr 1fr;gap:var(--spacing-xl);align-items:start}.image-section{position:sticky;top:var(--spacing-lg)}.detail-image{width:100%;height:auto;max-height:70vh;object-fit:cover;border-radius:var(--border-radius-lg);box-shadow:var(--shadow-md)}.info-section{padding:var(--spacing-md)}.info-section h1{color:var(--primary-color);font-size:2.5rem;margin-bottom:var(--spacing-sm);font-weight:300}.type-badge-large{position:absolute;top:var(--spacing-md);right:var(--spacing-md);background:#000c;color:#fff;padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--border-radius-lg);font-weight:500;font-size:1.1rem;text-transform:capitalize}.quick-info{margin-bottom:var(--spacing-lg)}.rating-info{font-size:1.3rem;color:var(--text-dark);margin-bottom:var(--spacing-xs);font-weight:500}.cuisine-info{color:var(--primary-color);font-weight:500;background:var(--background-light);padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--border-radius);display:inline-block}.contact-section{background:var(--background-light);padding:var(--spacing-lg);border-radius:var(--border-radius-lg);margin-bottom:var(--spacing-lg);border-left:4px solid var(--primary-color)}.contact-item{margin-bottom:var(--spacing-md)}.contact-item:last-child{margin-bottom:0}.contact-item strong{color:var(--text-dark);display:block;margin-bottom:var(--spacing-xs)}.contact-item p{color:var(--text-light);margin:0}.phone-link{color:var(--primary-color);text-decoration:none;font-weight:500;transition:color .3s ease}.phone-link:hover{color:var(--secondary-color)}.description{margin-bottom:var(--spacing-xl)}.description h3{color:var(--text-dark);font-size:1.5rem;margin-bottom:var(--spacing-sm);font-weight:500}.description p{color:var(--text-light);line-height:1.8;font-size:1.1rem}.actions{display:flex;gap:var(--spacing-sm)}.action-btn{padding:var(--spacing-sm) var(--spacing-lg);border:none;border-radius:var(--border-radius);cursor:pointer;font-size:1rem;transition:all .3s ease;font-weight:500}.action-btn.call{background:#27ae60;color:#fff}.action-btn.call:hover{background:#229954;transform:translateY(-2px);box-shadow:var(--shadow-md)}.action-btn.maps{background:#3498db;color:#fff}.action-btn.maps:hover{background:#2980b9;transform:translateY(-2px);box-shadow:var(--shadow-md)}.action-btn.route{background:#e67e22;color:#fff}.action-btn.route:hover{background:#d35400;transform:translateY(-2px);box-shadow:var(--shadow-md)}.action-btn.secondary{background:var(--text-light);color:#fff}.action-btn.secondary:hover{background:var(--primary-color);transform:translateY(-2px);box-shadow:var(--shadow-md)}.error-container{text-align:center;padding:var(--spacing-xl);max-width:600px;margin:0 auto}.error-container h2{color:#e74c3c;font-size:2rem;margin-bottom:var(--spacing-md)}.error-container p{color:var(--text-light);font-size:1.1rem;margin-bottom:var(--spacing-lg)}.impressum-modal{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center;background:#0009;backdrop-filter:blur(4px);animation:fadeInBg .3s ease-out}.impressum-modal-content{background:linear-gradient(145deg,#fff,#f8f9fa);border-radius:24px;box-shadow:0 20px 60px #0000004d,0 0 1px #0000001a;padding:0;max-width:550px;width:90vw;max-height:85vh;overflow:hidden;position:relative;animation:popIn .4s cubic-bezier(.34,1.56,.64,1);border:2px solid rgba(255,255,255,.8)}.impressum-modal-content h3{margin:0;padding:2rem 2.5rem 1.5rem;background:linear-gradient(135deg,#1e88e5,#1565c0);color:#fff;font-size:1.75rem;font-weight:700;text-align:center;border-radius:22px 22px 0 0;box-shadow:0 4px 12px #1e88e533;letter-spacing:.5px}.impressum-modal-scroll-wrapper{max-height:calc(85vh - 120px);overflow-y:auto;overflow-x:hidden;padding:1rem 2.5rem 2rem;scrollbar-width:thin;scrollbar-color:rgba(30,136,229,.3) rgba(0,0,0,.05)}.impressum-modal-scroll-wrapper::-webkit-scrollbar{width:8px}.impressum-modal-scroll-wrapper::-webkit-scrollbar-track{background:#0000000d;border-radius:10px}.impressum-modal-scroll-wrapper::-webkit-scrollbar-thumb{background:#1e88e54d;border-radius:10px;transition:background .2s}.impressum-modal-scroll-wrapper::-webkit-scrollbar-thumb:hover{background:#1e88e580}.impressum-modal-content>div:not(.afroconnect-disclaimer){padding:0}.impressum-info-container{padding:0;margin-bottom:1rem}.impressum-info-container>div{padding:.9rem 1.2rem;margin-bottom:.8rem;background:#fff;border-radius:10px;border-left:4px solid #1e88e5;box-shadow:0 2px 6px #0000000a;transition:all .2s ease}.impressum-info-container>div:hover{transform:translate(4px);box-shadow:0 4px 12px #1e88e526}.impressum-info-container strong{color:#1e88e5;font-weight:600;font-size:.95rem;display:block;margin-bottom:.3rem}.impressum-info-container span{color:#333;font-size:1rem;line-height:1.6}.impressum-modal-content .afroconnect-disclaimer{background:linear-gradient(135deg,#fff8e1,#ffecb3);border-left:5px solid #ffa726;padding:1.2rem 1.5rem;margin:0 0 1rem;border-radius:12px;box-shadow:0 2px 8px #ffa72626}.impressum-modal-content .afroconnect-disclaimer p{margin:.4rem 0;color:#e65100;font-size:.95rem;line-height:1.6}.impressum-modal-content .afroconnect-disclaimer p:first-child{font-weight:700;font-size:1rem;display:flex;align-items:center;gap:.5rem;margin-bottom:.6rem}.impressum-modal-content .afroconnect-disclaimer strong{color:#d84315;font-weight:700}.impressum-modal-content hr{margin:1.5rem 0;border:none;height:2px;background:linear-gradient(to right,transparent,#e0e0e0,transparent)}.impressum-modal-content .impressum-info-container strong{color:#1e88e5;font-weight:600;font-size:.95rem;display:block;margin-bottom:.3rem}.impressum-modal-content .impressum-info-container a{color:#1976d2;text-decoration:none;font-weight:500;transition:color .2s}.impressum-modal-content .impressum-info-container a:hover{color:#0d47a1;text-decoration:underline}.impressum-modal-content .form-hint{display:block;margin:1.5rem 0 0;padding:1rem;background:linear-gradient(135deg,#e3f2fd,#bbdefb);border-radius:10px;color:#1565c0;font-size:.88rem;text-align:center;line-height:1.5;font-style:italic}.impressum-modal-backdrop{position:fixed;inset:0;z-index:999;background:transparent}.close-btn{position:absolute;top:1.5rem;right:1.5rem;background:#ffffffe6;border:none;width:36px;height:36px;border-radius:50%;font-size:1.4rem;color:#666;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #00000026;z-index:10}.close-btn:hover{background:#fff;color:#e53935;transform:rotate(90deg) scale(1.1);box-shadow:0 4px 12px #e539354d}@media (min-width: 700px){.impressum-modal-content{max-width:600px}}@media (max-width: 500px){.impressum-modal-content{width:95vw;max-height:95vh;border-radius:16px;display:flex;flex-direction:column}.impressum-modal-content h3{font-size:1.3rem;padding:1rem 1rem .8rem;flex-shrink:0}.impressum-modal-scroll-wrapper{padding:.8rem 1rem 1rem;overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;flex:1;min-height:0}.impressum-info-container>div{padding:.6rem .8rem;margin-bottom:.5rem}.impressum-modal-content .afroconnect-disclaimer{padding:.8rem 1rem;margin:0 0 .8rem}.impressum-modal-content .afroconnect-disclaimer p{margin:.2rem 0;font-size:.85rem;line-height:1.4}.impressum-modal-content hr{margin:.8rem 0}.impressum-modal-content .form-hint{padding:.7rem;font-size:.8rem;margin-top:.8rem}.close-btn{top:.8rem;right:.8rem;width:30px;height:30px;font-size:1.1rem}}@keyframes fadeInBg{0%{background:#0000}to{background:#00000073}}@keyframes popIn{0%{transform:scale(.92) translateY(30px);opacity:0}to{transform:scale(1) translateY(0);opacity:1}}@media (max-width: 968px){.detail-content{grid-template-columns:1fr;gap:var(--spacing-lg)}}@media (max-width: 1024px){.detail-content{gap:var(--spacing-lg)}.image-section{position:static}.detail-image{max-height:50vh}.info-section h1{font-size:2rem}}@media (max-width: 768px){.detail-container{padding:var(--spacing-md);display:flex;flex-direction:column;align-items:center}.detail-header{flex-direction:column;align-items:center;gap:var(--spacing-sm);text-align:center}.detail-content{flex-direction:column;gap:var(--spacing-md);display:flex;align-items:center}.image-section{order:1;display:flex;justify-content:center;width:100%}.detail-image{margin:0 auto;display:block}.info-section{order:2;padding:var(--spacing-sm);width:100%;text-align:center;display:flex;flex-direction:column;align-items:center}.info-section h1{font-size:1.8rem;text-align:center}.quick-info{text-align:center;margin-bottom:var(--spacing-md)}.contact-section{margin-bottom:var(--spacing-lg);width:100%;text-align:center;display:flex;flex-direction:column;align-items:center}.contact-item{text-align:center;width:100%}.actions{justify-content:center;flex-wrap:wrap;gap:var(--spacing-sm);width:100%;display:flex;flex-direction:column;align-items:center}.action-btn{flex:1;min-width:120px;text-align:center;margin:0 auto;width:100%}.description p{font-size:1rem;line-height:1.6;text-align:center}}@media (max-width: 480px){.detail-container{padding:var(--spacing-sm)}.info-section h1{font-size:1.5rem}.quick-info{font-size:.9rem}.contact-item{margin-bottom:var(--spacing-md);padding:var(--spacing-sm);background:var(--background-light);border-radius:var(--border-radius)}.contact-item strong{display:block;margin-bottom:var(--spacing-xs);color:var(--primary-color)}.actions{flex-direction:column}.action-btn{width:100%;padding:var(--spacing-md);font-size:1rem}.back-button,.edit-button{width:100%;text-align:center;justify-content:center}}.opening-hours-display{margin-top:var(--spacing-sm);background:var(--surface-color);border-radius:var(--border-radius);padding:var(--spacing-md);border:1px solid var(--border-color)}.day-row{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-xs) 0;border-bottom:1px solid var(--border-light);transition:all var(--transition-normal)}.day-row:last-child{border-bottom:none}.day-row.open{background:linear-gradient(90deg,#4caf500d,#4caf5005)}.day-row.closed{background:linear-gradient(90deg,#f443360d,#f4433605)}.day-name{font-weight:600;color:var(--text-primary);min-width:100px;font-size:.95rem}.day-hours{color:#4caf50;font-weight:500;font-size:.95rem;text-align:right}.day-hours.closed-text{color:#f44336;font-style:italic}@media (max-width: 768px){.opening-hours-display{padding:var(--spacing-sm)}.day-row{padding:var(--spacing-xs)}.day-name{min-width:80px;font-size:.9rem}.day-hours{font-size:.9rem}}
`],encapsulation:2})};function Ga(o,t){o&1&&(r(0,"a",90),a(1,"\u2699\uFE0F Param\xE8tre"),i())}function Va(o,t){o&1&&(r(0,"span"),a(1,"\u{1F4E5} Importieren"),i())}function Ua(o,t){o&1&&(r(0,"span"),a(1,"\u23F3 L\xE4dt..."),i())}function Wa(o,t){if(o&1&&(r(0,"div",91),a(1),i()),o&2){let e=m();l(),x(" \u2705 ",e.successMessage," ")}}function ja(o,t){if(o&1&&(r(0,"div",92),a(1),i()),o&2){let e=m();l(),x(" \u274C ",e.errorMessage," ")}}function Ha(o,t){if(o&1&&(r(0,"div",93),a(1),i()),o&2){let e=m();l(),x(" \u26A0\uFE0F ",e.geocodingWarning||"Achtung: Die Adresse konnte nicht genau lokalisiert werden. Bitte \xFCberpr\xFCfen Sie die Eingabe."," ")}}function qa(o,t){if(o&1&&(r(0,"option",94),a(1),i()),o&2){let e=t.$implicit;p("value",e.value),l(),V(" ",e.icon," ",e.label," ")}}function Ka(o,t){o&1&&(r(0,"span"),a(1,"\u{1F4C1} Bild ausw\xE4hlen"),i())}function Za(o,t){o&1&&(r(0,"span"),a(1,"\u{1F504} Anderes Bild w\xE4hlen"),i())}function $a(o,t){o&1&&(r(0,"span"),a(1,"\u23F3 Wird bearbeitet..."),i())}function Ya(o,t){o&1&&(r(0,"div",95)(1,"div",96),P(2,"div",97),i(),r(3,"small"),a(4,"Bild wird komprimiert und vorbereitet..."),i()())}function Xa(o,t){if(o&1){let e=k();r(0,"div",98),P(1,"img",99),r(2,"button",100),b("click",function(){u(e);let s=m(),d=fe(48);return s.imagePreview=null,s.selectedFile=null,h(d.value="")}),a(3," \u2715 "),i()()}if(o&2){let e=m();l(),p("src",e.imagePreview,te)}}function Qa(o,t){o&1&&(r(0,"div",101),a(1," \u{1F5FA}\uFE0F Adresse wird georeferenziert... "),i())}function Ja(o,t){if(o&1&&(r(0,"div",102),a(1),i()),o&2){let e=m();l(),V(" \u2705 Standort gefunden: ",e.afroshop.coordinates.lat.toFixed(4),", ",e.afroshop.coordinates.lng.toFixed(4)," ")}}function es(o,t){if(o&1){let e=k();r(0,"div",11)(1,"label",103),a(2,"K\xFCche"),i(),r(3,"input",104),M("ngModelChange",function(s){u(e);let d=m();return C(d.afroshop.cuisine,s)||(d.afroshop.cuisine=s),h(s)}),i(),r(4,"small",33),a(5,"Spezifizieren Sie die Art der afrikanischen K\xFCche"),i()()}if(o&2){let e=m();l(3),y("ngModel",e.afroshop.cuisine)}}function ts(o,t){if(o&1){let e=k();r(0,"div",105)(1,"select",106),M("ngModelChange",function(s){u(e);let d=m();return C(d.openingHours.monday.open,s)||(d.openingHours.monday.open=s),h(s)}),r(2,"option",107),a(3,"06:00"),i(),r(4,"option",108),a(5,"07:00"),i(),r(6,"option",109),a(7,"08:00"),i(),r(8,"option",110),a(9,"09:00"),i(),r(10,"option",111),a(11,"10:00"),i(),r(12,"option",112),a(13,"11:00"),i(),r(14,"option",113),a(15,"12:00"),i(),r(16,"option",114),a(17,"13:00"),i(),r(18,"option",115),a(19,"14:00"),i(),r(20,"option",116),a(21,"15:00"),i(),r(22,"option",117),a(23,"16:00"),i(),r(24,"option",118),a(25,"17:00"),i(),r(26,"option",119),a(27,"18:00"),i(),r(28,"option",120),a(29,"19:00"),i(),r(30,"option",121),a(31,"20:00"),i(),r(32,"option",122),a(33,"21:00"),i(),r(34,"option",123),a(35,"22:00"),i(),r(36,"option",124),a(37,"23:00"),i()(),r(38,"span",125),a(39,"bis"),i(),r(40,"select",126),M("ngModelChange",function(s){u(e);let d=m();return C(d.openingHours.monday.close,s)||(d.openingHours.monday.close=s),h(s)}),r(41,"option",107),a(42,"06:00"),i(),r(43,"option",108),a(44,"07:00"),i(),r(45,"option",109),a(46,"08:00"),i(),r(47,"option",110),a(48,"09:00"),i(),r(49,"option",111),a(50,"10:00"),i(),r(51,"option",112),a(52,"11:00"),i(),r(53,"option",113),a(54,"12:00"),i(),r(55,"option",114),a(56,"13:00"),i(),r(57,"option",115),a(58,"14:00"),i(),r(59,"option",116),a(60,"15:00"),i(),r(61,"option",117),a(62,"16:00"),i(),r(63,"option",118),a(64,"17:00"),i(),r(65,"option",119),a(66,"18:00"),i(),r(67,"option",120),a(68,"19:00"),i(),r(69,"option",121),a(70,"20:00"),i(),r(71,"option",122),a(72,"21:00"),i(),r(73,"option",123),a(74,"22:00"),i(),r(75,"option",124),a(76,"23:00"),i()()()}if(o&2){let e=m();l(),y("ngModel",e.openingHours.monday.open),l(39),y("ngModel",e.openingHours.monday.close)}}function ns(o,t){if(o&1){let e=k();r(0,"div",105)(1,"select",127),M("ngModelChange",function(s){u(e);let d=m();return C(d.openingHours.tuesday.open,s)||(d.openingHours.tuesday.open=s),h(s)}),r(2,"option",107),a(3,"06:00"),i(),r(4,"option",108),a(5,"07:00"),i(),r(6,"option",109),a(7,"08:00"),i(),r(8,"option",110),a(9,"09:00"),i(),r(10,"option",111),a(11,"10:00"),i(),r(12,"option",112),a(13,"11:00"),i(),r(14,"option",113),a(15,"12:00"),i(),r(16,"option",114),a(17,"13:00"),i(),r(18,"option",115),a(19,"14:00"),i(),r(20,"option",116),a(21,"15:00"),i(),r(22,"option",117),a(23,"16:00"),i(),r(24,"option",118),a(25,"17:00"),i(),r(26,"option",119),a(27,"18:00"),i(),r(28,"option",120),a(29,"19:00"),i(),r(30,"option",121),a(31,"20:00"),i(),r(32,"option",122),a(33,"21:00"),i(),r(34,"option",123),a(35,"22:00"),i(),r(36,"option",124),a(37,"23:00"),i()(),r(38,"span",125),a(39,"bis"),i(),r(40,"select",128),M("ngModelChange",function(s){u(e);let d=m();return C(d.openingHours.tuesday.close,s)||(d.openingHours.tuesday.close=s),h(s)}),r(41,"option",107),a(42,"06:00"),i(),r(43,"option",108),a(44,"07:00"),i(),r(45,"option",109),a(46,"08:00"),i(),r(47,"option",110),a(48,"09:00"),i(),r(49,"option",111),a(50,"10:00"),i(),r(51,"option",112),a(52,"11:00"),i(),r(53,"option",113),a(54,"12:00"),i(),r(55,"option",114),a(56,"13:00"),i(),r(57,"option",115),a(58,"14:00"),i(),r(59,"option",116),a(60,"15:00"),i(),r(61,"option",117),a(62,"16:00"),i(),r(63,"option",118),a(64,"17:00"),i(),r(65,"option",119),a(66,"18:00"),i(),r(67,"option",120),a(68,"19:00"),i(),r(69,"option",121),a(70,"20:00"),i(),r(71,"option",122),a(72,"21:00"),i(),r(73,"option",123),a(74,"22:00"),i(),r(75,"option",124),a(76,"23:00"),i()()()}if(o&2){let e=m();l(),y("ngModel",e.openingHours.tuesday.open),l(39),y("ngModel",e.openingHours.tuesday.close)}}function is(o,t){if(o&1){let e=k();r(0,"div",105)(1,"select",129),M("ngModelChange",function(s){u(e);let d=m();return C(d.openingHours.wednesday.open,s)||(d.openingHours.wednesday.open=s),h(s)}),r(2,"option",107),a(3,"06:00"),i(),r(4,"option",108),a(5,"07:00"),i(),r(6,"option",109),a(7,"08:00"),i(),r(8,"option",110),a(9,"09:00"),i(),r(10,"option",111),a(11,"10:00"),i(),r(12,"option",112),a(13,"11:00"),i(),r(14,"option",113),a(15,"12:00"),i(),r(16,"option",114),a(17,"13:00"),i(),r(18,"option",115),a(19,"14:00"),i(),r(20,"option",116),a(21,"15:00"),i(),r(22,"option",117),a(23,"16:00"),i(),r(24,"option",118),a(25,"17:00"),i(),r(26,"option",119),a(27,"18:00"),i(),r(28,"option",120),a(29,"19:00"),i(),r(30,"option",121),a(31,"20:00"),i(),r(32,"option",122),a(33,"21:00"),i(),r(34,"option",123),a(35,"22:00"),i(),r(36,"option",124),a(37,"23:00"),i()(),r(38,"span",125),a(39,"bis"),i(),r(40,"select",130),M("ngModelChange",function(s){u(e);let d=m();return C(d.openingHours.wednesday.close,s)||(d.openingHours.wednesday.close=s),h(s)}),r(41,"option",107),a(42,"06:00"),i(),r(43,"option",108),a(44,"07:00"),i(),r(45,"option",109),a(46,"08:00"),i(),r(47,"option",110),a(48,"09:00"),i(),r(49,"option",111),a(50,"10:00"),i(),r(51,"option",112),a(52,"11:00"),i(),r(53,"option",113),a(54,"12:00"),i(),r(55,"option",114),a(56,"13:00"),i(),r(57,"option",115),a(58,"14:00"),i(),r(59,"option",116),a(60,"15:00"),i(),r(61,"option",117),a(62,"16:00"),i(),r(63,"option",118),a(64,"17:00"),i(),r(65,"option",119),a(66,"18:00"),i(),r(67,"option",120),a(68,"19:00"),i(),r(69,"option",121),a(70,"20:00"),i(),r(71,"option",122),a(72,"21:00"),i(),r(73,"option",123),a(74,"22:00"),i(),r(75,"option",124),a(76,"23:00"),i()()()}if(o&2){let e=m();l(),y("ngModel",e.openingHours.wednesday.open),l(39),y("ngModel",e.openingHours.wednesday.close)}}function rs(o,t){if(o&1){let e=k();r(0,"div",105)(1,"select",131),M("ngModelChange",function(s){u(e);let d=m();return C(d.openingHours.thursday.open,s)||(d.openingHours.thursday.open=s),h(s)}),r(2,"option",107),a(3,"06:00"),i(),r(4,"option",108),a(5,"07:00"),i(),r(6,"option",109),a(7,"08:00"),i(),r(8,"option",110),a(9,"09:00"),i(),r(10,"option",111),a(11,"10:00"),i(),r(12,"option",112),a(13,"11:00"),i(),r(14,"option",113),a(15,"12:00"),i(),r(16,"option",114),a(17,"13:00"),i(),r(18,"option",115),a(19,"14:00"),i(),r(20,"option",116),a(21,"15:00"),i(),r(22,"option",117),a(23,"16:00"),i(),r(24,"option",118),a(25,"17:00"),i(),r(26,"option",119),a(27,"18:00"),i(),r(28,"option",120),a(29,"19:00"),i(),r(30,"option",121),a(31,"20:00"),i(),r(32,"option",122),a(33,"21:00"),i(),r(34,"option",123),a(35,"22:00"),i(),r(36,"option",124),a(37,"23:00"),i()(),r(38,"span",125),a(39,"bis"),i(),r(40,"select",132),M("ngModelChange",function(s){u(e);let d=m();return C(d.openingHours.thursday.close,s)||(d.openingHours.thursday.close=s),h(s)}),r(41,"option",107),a(42,"06:00"),i(),r(43,"option",108),a(44,"07:00"),i(),r(45,"option",109),a(46,"08:00"),i(),r(47,"option",110),a(48,"09:00"),i(),r(49,"option",111),a(50,"10:00"),i(),r(51,"option",112),a(52,"11:00"),i(),r(53,"option",113),a(54,"12:00"),i(),r(55,"option",114),a(56,"13:00"),i(),r(57,"option",115),a(58,"14:00"),i(),r(59,"option",116),a(60,"15:00"),i(),r(61,"option",117),a(62,"16:00"),i(),r(63,"option",118),a(64,"17:00"),i(),r(65,"option",119),a(66,"18:00"),i(),r(67,"option",120),a(68,"19:00"),i(),r(69,"option",121),a(70,"20:00"),i(),r(71,"option",122),a(72,"21:00"),i(),r(73,"option",123),a(74,"22:00"),i(),r(75,"option",124),a(76,"23:00"),i()()()}if(o&2){let e=m();l(),y("ngModel",e.openingHours.thursday.open),l(39),y("ngModel",e.openingHours.thursday.close)}}function os(o,t){if(o&1){let e=k();r(0,"div",105)(1,"select",133),M("ngModelChange",function(s){u(e);let d=m();return C(d.openingHours.friday.open,s)||(d.openingHours.friday.open=s),h(s)}),r(2,"option",107),a(3,"06:00"),i(),r(4,"option",108),a(5,"07:00"),i(),r(6,"option",109),a(7,"08:00"),i(),r(8,"option",110),a(9,"09:00"),i(),r(10,"option",111),a(11,"10:00"),i(),r(12,"option",112),a(13,"11:00"),i(),r(14,"option",113),a(15,"12:00"),i(),r(16,"option",114),a(17,"13:00"),i(),r(18,"option",115),a(19,"14:00"),i(),r(20,"option",116),a(21,"15:00"),i(),r(22,"option",117),a(23,"16:00"),i(),r(24,"option",118),a(25,"17:00"),i(),r(26,"option",119),a(27,"18:00"),i(),r(28,"option",120),a(29,"19:00"),i(),r(30,"option",121),a(31,"20:00"),i(),r(32,"option",122),a(33,"21:00"),i(),r(34,"option",123),a(35,"22:00"),i(),r(36,"option",124),a(37,"23:00"),i()(),r(38,"span",125),a(39,"bis"),i(),r(40,"select",134),M("ngModelChange",function(s){u(e);let d=m();return C(d.openingHours.friday.close,s)||(d.openingHours.friday.close=s),h(s)}),r(41,"option",107),a(42,"06:00"),i(),r(43,"option",108),a(44,"07:00"),i(),r(45,"option",109),a(46,"08:00"),i(),r(47,"option",110),a(48,"09:00"),i(),r(49,"option",111),a(50,"10:00"),i(),r(51,"option",112),a(52,"11:00"),i(),r(53,"option",113),a(54,"12:00"),i(),r(55,"option",114),a(56,"13:00"),i(),r(57,"option",115),a(58,"14:00"),i(),r(59,"option",116),a(60,"15:00"),i(),r(61,"option",117),a(62,"16:00"),i(),r(63,"option",118),a(64,"17:00"),i(),r(65,"option",119),a(66,"18:00"),i(),r(67,"option",110),a(68,"09:00"),i(),r(69,"option",121),a(70,"20:00"),i(),r(71,"option",122),a(72,"21:00"),i(),r(73,"option",123),a(74,"22:00"),i(),r(75,"option",124),a(76,"23:00"),i()()()}if(o&2){let e=m();l(),y("ngModel",e.openingHours.friday.open),l(39),y("ngModel",e.openingHours.friday.close)}}function as(o,t){if(o&1){let e=k();r(0,"div",105)(1,"select",135),M("ngModelChange",function(s){u(e);let d=m();return C(d.openingHours.saturday.open,s)||(d.openingHours.saturday.open=s),h(s)}),r(2,"option",107),a(3,"06:00"),i(),r(4,"option",108),a(5,"07:00"),i(),r(6,"option",109),a(7,"08:00"),i(),r(8,"option",110),a(9,"09:00"),i(),r(10,"option",111),a(11,"10:00"),i(),r(12,"option",112),a(13,"11:00"),i(),r(14,"option",113),a(15,"12:00"),i(),r(16,"option",114),a(17,"13:00"),i(),r(18,"option",115),a(19,"14:00"),i(),r(20,"option",116),a(21,"15:00"),i(),r(22,"option",117),a(23,"16:00"),i(),r(24,"option",118),a(25,"17:00"),i(),r(26,"option",119),a(27,"18:00"),i(),r(28,"option",120),a(29,"19:00"),i(),r(30,"option",121),a(31,"20:00"),i(),r(32,"option",122),a(33,"21:00"),i(),r(34,"option",123),a(35,"22:00"),i(),r(36,"option",124),a(37,"23:00"),i()(),r(38,"span",125),a(39,"bis"),i(),r(40,"select",136),M("ngModelChange",function(s){u(e);let d=m();return C(d.openingHours.saturday.close,s)||(d.openingHours.saturday.close=s),h(s)}),r(41,"option",107),a(42,"06:00"),i(),r(43,"option",108),a(44,"07:00"),i(),r(45,"option",109),a(46,"08:00"),i(),r(47,"option",110),a(48,"09:00"),i(),r(49,"option",111),a(50,"10:00"),i(),r(51,"option",112),a(52,"11:00"),i(),r(53,"option",113),a(54,"12:00"),i(),r(55,"option",114),a(56,"13:00"),i(),r(57,"option",115),a(58,"14:00"),i(),r(59,"option",116),a(60,"15:00"),i(),r(61,"option",117),a(62,"16:00"),i(),r(63,"option",118),a(64,"17:00"),i(),r(65,"option",119),a(66,"18:00"),i(),r(67,"option",120),a(68,"19:00"),i(),r(69,"option",121),a(70,"20:00"),i(),r(71,"option",122),a(72,"21:00"),i(),r(73,"option",123),a(74,"22:00"),i(),r(75,"option",124),a(76,"23:00"),i()()()}if(o&2){let e=m();l(),y("ngModel",e.openingHours.saturday.open),l(39),y("ngModel",e.openingHours.saturday.close)}}function ss(o,t){if(o&1){let e=k();r(0,"div",105)(1,"select",137),M("ngModelChange",function(s){u(e);let d=m();return C(d.openingHours.sunday.open,s)||(d.openingHours.sunday.open=s),h(s)}),r(2,"option",107),a(3,"06:00"),i(),r(4,"option",108),a(5,"07:00"),i(),r(6,"option",109),a(7,"08:00"),i(),r(8,"option",110),a(9,"09:00"),i(),r(10,"option",111),a(11,"10:00"),i(),r(12,"option",112),a(13,"11:00"),i(),r(14,"option",113),a(15,"12:00"),i(),r(16,"option",114),a(17,"13:00"),i(),r(18,"option",115),a(19,"14:00"),i(),r(20,"option",116),a(21,"15:00"),i(),r(22,"option",117),a(23,"16:00"),i(),r(24,"option",118),a(25,"17:00"),i(),r(26,"option",119),a(27,"18:00"),i(),r(28,"option",120),a(29,"19:00"),i(),r(30,"option",121),a(31,"20:00"),i(),r(32,"option",122),a(33,"21:00"),i(),r(34,"option",123),a(35,"22:00"),i(),r(36,"option",124),a(37,"23:00"),i()(),r(38,"span",125),a(39,"bis"),i(),r(40,"select",138),M("ngModelChange",function(s){u(e);let d=m();return C(d.openingHours.sunday.close,s)||(d.openingHours.sunday.close=s),h(s)}),r(41,"option",107),a(42,"06:00"),i(),r(43,"option",108),a(44,"07:00"),i(),r(45,"option",109),a(46,"08:00"),i(),r(47,"option",110),a(48,"09:00"),i(),r(49,"option",111),a(50,"10:00"),i(),r(51,"option",112),a(52,"11:00"),i(),r(53,"option",113),a(54,"12:00"),i(),r(55,"option",114),a(56,"13:00"),i(),r(57,"option",115),a(58,"14:00"),i(),r(59,"option",116),a(60,"15:00"),i(),r(61,"option",117),a(62,"16:00"),i(),r(63,"option",118),a(64,"17:00"),i(),r(65,"option",119),a(66,"18:00"),i(),r(67,"option",120),a(68,"19:00"),i(),r(69,"option",121),a(70,"20:00"),i(),r(71,"option",122),a(72,"21:00"),i(),r(73,"option",123),a(74,"22:00"),i(),r(75,"option",124),a(76,"23:00"),i()()()}if(o&2){let e=m();l(),y("ngModel",e.openingHours.sunday.open),l(39),y("ngModel",e.openingHours.sunday.close)}}function ls(o,t){o&1&&(r(0,"span"),a(1,"\u274C Abbrechen"),i())}function ds(o,t){o&1&&(r(0,"span"),a(1,"\u23F3 Warten..."),i())}function cs(o,t){if(o&1&&(r(0,"span"),a(1),i()),o&2){let e=m();l(),_(e.isEditMode?"\u23F3 Wird aktualisiert...":"\u23F3 Wird hinzugef\xFCgt...")}}function ps(o,t){o&1&&(r(0,"span"),a(1,"\u{1F4E4} Bild wird hochgeladen..."),i())}function ms(o,t){if(o&1&&(r(0,"span"),a(1),i()),o&2){let e=m();l(),_(e.isEditMode?"\u{1F4BE} \xC4nderungen speichern":"\u{1F3EA} Afroshop hinzuf\xFCgen")}}var St=class o{constructor(t,e,n,s,d,c,g){this.firebaseService=t;this.authService=e;this.translationService=n;this.geocodingService=s;this.router=d;this.route=c;this.firestore=g}geocodingWarning="";initStreetAutocomplete(t){if(window.google&&window.google.maps)this.setupAutocomplete(t);else{let e=setInterval(()=>{window.google&&window.google.maps&&(clearInterval(e),this.setupAutocomplete(t))},300)}}setupAutocomplete(t){if(window.google&&window.google.maps&&window.google.maps.places.PlaceAutocompleteElement){let e=document.createElement("gmp-place-autocomplete");e.setAttribute("componentRestrictions",JSON.stringify({country:["DE","BE","FR","CH","LU","AT","NL"]})),e.setAttribute("fields","address_components,formatted_address"),e.setAttribute("placeholder",t.placeholder||"Adresse"),e.setAttribute("inputMode","search"),t.parentNode?.replaceChild(e,t),e.addEventListener("gmp-place-autocomplete:place_changed",n=>{let s=n.detail;if(s&&s.address_components){let d="",c="",g="";for(let v of s.address_components)v.types.includes("route")&&(d=v.long_name),v.types.includes("street_number")&&(d+=" "+v.long_name),v.types.includes("locality")&&(c=v.long_name),v.types.includes("postal_code")&&(g=v.long_name);d.trim()&&!/^!+$/.test(d.trim())&&(this.afroshop.street=d.trim()),c&&(this.afroshop.city=c),g&&(this.afroshop.plz=g)}})}}afroshop={name:"",type:"restaurant",address:"",street:"",city:"",plz:"",coordinates:{lat:0,lng:0},phone:"",description:"",rating:4,image:"",cuisine:"",priceLevel:0,hours:"",website:"",impressumName:"",impressumAddress:"",impressumEmail:"",impressumPhone:"",impressumText:""};openingHours={monday:{isOpen:!1,open:"09:00",close:"18:00"},tuesday:{isOpen:!1,open:"09:00",close:"18:00"},wednesday:{isOpen:!1,open:"09:00",close:"18:00"},thursday:{isOpen:!1,open:"09:00",close:"18:00"},friday:{isOpen:!1,open:"09:00",close:"18:00"},saturday:{isOpen:!1,open:"10:00",close:"16:00"},sunday:{isOpen:!1,open:"12:00",close:"16:00"}};isEditMode=!1;editingId=null;selectedFile=null;imagePreview=null;isUploadingImage=!1;importUrl="";isImporting=!1;isSubmitting=!1;isGeocoding=!1;isAdmin=!1;successMessage="";errorMessage="";ngOnInit(){this.authService.user$.subscribe(e=>{console.log("Mon UID:",e?.uid),e?.uid?this.checkAdminStatus(e.uid):this.isAdmin=!1});let t=this.route.snapshot.paramMap.get("id");t&&(this.isEditMode=!0,this.editingId=t,this.loadAfroshopForEdit(t))}checkAdminStatus(t){return S(this,null,function*(){try{let e=Ae(this.firestore,"roles/admins"),s=(yield ot(e)).data();console.log("UIDs Firestore:",s?.uids),this.isAdmin=s?.uids?.includes(t)??!1,console.log("isAdmin:",this.isAdmin)}catch(e){console.error("Erreur lors de la v\xE9rification admin:",e),this.isAdmin=!1}})}loadAfroshopForEdit(t){return S(this,null,function*(){try{let e=yield this.firebaseService.getAfroshopById(t);e?(this.afroshop={name:e.name||"",type:e.type||"restaurant",address:e.address||"",street:e.street||"",city:e.city||"",plz:e.plz||"",coordinates:e.coordinates||{lat:0,lng:0},phone:e.phone||"",description:e.description||"",rating:e.rating||4,image:e.image||"",cuisine:e.cuisine||"",priceLevel:e.priceLevel||2,hours:e.hours||"",website:e.website||"",impressumName:e.impressumName||"",impressumAddress:e.impressumAddress||"",impressumEmail:e.impressumEmail||"",impressumPhone:e.impressumPhone||"",impressumText:e.impressumText||""},(!this.afroshop.street||!this.afroshop.plz||!this.afroshop.city)&&this.afroshop.address&&this.parseAddressFromString(this.afroshop.address),this.imagePreview=e.image||null,this.parseOpeningHoursFromString(e.hours||"")):(this.errorMessage="Afroshop nicht gefunden",setTimeout(()=>this.router.navigate(["/"]),2e3))}catch(e){console.error("Fehler beim Laden:",e),this.errorMessage="Fehler beim Laden des Afroshops"}})}onFileSelected(t){return S(this,null,function*(){let e=t.target.files[0];if(this.errorMessage="",e){if(console.log("\u{1F4C1} Datei ausgew\xE4hlt:",e.name,`${(e.size/1024).toFixed(0)}KB`),!e.type.startsWith("image/")){this.errorMessage="Bitte w\xE4hlen Sie eine Bilddatei (JPG, PNG, GIF)";return}if(e.size>5*1024*1024){this.errorMessage="Bild ist zu gro\xDF (max 5MB)";return}try{this.isUploadingImage=!0,console.log("\u{1F5DC}\uFE0F Komprimierung startet...");let n=yield this.compressImage(e);this.selectedFile=n,console.log("\u2705 Komprimierung abgeschlossen");let s=new FileReader;s.onload=d=>{this.imagePreview=d.target.result,console.log("\u{1F441}\uFE0F Vorschau erstellt")},s.readAsDataURL(n)}catch(n){console.error("\u274C Komprimierungsfehler:",n),this.errorMessage="Fehler bei der Bildkomprimierung"}finally{this.isUploadingImage=!1}}})}testFirebaseConnection(){return S(this,null,function*(){console.log("\u{1F525} Test Firebase Storage...");try{console.log("\u{1F50D} Storage service:",this.firebaseService),console.log("\u{1F50D} Storage instance:",this.firebaseService.storage);let t=document.createElement("canvas");t.width=100,t.height=100;let e=t.getContext("2d");e&&(e.fillStyle="#FF6B6B",e.fillRect(0,0,100,100),e.fillStyle="white",e.font="16px Arial",e.fillText("Test",30,55));let n=yield new Promise(c=>{t.toBlob(g=>c(g),"image/jpeg",.8)}),s=new File([n],"test-image.jpg",{type:"image/jpeg"});console.log("\u{1F9EA} Test upload avec image g\xE9n\xE9r\xE9e...",s.size,"bytes");let d=yield this.firebaseService.uploadImage(s);console.log("\u2705 Test r\xE9ussi! URL:",d),this.successMessage="Firebase Storage fonctionne correctement! Image upload\xE9e."}catch(t){console.error("\u274C Test \xE9chou\xE9:",t),t instanceof Error?t.message.includes("CORS")?this.errorMessage="Erreur CORS: V\xE9rifiez les r\xE8gles Firebase Storage et l'authentification.":t.message.includes("permission-denied")?this.errorMessage="Permission refus\xE9e: Connectez-vous et v\xE9rifiez les r\xE8gles Firebase.":t.message.includes("network")?this.errorMessage="Erreur r\xE9seau: V\xE9rifiez votre connexion internet.":this.errorMessage=`Erreur Firebase: ${t.message}`:this.errorMessage="Erreur inconnue lors du test Firebase Storage."}})}compressImage(t){return new Promise((e,n)=>{let s=new FileReader;s.readAsDataURL(t),s.onload=d=>{let c=new Image;c.src=d.target.result,c.onload=()=>{let g=document.createElement("canvas"),v=g.getContext("2d"),O=1200,I=1200,L=c.width,N=c.height;L>N?L>O&&(N*=O/L,L=O):N>I&&(L*=I/N,N=I),g.width=L,g.height=N,v?.drawImage(c,0,0,L,N),g.toBlob(X=>{if(X){let Z=new File([X],t.name,{type:"image/jpeg",lastModified:Date.now()});console.log(`\u2705 Image compress\xE9e: ${(t.size/1024).toFixed(0)}KB \u2192 ${(Z.size/1024).toFixed(0)}KB`),e(Z)}else n(new Error("Compression \xE9chou\xE9e"))},"image/jpeg",.8)},c.onerror=()=>n(new Error("Erreur de chargement de l'image"))},s.onerror=()=>n(new Error("Erreur de lecture du fichier"))})}uploadImage(){return S(this,null,function*(){if(!this.selectedFile)return console.log("\u{1F4DD} Kein neues Bild, behalte das vorhandene"),this.afroshop.image;this.isUploadingImage=!0,console.log(`\u{1F4E4} Upload l\xE4uft... Gr\xF6\xDFe: ${(this.selectedFile.size/1024).toFixed(0)}KB`),console.log("\u{1F4C1} Datei:",this.selectedFile.name,this.selectedFile.type);try{console.log("\u{1F525} Service Firebase:",this.firebaseService);let t=yield this.firebaseService.uploadImage(this.selectedFile);return console.log("\u2705 Upload erfolgreich! URL:",t),this.afroshop.image=t,t}catch(t){throw console.error("\u274C Detaillierter Upload-Fehler:",t),console.error("\u274C Fehlertyp:",typeof t),console.error("\u274C Nachricht:",t instanceof Error?t.message:"Unbekannter Fehler"),t instanceof Error?this.errorMessage=`Upload-Fehler: ${t.message}`:this.errorMessage="Unbekannter Upload-Fehler",t}finally{this.isUploadingImage=!1}})}onSubmit(){return S(this,null,function*(){if(this.validateForm()){this.isSubmitting=!0,this.errorMessage="",this.successMessage="";try{let t=this.authService.getCurrentUser();if(!t){this.errorMessage="Sie m\xFCssen angemeldet sein";return}this.selectedFile&&(this.afroshop.image=yield this.uploadImage()),(!this.afroshop.priceLevel||this.afroshop.priceLevel===0)&&(this.afroshop.priceLevel=2),this.afroshop.website=this.afroshop.website?.trim()||"",this.afroshop.cuisine=this.afroshop.cuisine?.trim()||"",this.afroshop.hours=this.convertOpeningHoursToString();let e=this.extractCityFromAddress(this.afroshop.address);if(console.log("\u{1F4DD} Donn\xE9es soumises:",JSON.stringify(this.afroshop)),console.log("\u{1F5FA}\uFE0F Coordonn\xE9es:",this.afroshop.coordinates),console.log("\u{1F3D9}\uFE0F Ville extraite:",e),console.log("\u{1F6E3}\uFE0F Adresse:",this.afroshop.address),this.isEditMode&&this.editingId){let n=j(G({},this.afroshop),{city:e,updatedBy:t.uid,updatedByName:t.displayName||t.email,updatedAt:new Date});console.log("\u{1F504} Mise \xE0 jour Afroshop:",n),yield this.firebaseService.updateAfroshop(this.editingId,n),this.successMessage="\u2705 Afroshop erfolgreich aktualisiert!",console.log("\u{1F500} Navigation vers le shop:",this.editingId),setTimeout(()=>{this.router.navigate(["/afroshop",this.editingId])},1500)}else{let n=j(G({},this.afroshop),{verified:!1,city:e,createdBy:t.uid,createdByName:t.displayName||t.email,createdAt:new Date});console.log("\u2795 Cr\xE9ation Afroshop:",n);let s=yield this.firebaseService.addAfroshop(n);this.successMessage="\u2705 Afroshop erfolgreich hinzugef\xFCgt! ID: "+s,console.log("\u{1F500} Navigation vers le nouveau shop:",s),setTimeout(()=>{this.router.navigate(["/afroshop",s])},1500)}this.resetForm()}catch(t){console.error("Fehler:",t),this.errorMessage=this.isEditMode?"Fehler beim Aktualisieren des Afroshops":"Fehler beim Hinzuf\xFCgen des Afroshops"}finally{this.isSubmitting=!1}}})}validateForm(){return this.afroshop.name.trim()?this.afroshop.address.trim()?this.geocodingService.isValidCoordinates(this.afroshop.coordinates.lat,this.afroshop.coordinates.lng)?this.afroshop.phone.trim()?this.afroshop.description.trim()?this.afroshop.website&&this.afroshop.website.trim()&&!/^https?:\/\/.+/.test(this.afroshop.website)?(this.errorMessage="Website URL muss mit http:// oder https:// beginnen",!1):(this.setCoordinatesFromAddress(),!0):(this.errorMessage="Beschreibung ist erforderlich",!1):(this.errorMessage="Telefonnummer ist erforderlich",!1):(this.errorMessage="Adresse konnte nicht georeferenziert werden. Bitte \xFCberpr\xFCfen Sie die Adresse.",console.warn("\u274C Coordonn\xE9es invalides:",this.afroshop.coordinates),!1):(this.errorMessage="Adresse ist erforderlich",!1):(this.errorMessage="Name ist erforderlich",!1)}onAddressChange(){if(console.log("\u{1F4DD} Stra\xDFeneingabe:",this.afroshop.street),/^!+$/.test(this.afroshop.street)){this.geocodingWarning="Ung\xFCltige Eingabe: Bitte geben Sie eine g\xFCltige Stra\xDFe ein.";return}this.geocodeTimeout&&clearTimeout(this.geocodeTimeout),this.geocodeTimeout=setTimeout(()=>{this.setCoordinatesFromAddress()},1e3)}geocodeTimeout=null;setCoordinatesFromAddress(){let t=this.afroshop.street?this.afroshop.street.trim():"",e=this.afroshop.plz?this.afroshop.plz.trim():"",n=this.afroshop.city?this.afroshop.city.trim():"";if(!t||t.length<3){this.geocodingWarning="Bitte geben Sie eine g\xFCltige Stra\xDFe ein (mindestens 3 Zeichen).",console.warn("\u274C Stra\xDFe zu kurz oder leer, Geocodierung abgebrochen.");return}t=t.replace(/([a-zA-Z]+)(\d+)/,"$1 $2"),t=t.replace(/\bStr\.?\b/g,"Stra\xDFe"),t=t.replace(/\bPl\.?\b/g,"Platz"),t=t.replace(/\bDr\.?\b/g,"Doktor"),t=t.replace(/\b([a-z])([a-z]*)/gi,(d,c,g)=>c.toUpperCase()+g.toLowerCase()),n=n.replace(/\b([a-z])([a-z]*)/gi,(d,c,g)=>c.toUpperCase()+g.toLowerCase()),t=t.replace(//g,"ss").replace(/[]/gi,"e").replace(/[]/gi,"a").replace(/[]/gi,"i").replace(/[]/gi,"o").replace(/[]/gi,"u").replace(//gi,"c"),n=n.replace(//g,"ss").replace(/[]/gi,"e").replace(/[]/gi,"a").replace(/[]/gi,"i").replace(/[]/gi,"o").replace(/[]/gi,"u").replace(//gi,"c");let s=`${t}, ${e} ${n}`.trim();if(this.afroshop.address=s,console.log("\u{1F5FA}\uFE0F Adresse normalis\xE9e pour g\xE9ocodage:",s),!s||s.length===0){console.log("\u274C Adresse vide, impossible de g\xE9ocoder"),this.isGeocoding=!1;return}if(this.geocodingService.isValidCoordinates(this.afroshop.coordinates.lat,this.afroshop.coordinates.lng)){console.log("\u2705 Coordonn\xE9es d\xE9j\xE0 valides:",this.afroshop.coordinates),this.isGeocoding=!1;return}console.log("\u{1F5FA}\uFE0F D\xE9marrage du g\xE9ocodage pour:",s),this.isGeocoding=!0,this.geocodingService.geocodeAddress(s).subscribe({next:d=>{if(this.isGeocoding=!1,this.geocodingWarning="",d&&d.lat&&d.lng&&(d.lat!==0||d.lng!==0))this.afroshop.coordinates={lat:d.lat,lng:d.lng},console.log("\u2705 G\xE9ocodage r\xE9ussi:",{address:this.afroshop.address,coordinates:this.afroshop.coordinates,formatted_address:d.formatted_address}),d.accuracy==="APPROXIMATE"&&(this.geocodingWarning="Attention : la localisation est impr\xE9cise, veuillez v\xE9rifier l'adresse."),d.formatted_address&&this.afroshop.city&&!d.formatted_address.toLowerCase().includes(this.afroshop.city.toLowerCase())&&(this.geocodingWarning="Attention : la ville trouv\xE9e ne correspond pas \xE0 celle saisie."),d.formatted_address&&d.accuracy!=="APPROXIMATE"&&(this.afroshop.address=d.formatted_address);else{console.warn("\u274C Premi\xE8re tentative \xE9chou\xE9e, essai avec adresse brute:",this.afroshop.street,this.afroshop.plz,this.afroshop.city);let c=`${this.afroshop.street}, ${this.afroshop.plz} ${this.afroshop.city}`.trim();c+=", Deutschland",this.geocodingService.geocodeAddress(c).subscribe({next:g=>{console.log("\u{1F5FA}\uFE0F R\xE9ponse brute API g\xE9ocodage (fallback):",g),g&&g.lat&&g.lng&&(g.lat!==0||g.lng!==0)?(this.afroshop.coordinates={lat:g.lat,lng:g.lng},console.log("\u2705 Coordonn\xE9es trouv\xE9es (fallback):",g),g.formatted_address&&g.accuracy!=="APPROXIMATE"&&(this.afroshop.address=g.formatted_address)):(this.afroshop.coordinates={lat:0,lng:0},console.log("\u274C Coordonn\xE9es invalides apr\xE8s fallback:",g),this.geocodingWarning="Adresse non reconnue, veuillez v\xE9rifier.")},error:g=>{this.afroshop.coordinates={lat:0,lng:0},this.geocodingWarning="Erreur lors du g\xE9ocodage.",console.error("\u274C Erreur lors du g\xE9ocodage (fallback):",g)}})}},error:d=>{this.isGeocoding=!1,this.geocodingWarning="Erreur lors du g\xE9ocodage.",console.error("\u274C Erreur lors du g\xE9ocodage:",d),this.afroshop.coordinates={lat:0,lng:0}}})}resetForm(){this.afroshop={name:"",type:"restaurant",address:"",street:"",city:"",plz:"",coordinates:{lat:0,lng:0},phone:"",description:"",rating:4,image:"",cuisine:"",priceLevel:2,hours:"",website:"",impressumName:"",impressumAddress:"",impressumEmail:"",impressumPhone:"",impressumText:""}}extractCityFromAddress(t){let e=["berlin","hamburg","m\xFCnchen","k\xF6ln","frankfurt","dortmund"],n=t.toLowerCase();for(let s of e)if(n.includes(s))return s;return"unknown"}importFromUrl(){return S(this,null,function*(){if(!this.importUrl.trim()){this.errorMessage="Bitte geben Sie eine g\xFCltige URL ein";return}this.isImporting=!0,this.errorMessage="",this.successMessage="";try{this.importUrl.includes("google.com/maps")||this.importUrl.includes("goo.gl/maps")?yield this.importFromGoogleMaps():this.importUrl.includes("nextdoor.")?yield this.importFromNextdoor():this.importUrl.includes("facebook.com")||this.importUrl.includes("fb.com")?yield this.importFromFacebook():yield this.importFromGenericWebsite(),this.successMessage="Informationen erfolgreich importiert! \xDCberpr\xFCfen Sie die Felder und erg\xE4nzen Sie bei Bedarf."}catch(t){console.error("Import error:",t),this.errorMessage="Fehler beim Importieren der Daten. Bitte versuchen Sie es manuell."}finally{this.isImporting=!1}})}importFromGoogleMaps(){return S(this,null,function*(){let t=this.extractPlaceNameFromGoogleMapsUrl(this.importUrl);t&&(this.afroshop.name=t,this.afroshop.description="Afrikanisches Gesch\xE4ft/Restaurant gefunden auf Google Maps")})}importFromNextdoor(){return S(this,null,function*(){let e=this.importUrl.split("/").find(n=>n.includes("-"))?.replace(/-/g," ")||"";if(e){this.afroshop.name=this.capitalizeWords(e),this.afroshop.description="Afrikanisches Gesch\xE4ft gefunden auf Nextdoor";let n=e.match(/(berlin|hamburg|mnchen|kln|frankfurt|dortmund|essen|dsseldorf)/i);n&&(this.afroshop.address=n[1])}})}importFromFacebook(){return S(this,null,function*(){try{let t=this.importUrl.split("/"),e="",n=t.findIndex(s=>s==="p");if(n!==-1&&t[n+1])e=t[n+1].split("-").slice(0,-1).join(" ");else{let s=t.find(d=>d&&d!=="www.facebook.com"&&d!=="facebook.com"&&d!=="p"&&!d.match(/^\d+$/)&&d.length>2);s&&(e=s.replace(/-/g," "))}if(e){this.afroshop.name=this.capitalizeWords(e),this.afroshop.description="Afrikanisches Gesch\xE4ft gefunden auf Facebook",this.afroshop.website=this.importUrl,this.afroshop.type="services";let s=e.toLowerCase();s.includes("restaurant")||s.includes("food")||s.includes("cuisine")?this.afroshop.type="restaurant":s.includes("shop")||s.includes("store")||s.includes("market")?this.afroshop.type="epicerie":s.includes("hair")||s.includes("coiffeur")||s.includes("salon")?this.afroshop.type="coiffeur":(s.includes("mode")||s.includes("fashion")||s.includes("clothing"))&&(this.afroshop.type="vetement"),console.log("Facebook import successful:",e)}else throw new Error("Impossible d'extraire le nom depuis l'URL Facebook")}catch(t){console.error("Erreur lors de l'import Facebook:",t),this.afroshop.website=this.importUrl,this.afroshop.description="Afrikanisches Gesch\xE4ft gefunden auf Facebook",this.afroshop.name="Facebook Business"}})}importFromGenericWebsite(){return S(this,null,function*(){try{let e=new URL(this.importUrl).hostname.replace("www.",""),n=e.split(".")[0];n=this.capitalizeWords(n.replace(/[-_]/g," ")),this.afroshop.name=n,this.afroshop.website=this.importUrl,this.afroshop.description=`Afrikanisches Gesch\xE4ft gefunden auf ${e}`,this.afroshop.type="services";let s=e.toLowerCase();s.includes("restaurant")||s.includes("food")||s.includes("cuisine")?this.afroshop.type="restaurant":s.includes("shop")||s.includes("store")||s.includes("market")?this.afroshop.type="epicerie":s.includes("hair")||s.includes("coiffeur")||s.includes("salon")?this.afroshop.type="coiffeur":(s.includes("mode")||s.includes("fashion")||s.includes("clothing"))&&(this.afroshop.type="vetement"),console.log(`Site web g\xE9n\xE9rique import\xE9: ${n} (${e})`)}catch(t){console.error("Erreur lors de l'import du site web:",t),this.afroshop.website=this.importUrl,this.afroshop.description="Site web afrikanisches Gesch\xE4ft",this.afroshop.name="Nouveau Afroshop"}})}extractPlaceNameFromGoogleMapsUrl(t){let e=t.match(/place\/([^\/]+)/);return e?decodeURIComponent(e[1]).replace(/\+/g," "):""}capitalizeWords(t){return t.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}convertOpeningHoursToString(){let t=[{key:"monday",name:"Mo"},{key:"tuesday",name:"Di"},{key:"wednesday",name:"Mi"},{key:"thursday",name:"Do"},{key:"friday",name:"Fr"},{key:"saturday",name:"Sa"},{key:"sunday",name:"So"}],e=[];return t.forEach(n=>{let s=this.openingHours[n.key];s.isOpen&&e.push(`${n.name}: ${s.open}-${s.close}`)}),e.length>0?e.join(", "):"\xD6ffnungszeiten nicht angegeben"}parseOpeningHoursFromString(t){if(!t||t==="\xD6ffnungszeiten nicht angegeben")return;this.openingHours.monday.isOpen=!1,this.openingHours.tuesday.isOpen=!1,this.openingHours.wednesday.isOpen=!1,this.openingHours.thursday.isOpen=!1,this.openingHours.friday.isOpen=!1,this.openingHours.saturday.isOpen=!1,this.openingHours.sunday.isOpen=!1,t.split(/[,\n]/).map(n=>n.trim()).filter(n=>n).forEach(n=>{let d=n.trim().match(/^(\w+)(?:-(\w+))?\s*:\s*(\d{1,2}:\d{2})\s*-\s*(\d{1,2}:\d{2})$/);if(d){let[,c,g,v,O]=d;if(g)this.getDayRange(c,g).forEach(L=>{L&&this.openingHours[L]&&(this.openingHours[L]={isOpen:!0,open:v,close:O})});else{let I=this.getDayKey(c);I&&this.openingHours[I]&&(this.openingHours[I]={isOpen:!0,open:v,close:O})}}})}getDayKey(t){return{mo:"monday",montag:"monday",monday:"monday",di:"tuesday",dienstag:"tuesday",tuesday:"tuesday",mi:"wednesday",mittwoch:"wednesday",wednesday:"wednesday",do:"thursday",donnerstag:"thursday",thursday:"thursday",fr:"friday",freitag:"friday",friday:"friday",sa:"saturday",samstag:"saturday",saturday:"saturday",so:"sunday",sonntag:"sunday",sunday:"sunday"}[t.toLowerCase()]||null}getDayRange(t,e){let n=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],s=this.getDayKey(t),d=this.getDayKey(e);if(!s||!d)return[];let c=n.indexOf(s),g=n.indexOf(d);if(c===-1||g===-1)return[];let v=[];if(c<=g)for(let O=c;O<=g;O++)v.push(n[O]);else{for(let O=c;O<n.length;O++)v.push(n[O]);for(let O=0;O<=g;O++)v.push(n[O])}return v}parseAddressFromString(t){if(!t)return;let e=t.match(/^(.+?),?\s*(\d{5})\s+(.+)$/);if(e){let[,n,s,d]=e;this.afroshop.street||(this.afroshop.street=n.trim()),this.afroshop.plz||(this.afroshop.plz=s.trim()),this.afroshop.city||(this.afroshop.city=d.trim()),console.log("\u2705 Adresse pars\xE9e:",{street:this.afroshop.street,plz:this.afroshop.plz,city:this.afroshop.city})}else{console.warn("\u26A0\uFE0F Format d'adresse non reconnu:",t);let n=t.split(",").map(s=>s.trim());if(n.length>=2){this.afroshop.street||(this.afroshop.street=n[0]);let s=n[1],d=s.match(/(\d{5})/);if(d){this.afroshop.plz||(this.afroshop.plz=d[1]);let c=s.replace(d[1],"").trim();!this.afroshop.city&&c&&(this.afroshop.city=c)}}}}goBack(){this.router.navigate(["/"])}getAllBusinessTypes(){return this.translationService.getAllBusinessTypes()}getBusinessTypeName(t){return this.translationService.getBusinessTypeName(t)}onAddProducts(){this.router.navigate(["/add-product"])}static \u0275fac=function(e){return new(e||o)(w(U),w(T),w(Se),w(je),w(R),w(se),w(xe))};static \u0275cmp=E({type:o,selectors:[["app-add-afroshop"]],decls:209,vars:55,consts:[["fileInput",""],["streetInput",""],[1,"add-afroshop-container"],[1,"form-header"],[1,"header-content"],[1,"header-text"],[1,"header-actions"],["routerLink","/gallery",1,"back-btn"],["routerLink","/admin","class","back-btn",4,"ngIf"],[1,"afroshop-form",3,"ngSubmit"],[1,"auto-import-section"],[1,"form-group"],["for","importUrl"],[1,"url-input-group"],["type","url","id","importUrl","name","importUrl","placeholder","https://www.facebook.com/business... oder https://www.google.com/maps/place/...",1,"form-input","url-input",3,"ngModelChange","ngModel"],["type","button",1,"import-btn",3,"click","disabled"],[4,"ngIf"],[1,"divider"],["class","message success",4,"ngIf"],["class","message error",4,"ngIf"],["class","message warning",4,"ngIf"],["for","name"],["type","text","id","name","name","name","placeholder","z.B. Mama Afrika Restaurant","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","type"],["id","type","name","type","required","",1,"form-select",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","image"],[1,"image-upload-section"],["type","file","id","image","accept","image/*",1,"file-input",3,"change"],["type","button",1,"upload-btn",3,"click","disabled"],["class","upload-progress",4,"ngIf"],["class","image-preview-container",4,"ngIf"],[1,"form-hint"],["for","street"],["type","text","id","street","name","street","placeholder","z.B. M\xFCllerstra\xDFe 123","required","",1,"form-input",3,"ngModelChange","focus","input","ngModel"],["for","plz"],["type","text","id","plz","name","plz","placeholder","z.B. 13349","required","","pattern","\\d{5}","maxlength","5",1,"form-input",3,"ngModelChange","input","ngModel"],["for","city"],["type","text","id","city","name","city","placeholder","z.B. Berlin","required","","pattern","[A-Za-z\xE4\xF6\xFC\xC4\xD6\xDC\xDF\\-\\s]+",1,"form-input",3,"ngModelChange","input","ngModel"],["class","geocoding-indicator",4,"ngIf"],["class","geocoding-success",4,"ngIf"],["for","phone"],["type","tel","id","phone","name","phone","placeholder","+49 30 12345678","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","description"],["id","description","name","description","placeholder","Beschreiben Sie das Gesch\xE4ft, Spezialit\xE4ten, Atmosph\xE4re...","required","","rows","4",1,"form-textarea",3,"ngModelChange","ngModel"],["class","form-group",4,"ngIf"],[1,"opening-hours-container"],[1,"day-hours"],[1,"day-label"],[1,"hours-controls"],["type","checkbox","id","mon-open","name","mon-open",3,"ngModelChange","ngModel"],["for","mon-open",1,"checkbox-label"],["class","time-selectors",4,"ngIf"],["type","checkbox","id","tue-open","name","tue-open",3,"ngModelChange","ngModel"],["for","tue-open",1,"checkbox-label"],["type","checkbox","id","wed-open","name","wed-open",3,"ngModelChange","ngModel"],["for","wed-open",1,"checkbox-label"],["type","checkbox","id","thu-open","name","thu-open",3,"ngModelChange","ngModel"],["for","thu-open",1,"checkbox-label"],["type","checkbox","id","fri-open","name","fri-open",3,"ngModelChange","ngModel"],["for","fri-open",1,"checkbox-label"],["type","checkbox","id","sat-open","name","sat-open",3,"ngModelChange","ngModel"],["for","sat-open",1,"checkbox-label"],["type","checkbox","id","sun-open","name","sun-open",3,"ngModelChange","ngModel"],["for","sun-open",1,"checkbox-label"],["for","website"],["type","url","id","website","name","website","placeholder","https://www.beispiel.com",1,"form-input",3,"ngModelChange","ngModel"],[1,"form-group","impressum-group"],[1,"required"],[1,"impressum-legal-title"],["for","impressumName"],["type","text","id","impressumName","name","impressumName","required","","placeholder","z.B. Max Mustermann oder Firma GmbH",1,"form-input",3,"ngModelChange","ngModel"],["for","impressumAddress"],["type","text","id","impressumAddress","name","impressumAddress","required","","placeholder","Stra\xDFe, PLZ, Stadt",1,"form-input",3,"ngModelChange","ngModel"],["for","impressumEmail"],["type","email","id","impressumEmail","name","impressumEmail","required","","placeholder","info@beispiel.de",1,"form-input",3,"ngModelChange","ngModel"],["for","impressumPhone"],["type","tel","id","impressumPhone","name","impressumPhone","required","","placeholder","z.B. +49 30 12345678",1,"form-input",3,"ngModelChange","ngModel"],["for","impressumText"],["id","impressumText","name","impressumText","required","","rows","3","placeholder","Bitte geben Sie alle gesetzlich erforderlichen Angaben ein.",1,"form-textarea",3,"ngModelChange","ngModel"],["for","priceLevel"],["id","priceLevel","name","priceLevel",1,"form-select",3,"ngModelChange","ngModel"],["value","1"],["value","2"],["value","3"],["value","4"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["routerLink","/admin",1,"back-btn"],[1,"message","success"],[1,"message","error"],[1,"message","warning"],[3,"value"],[1,"upload-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"image-preview-container"],["alt","Preview",1,"image-preview",3,"src"],["type","button","title","Bild entfernen",1,"remove-image-btn",3,"click"],[1,"geocoding-indicator"],[1,"geocoding-success"],["for","cuisine"],["type","text","id","cuisine","name","cuisine","placeholder","z.B. Westafrikanische, \xC4thiopische, Nigerianische, Senegalesische",1,"form-input",3,"ngModelChange","ngModel"],[1,"time-selectors"],["name","mon-open-time",1,"time-select",3,"ngModelChange","ngModel"],["value","06:00"],["value","07:00"],["value","08:00"],["value","09:00"],["value","10:00"],["value","11:00"],["value","12:00"],["value","13:00"],["value","14:00"],["value","15:00"],["value","16:00"],["value","17:00"],["value","18:00"],["value","19:00"],["value","20:00"],["value","21:00"],["value","22:00"],["value","23:00"],[1,"time-separator"],["name","mon-close-time",1,"time-select",3,"ngModelChange","ngModel"],["name","tue-open-time",1,"time-select",3,"ngModelChange","ngModel"],["name","tue-close-time",1,"time-select",3,"ngModelChange","ngModel"],["name","wed-open-time",1,"time-select",3,"ngModelChange","ngModel"],["name","wed-close-time",1,"time-select",3,"ngModelChange","ngModel"],["name","thu-open-time",1,"time-select",3,"ngModelChange","ngModel"],["name","thu-close-time",1,"time-select",3,"ngModelChange","ngModel"],["name","fri-open-time",1,"time-select",3,"ngModelChange","ngModel"],["name","fri-close-time",1,"time-select",3,"ngModelChange","ngModel"],["name","sat-open-time",1,"time-select",3,"ngModelChange","ngModel"],["name","sat-close-time",1,"time-select",3,"ngModelChange","ngModel"],["name","sun-open-time",1,"time-select",3,"ngModelChange","ngModel"],["name","sun-close-time",1,"time-select",3,"ngModelChange","ngModel"]],template:function(e,n){if(e&1){let s=k();r(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h2"),a(5),i(),r(6,"p"),a(7),i()(),r(8,"div",6)(9,"a",7),a(10,"\u2190 Galerie"),i(),f(11,Ga,2,0,"a",8),i()(),r(12,"form",9),b("ngSubmit",function(){return u(s),h(n.onSubmit())}),r(13,"div",10)(14,"h3"),a(15,"\u{1F517} Schnell hinzuf\xFCgen"),i(),r(16,"p"),a(17,"F\xFCgen Sie einen Link ein, um Informationen automatisch zu laden"),i(),r(18,"div",11)(19,"label",12),a(20,"Google Maps, Facebook, Nextdoor oder Website URL"),i(),r(21,"div",13)(22,"input",14),M("ngModelChange",function(c){return u(s),C(n.importUrl,c)||(n.importUrl=c),h(c)}),i(),r(23,"button",15),b("click",function(){return u(s),h(n.importFromUrl())}),f(24,Va,2,0,"span",16)(25,Ua,2,0,"span",16),i()()(),r(26,"div",17)(27,"span"),a(28,"oder manuell eingeben"),i()()(),f(29,Wa,2,1,"div",18)(30,ja,2,1,"div",19)(31,Ha,2,1,"div",20),r(32,"div",11)(33,"label",21),a(34,"Name des Gesch\xE4fts *"),i(),r(35,"input",22),M("ngModelChange",function(c){return u(s),C(n.afroshop.name,c)||(n.afroshop.name=c),h(c)}),i()(),r(36,"div",11)(37,"label",23),a(38,"Typ *"),i(),r(39,"select",24),M("ngModelChange",function(c){return u(s),C(n.afroshop.type,c)||(n.afroshop.type=c),h(c)}),r(40,"option",25),a(41,"Typ ausw\xE4hlen"),i(),f(42,qa,2,3,"option",26),i()(),r(43,"div",11)(44,"label",27),a(45,"\u{1F4F8} Bild hochladen"),i(),r(46,"div",28)(47,"input",29,0),b("change",function(c){return u(s),h(n.onFileSelected(c))}),i(),r(49,"button",30),b("click",function(){u(s);let c=fe(48);return h(c.click())}),f(50,Ka,2,0,"span",16)(51,Za,2,0,"span",16)(52,$a,2,0,"span",16),i(),f(53,Ya,5,0,"div",31)(54,Xa,4,1,"div",32),r(55,"small",33),a(56,"Max. 5MB - Wird automatisch komprimiert und optimiert"),i()()(),r(57,"div",11)(58,"label",34),a(59,"Stra\xDFe und Hausnr. *"),i(),r(60,"input",35,1),M("ngModelChange",function(c){return u(s),C(n.afroshop.street,c)||(n.afroshop.street=c),h(c)}),b("focus",function(){u(s);let c=fe(61);return h(n.initStreetAutocomplete(c))})("input",function(){return u(s),h(n.onAddressChange())}),i(),r(62,"small",33),a(63,"Adresse wird automatisch vorgeschlagen (Google Maps Autocomplete)"),i()(),r(64,"div",11)(65,"label",36),a(66,"PLZ *"),i(),r(67,"input",37),M("ngModelChange",function(c){return u(s),C(n.afroshop.plz,c)||(n.afroshop.plz=c),h(c)}),b("input",function(){return u(s),h(n.onAddressChange())}),i(),r(68,"small",33),a(69,"5-stellige Postleitzahl"),i()(),r(70,"div",11)(71,"label",38),a(72,"Stadt *"),i(),r(73,"input",39),M("ngModelChange",function(c){return u(s),C(n.afroshop.city,c)||(n.afroshop.city=c),h(c)}),b("input",function(){return u(s),h(n.onAddressChange())}),i(),r(74,"small",33),a(75,"Nur Buchstaben und Bindestriche"),i()(),r(76,"div",11)(77,"small"),a(78,"Bitte geben Sie Stra\xDFe, PLZ und Stadt an"),i(),f(79,Qa,2,0,"div",40)(80,Ja,2,2,"div",41),i(),r(81,"div",11)(82,"label",42),a(83,"Telefon *"),i(),r(84,"input",43),M("ngModelChange",function(c){return u(s),C(n.afroshop.phone,c)||(n.afroshop.phone=c),h(c)}),i()(),r(85,"div",11)(86,"label",44),a(87,"Beschreibung *"),i(),r(88,"textarea",45),M("ngModelChange",function(c){return u(s),C(n.afroshop.description,c)||(n.afroshop.description=c),h(c)}),i()(),f(89,es,6,1,"div",46),r(90,"div",11)(91,"label"),a(92,"\xD6ffnungszeiten"),i(),r(93,"div",47)(94,"div",48)(95,"div",49),a(96,"Montag:"),i(),r(97,"div",50)(98,"input",51),M("ngModelChange",function(c){return u(s),C(n.openingHours.monday.isOpen,c)||(n.openingHours.monday.isOpen=c),h(c)}),i(),r(99,"label",52),a(100,"Ge\xF6ffnet"),i(),f(101,ts,77,2,"div",53),i()(),r(102,"div",48)(103,"div",49),a(104,"Dienstag:"),i(),r(105,"div",50)(106,"input",54),M("ngModelChange",function(c){return u(s),C(n.openingHours.tuesday.isOpen,c)||(n.openingHours.tuesday.isOpen=c),h(c)}),i(),r(107,"label",55),a(108,"Ge\xF6ffnet"),i(),f(109,ns,77,2,"div",53),i()(),r(110,"div",48)(111,"div",49),a(112,"Mittwoch:"),i(),r(113,"div",50)(114,"input",56),M("ngModelChange",function(c){return u(s),C(n.openingHours.wednesday.isOpen,c)||(n.openingHours.wednesday.isOpen=c),h(c)}),i(),r(115,"label",57),a(116,"Ge\xF6ffnet"),i(),f(117,is,77,2,"div",53),i()(),r(118,"div",48)(119,"div",49),a(120,"Donnerstag:"),i(),r(121,"div",50)(122,"input",58),M("ngModelChange",function(c){return u(s),C(n.openingHours.thursday.isOpen,c)||(n.openingHours.thursday.isOpen=c),h(c)}),i(),r(123,"label",59),a(124,"Ge\xF6ffnet"),i(),f(125,rs,77,2,"div",53),i()(),r(126,"div",48)(127,"div",49),a(128,"Freitag:"),i(),r(129,"div",50)(130,"input",60),M("ngModelChange",function(c){return u(s),C(n.openingHours.friday.isOpen,c)||(n.openingHours.friday.isOpen=c),h(c)}),i(),r(131,"label",61),a(132,"Ge\xF6ffnet"),i(),f(133,os,77,2,"div",53),i()(),r(134,"div",48)(135,"div",49),a(136,"Samstag:"),i(),r(137,"div",50)(138,"input",62),M("ngModelChange",function(c){return u(s),C(n.openingHours.saturday.isOpen,c)||(n.openingHours.saturday.isOpen=c),h(c)}),i(),r(139,"label",63),a(140,"Ge\xF6ffnet"),i(),f(141,as,77,2,"div",53),i()(),r(142,"div",48)(143,"div",49),a(144,"Sonntag:"),i(),r(145,"div",50)(146,"input",64),M("ngModelChange",function(c){return u(s),C(n.openingHours.sunday.isOpen,c)||(n.openingHours.sunday.isOpen=c),h(c)}),i(),r(147,"label",65),a(148,"Ge\xF6ffnet"),i(),f(149,ss,77,2,"div",53),i()(),r(150,"small",33),a(151,"W\xE4hlen Sie f\xFCr jeden Tag, ob das Gesch\xE4ft ge\xF6ffnet ist und die \xD6ffnungszeiten"),i()()(),r(152,"div",11)(153,"label",66),a(154,"Website"),i(),r(155,"input",67),M("ngModelChange",function(c){return u(s),C(n.afroshop.website,c)||(n.afroshop.website=c),h(c)}),i(),r(156,"small",33),a(157,"Optional: Offizielle Website oder Social Media Profil"),i()(),r(158,"div",68)(159,"h3"),a(160,"\u{1F4DD} Impressum "),r(161,"span",69),a(162,"(Pflichtfeld)"),i()(),r(163,"h3",70),a(164,"Angaben gem\xE4\xDF \xA7 5 TMG:"),i(),r(165,"div",11)(166,"label",71),a(167,"Name/Firma *"),i(),r(168,"input",72),M("ngModelChange",function(c){return u(s),C(n.afroshop.impressumName,c)||(n.afroshop.impressumName=c),h(c)}),i()(),r(169,"div",11)(170,"label",73),a(171,"Adresse *"),i(),r(172,"input",74),M("ngModelChange",function(c){return u(s),C(n.afroshop.impressumAddress,c)||(n.afroshop.impressumAddress=c),h(c)}),i()(),r(173,"div",11)(174,"label",75),a(175,"E-Mail *"),i(),r(176,"input",76),M("ngModelChange",function(c){return u(s),C(n.afroshop.impressumEmail,c)||(n.afroshop.impressumEmail=c),h(c)}),i()(),r(177,"div",11)(178,"label",77),a(179,"Telefon *"),i(),r(180,"input",78),M("ngModelChange",function(c){return u(s),C(n.afroshop.impressumPhone,c)||(n.afroshop.impressumPhone=c),h(c)}),i()(),r(181,"div",11)(182,"label",79),a(183,"Weitere Angaben (z.B. USt-ID, Vertretungsberechtigter, Handelsregister, etc.) *"),i(),r(184,"textarea",80),M("ngModelChange",function(c){return u(s),C(n.afroshop.impressumText,c)||(n.afroshop.impressumText=c),h(c)}),i()(),r(185,"small",33),a(186,"Das Impressum ist in Deutschland f\xFCr alle Online-Shops gesetzlich vorgeschrieben. Alle Felder sind Pflichtfelder."),i()(),r(187,"div",11)(188,"label",81),a(189,"Preisstufe"),i(),r(190,"select",82),M("ngModelChange",function(c){return u(s),C(n.afroshop.priceLevel,c)||(n.afroshop.priceLevel=c),h(c)}),r(191,"option",25),a(192,"-- Bitte w\xE4hlen --"),i(),r(193,"option",83),a(194,"\u20AC - G\xFCnstig (unter 10\u20AC)"),i(),r(195,"option",84),a(196,"\u20AC\u20AC - Moderat (10-20\u20AC)"),i(),r(197,"option",85),a(198,"\u20AC\u20AC\u20AC - Gehoben (20-40\u20AC)"),i(),r(199,"option",86),a(200,"\u20AC\u20AC\u20AC\u20AC - Hochpreisig (\xFCber 40\u20AC)"),i()()(),r(201,"div",87)(202,"button",88),b("click",function(){return u(s),h(n.goBack())}),f(203,ls,2,0,"span",16)(204,ds,2,0,"span",16),i(),r(205,"button",89),f(206,cs,2,1,"span",16)(207,ps,2,0,"span",16)(208,ms,2,1,"span",16),i()()()()()}e&2&&(l(5),_(n.isEditMode?"\u270F\uFE0F Gesch\xE4ft bearbeiten":"\u{1F3EA} Neues Gesch\xE4ft hinzuf\xFCgen"),l(2),_(n.isEditMode?"Aktualisieren Sie die Informationen":"Teilen Sie Ihren Lieblings-Afroshop mit der Community!"),l(4),p("ngIf",n.isAdmin),l(11),y("ngModel",n.importUrl),l(),p("disabled",!n.importUrl||n.isImporting),l(),p("ngIf",!n.isImporting),l(),p("ngIf",n.isImporting),l(4),p("ngIf",n.successMessage),l(),p("ngIf",n.errorMessage),l(),p("ngIf",n.geocodingWarning),l(4),y("ngModel",n.afroshop.name),l(4),y("ngModel",n.afroshop.type),l(3),p("ngForOf",n.getAllBusinessTypes()),l(7),p("disabled",n.isUploadingImage),l(),p("ngIf",!n.imagePreview&&!n.isUploadingImage),l(),p("ngIf",n.imagePreview&&!n.isUploadingImage),l(),p("ngIf",n.isUploadingImage),l(),p("ngIf",n.isUploadingImage),l(),p("ngIf",n.imagePreview),l(6),y("ngModel",n.afroshop.street),l(7),y("ngModel",n.afroshop.plz),l(6),y("ngModel",n.afroshop.city),l(6),p("ngIf",n.isGeocoding),l(),p("ngIf",n.afroshop.coordinates.lat!==0&&n.afroshop.coordinates.lng!==0),l(4),y("ngModel",n.afroshop.phone),l(4),y("ngModel",n.afroshop.description),l(),p("ngIf",n.afroshop.type==="restaurant"),l(9),y("ngModel",n.openingHours.monday.isOpen),l(3),p("ngIf",n.openingHours.monday.isOpen),l(5),y("ngModel",n.openingHours.tuesday.isOpen),l(3),p("ngIf",n.openingHours.tuesday.isOpen),l(5),y("ngModel",n.openingHours.wednesday.isOpen),l(3),p("ngIf",n.openingHours.wednesday.isOpen),l(5),y("ngModel",n.openingHours.thursday.isOpen),l(3),p("ngIf",n.openingHours.thursday.isOpen),l(5),y("ngModel",n.openingHours.friday.isOpen),l(3),p("ngIf",n.openingHours.friday.isOpen),l(5),y("ngModel",n.openingHours.saturday.isOpen),l(3),p("ngIf",n.openingHours.saturday.isOpen),l(5),y("ngModel",n.openingHours.sunday.isOpen),l(3),p("ngIf",n.openingHours.sunday.isOpen),l(6),y("ngModel",n.afroshop.website),l(13),y("ngModel",n.afroshop.impressumName),l(4),y("ngModel",n.afroshop.impressumAddress),l(4),y("ngModel",n.afroshop.impressumEmail),l(4),y("ngModel",n.afroshop.impressumPhone),l(4),y("ngModel",n.afroshop.impressumText),l(6),y("ngModel",n.afroshop.priceLevel),l(12),p("disabled",n.isSubmitting||n.isUploadingImage),l(),p("ngIf",!n.isSubmitting&&!n.isUploadingImage),l(),p("ngIf",n.isSubmitting||n.isUploadingImage),l(),p("disabled",n.isSubmitting||n.isUploadingImage),l(),p("ngIf",n.isSubmitting&&!n.isUploadingImage),l(),p("ngIf",n.isUploadingImage),l(),p("ngIf",!n.isSubmitting&&!n.isUploadingImage))},dependencies:[A,H,D,$,Ce,Ve,Ue,ce,Zi,Ge,ne,ve,Me,Xi,Qi,ie,ye,de,le],styles:['.message.error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb;padding:10px 16px;border-radius:6px;margin-bottom:12px;font-weight:500}.auto-import-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff7b00,#ff5722);color:#fff;padding:20px;border-radius:12px;margin-bottom:30px;box-shadow:0 4px 15px #ff57224d}.auto-import-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:1.3em;font-weight:600}.auto-import-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px;opacity:.9;font-size:.95em}.url-input-group[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.url-input[_ngcontent-%COMP%]{flex:1;padding:12px 15px;border:2px solid rgba(255,255,255,.5);background:#ffffffe6;color:#333;border-radius:8px;font-size:14px}.url-input[_ngcontent-%COMP%]::placeholder{color:#666}.url-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#fff;background:#fff;color:#333}.geocoding-indicator[_ngcontent-%COMP%]{margin-top:8px;padding:8px 12px;background:#e3f2fd;color:#1976d2;border-radius:6px;font-size:.9em;border-left:4px solid #2196f3;animation:_ngcontent-%COMP%_pulse 1.5s infinite}.geocoding-success[_ngcontent-%COMP%]{margin-top:8px;padding:8px 12px;background:#e8f5e8;color:#2e7d32;border-radius:6px;font-size:.9em;border-left:4px solid #4caf50}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.7}to{opacity:1}}.import-btn[_ngcontent-%COMP%]{padding:12px 20px;background:#fff3;color:#fff;border:2px solid rgba(255,255,255,.3);border-radius:8px;cursor:pointer;font-weight:600;transition:all .3s ease;white-space:nowrap;backdrop-filter:blur(10px)}.import-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffffff4d;border-color:#ffffff80;transform:translateY(-2px)}.import-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.divider[_ngcontent-%COMP%]{text-align:center;margin:25px 0;position:relative}.divider[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:#ffffff4d}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff7b00,#ff5722);padding:0 15px;font-size:.9em;opacity:.8}@media (max-width: 600px){.url-input-group[_ngcontent-%COMP%]{flex-direction:column}.url-input[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.import-btn[_ngcontent-%COMP%]{width:100%;margin-bottom:0}}.add-afroshop-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:var(--spacing-lg)}.form-header[_ngcontent-%COMP%]{margin-bottom:var(--spacing-xl);padding:2rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:15px;box-shadow:0 10px 30px #667eea4d}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:20px}.header-text[_ngcontent-%COMP%]{text-align:center;flex:1}.header-actions[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.back-btn[_ngcontent-%COMP%]{background:#fff3;color:#fff;padding:8px 15px;border-radius:6px;text-decoration:none;font-size:14px;font-weight:500;transition:all .3s ease;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3)}.back-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:translateY(-1px);text-decoration:none;color:#fff}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;margin-bottom:var(--spacing-sm)}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffe6;font-size:1.1rem}.afroshop-form[_ngcontent-%COMP%]{background:#fff;padding:var(--spacing-xl);border-radius:var(--border-radius);box-shadow:var(--shadow-soft)}.form-group[_ngcontent-%COMP%]{margin-bottom:var(--spacing-lg)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:var(--spacing-xs);color:var(--text-primary)}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{width:100%;padding:var(--spacing-sm);border:2px solid #ff7b00;border-radius:var(--border-radius);font-size:1rem;background:#fff;box-shadow:0 2px 8px #00000012;transition:border-color .3s ease,box-shadow .3s ease}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#ff5722;box-shadow:0 4px 16px #ff57221a}.form-textarea[_ngcontent-%COMP%]{min-height:100px;resize:vertical}.form-actions[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:flex-start;margin-bottom:.5rem}.form-actions[_ngcontent-%COMP%]:first-of-type{justify-content:flex-start}.form-actions[_ngcontent-%COMP%] + .form-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:center;margin-top:1.2rem}.info-text[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:1.05em;color:#1976d2;background:#e3f2fd;border-radius:8px;padding:10px 18px;margin-bottom:.7rem;font-weight:500;box-shadow:0 2px 8px #1976d212}.form-actions[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{min-width:200px;font-size:1.08em;padding:12px 28px;border-radius:8px;margin:0 auto;display:block}.btn[_ngcontent-%COMP%]{padding:16px 32px;border:none;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);text-decoration:none;display:inline-flex;align-items:center;justify-content:center;text-align:center;min-width:160px;position:relative;overflow:hidden;-webkit-user-select:none;user-select:none;transform:translateY(0)}.btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.btn[_ngcontent-%COMP%]:hover:before{left:100%}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff7b00,#ff5722,#e64a19);color:#fff;box-shadow:0 6px 20px #ff7b0066;border:2px solid transparent}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ff8f00,#ff6f00,#f57c00);transform:translateY(-3px);box-shadow:0 12px 30px #ff7b0080}.btn-primary[_ngcontent-%COMP%]:active{transform:translateY(-1px);box-shadow:0 4px 15px #ff7b0099}.btn-primary[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#bdbdbd,#9e9e9e);color:#fff;cursor:not-allowed;transform:none;box-shadow:0 2px 8px #0000001a;opacity:.7;animation:none}.btn-primary[_ngcontent-%COMP%]:disabled:before{display:none}.btn-primary[_ngcontent-%COMP%]:not(:disabled){animation:_ngcontent-%COMP%_gentle-pulse 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_gentle-pulse{0%,to{box-shadow:0 6px 20px #ff7b0066}50%{box-shadow:0 6px 25px #ff7b0099}}.btn-primary[_ngcontent-%COMP%]:hover{animation:none}.btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);color:#495057;box-shadow:0 4px 15px #0000001a;border:2px solid #dee2e6}.btn-secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#e9ecef,#dee2e6);transform:translateY(-2px);box-shadow:0 8px 25px #00000026;border-color:#adb5bd}.btn-secondary[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 10px #0003}.alert[_ngcontent-%COMP%]{padding:var(--spacing-sm);border-radius:var(--border-radius);margin-bottom:var(--spacing-md)}.alert-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724;border:1px solid #c3e6cb}.alert-error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.image-upload-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.file-input[_ngcontent-%COMP%]{display:none}.upload-btn[_ngcontent-%COMP%]{padding:12px 24px;background:linear-gradient(135deg,var(--accent-color),var(--accent-light));color:#fff;border:none;border-radius:var(--border-radius);cursor:pointer;font-weight:600;transition:all var(--transition-normal);box-shadow:var(--shadow-sm);display:inline-flex;align-items:center;justify-content:center;gap:8px;width:fit-content}.upload-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}.upload-btn[_ngcontent-%COMP%]:disabled{background:#bdc3c7;cursor:not-allowed;transform:none}.upload-btn[_ngcontent-%COMP%]:disabled:hover{transform:none;box-shadow:var(--shadow-sm)}.upload-progress[_ngcontent-%COMP%]{margin-top:var(--spacing-sm);text-align:center}.progress-bar[_ngcontent-%COMP%]{width:100%;height:4px;background:#ecf0f1;border-radius:2px;overflow:hidden;margin-bottom:var(--spacing-xs)}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,var(--accent-color),var(--secondary-color));border-radius:2px;animation:_ngcontent-%COMP%_progress 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_progress{0%{width:0%}50%{width:100%}to{width:0%}}.upload-progress[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-muted);font-style:italic}.image-preview-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:400px;border-radius:var(--border-radius);overflow:hidden;box-shadow:var(--shadow-md);animation:_ngcontent-%COMP%_scaleIn .3s ease-out}.image-preview[_ngcontent-%COMP%]{width:100%;height:auto;max-height:300px;object-fit:cover;display:block}.remove-image-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:32px;height:32px;border-radius:50%;background:#e74c3ce6;color:#fff;border:none;cursor:pointer;font-size:1.2rem;display:flex;align-items:center;justify-content:center;transition:all var(--transition-fast);box-shadow:0 2px 8px #0000004d}.remove-image-btn[_ngcontent-%COMP%]:hover{background:#c0392b;transform:scale(1.1)}.form-hint[_ngcontent-%COMP%]{color:var(--text-light);font-size:.85rem;display:block;margin-top:5px}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@media (max-width: 768px){.add-afroshop-container[_ngcontent-%COMP%]{padding:var(--spacing-md);max-width:100%;display:flex;flex-direction:column;align-items:center}.afroshop-form[_ngcontent-%COMP%]{padding:var(--spacing-lg);display:flex;flex-direction:column;align-items:center}.form-header[_ngcontent-%COMP%]{text-align:center}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;text-align:center}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.url-input-group[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-sm);align-items:center}.url-input[_ngcontent-%COMP%]{width:100%;margin:0 auto}.import-btn[_ngcontent-%COMP%]{width:100%;justify-content:center;margin:0 auto}.form-actions[_ngcontent-%COMP%]{flex-direction:column;gap:15px;padding:20px 0;align-items:center}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{width:100%;font-size:16px;padding:18px 24px;min-width:auto;margin:0 auto}}@media (max-width: 480px){.add-afroshop-container[_ngcontent-%COMP%]{padding:var(--spacing-sm);display:flex;flex-direction:column;align-items:center}.afroshop-form[_ngcontent-%COMP%]{padding:var(--spacing-md);display:flex;flex-direction:column;align-items:center}.form-header[_ngcontent-%COMP%]{text-align:center}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;text-align:center}.auto-import-section[_ngcontent-%COMP%]{padding:var(--spacing-md);margin-bottom:var(--spacing-lg);text-align:center}.auto-import-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;text-align:center}.form-input[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{font-size:16px;margin:0 auto}.upload-btn[_ngcontent-%COMP%]{width:100%;text-align:center;margin:0 auto}.image-preview-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto}.image-preview[_ngcontent-%COMP%]{max-height:200px;margin:0 auto}}.opening-hours-container[_ngcontent-%COMP%]{background:#f8f9fa;border:2px solid #e9ecef;border-radius:12px;padding:20px;margin-top:10px}.day-hours[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px;padding:12px;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000000d}.day-hours[_ngcontent-%COMP%]:last-child{margin-bottom:0}.day-label[_ngcontent-%COMP%]{width:100px;font-weight:600;color:#495057;flex-shrink:0}.hours-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;flex:1}.checkbox-label[_ngcontent-%COMP%]{font-size:14px;color:#6c757d;cursor:pointer;margin:0;padding:0}.time-selectors[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-left:10px}.time-select[_ngcontent-%COMP%]{padding:8px 12px;border:2px solid #dee2e6;border-radius:6px;background:#fff;color:#495057;font-size:14px;cursor:pointer;transition:all .2s}.time-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#ff7b00;box-shadow:0 0 0 3px #ff7b001a}.time-separator[_ngcontent-%COMP%]{color:#6c757d;font-weight:500;margin:0 5px}@media (max-width: 768px){.day-hours[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}.day-label[_ngcontent-%COMP%]{width:auto;margin-bottom:5px}.hours-controls[_ngcontent-%COMP%]{width:100%;flex-direction:column;align-items:flex-start;gap:10px}.time-selectors[_ngcontent-%COMP%]{margin-left:0;justify-content:flex-start}}@media (max-width: 480px){.opening-hours-container[_ngcontent-%COMP%]{padding:15px}.time-selectors[_ngcontent-%COMP%]{flex-direction:column;gap:8px;align-items:flex-start}.time-separator[_ngcontent-%COMP%]{display:none}}@media (max-width: 360px){.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem}.auto-import-section[_ngcontent-%COMP%], .afroshop-form[_ngcontent-%COMP%]{padding:var(--spacing-sm)}}.form-actions[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]{font-size:.95em;padding:6px 14px;min-width:0;border-radius:6px;max-width:180px;white-space:nowrap}']})};function gs(o,t){if(o&1&&(r(0,"div",16),a(1),i()),o&2){let e=m();l(),x(" ",e.errorMessage," ")}}function us(o,t){o&1&&(r(0,"span"),a(1,"Anmelden"),i())}function hs(o,t){o&1&&(r(0,"span"),a(1,"\u23F3 Anmeldung..."),i())}function fs(o,t){o&1&&(r(0,"span"),a(1,"\u{1F50D} Mit Google fortfahren"),i())}function _s(o,t){o&1&&(r(0,"span"),a(1,"\u23F3 Google-Anmeldung..."),i())}var Zt=class o{constructor(t,e,n){this.authService=t;this.router=e;this.route=n}email="";password="";isLoading=!1;errorMessage="";onSubmit(){return S(this,null,function*(){if(!this.email||!this.password){this.errorMessage="Bitte f\xFCllen Sie alle Felder aus";return}this.isLoading=!0,this.errorMessage="";try{yield this.authService.login(this.email,this.password);let t=this.route.snapshot.queryParams.returnUrl||"/gallery";this.router.navigate([t])}catch(t){this.errorMessage=t.message}finally{this.isLoading=!1}})}loginWithGoogle(){return S(this,null,function*(){this.isLoading=!0,this.errorMessage="";try{console.log("\u{1F510} Tentative de connexion Google...");let t=yield this.authService.loginWithGoogle();console.log("\u2705 Connexion Google r\xE9ussie:",t);let e=this.route.snapshot.queryParams.returnUrl||"/gallery";this.router.navigate([e])}catch(t){console.error("\u274C Erreur connexion Google:",t);let e=t.message;t instanceof Error&&(console.log("Type d'erreur:",t.name),console.log("Code d'erreur:",t.code),console.log("Message complet:",t.message)),e.includes("annul\xE9e")||e.includes("Connexion annul\xE9e")||e.includes("popup-closed-by-user")||e.includes("cancelled")?this.showGoogleLoginDialog():e.includes("bloqu\xE9e")||e.includes("popup")||e.includes("popup-blocked")?this.showPopupBlockedDialog():this.errorMessage=`Erreur de connexion: ${e}`}finally{this.isLoading=!1}})}showGoogleLoginDialog(){confirm(`\u{1F510} Connexion Google interrompue

\u2022 La popup de connexion a \xE9t\xE9 ferm\xE9e avant la fin
\u2022 Souhaitez-vous r\xE9essayer?

Conseils:
\u2713 Gardez la popup ouverte pendant la connexion
\u2713 V\xE9rifiez que les popups ne sont pas bloqu\xE9es
\u2713 Utilisez votre compte Google habituel

R\xE9essayer maintenant?`)&&setTimeout(()=>{this.loginWithGoogle()},500)}showPopupBlockedDialog(){confirm(`\u{1F6AB} Popups bloqu\xE9es par le navigateur

\u2022 Votre navigateur bloque les popups d'AfroConnect
\u2022 Pour vous connecter avec Google, vous devez:

Instructions:
1. Cliquez sur l'ic\xF4ne \u{1F6E1}\uFE0F dans la barre d'adresse
2. Autorisez les popups pour ce site
3. Rechargez la page si n\xE9cessaire

R\xE9essayer maintenant?`)?setTimeout(()=>{this.loginWithGoogle()},1e3):this.errorMessage="Utilisez la connexion par email/mot de passe en attendant"}static \u0275fac=function(e){return new(e||o)(w(T),w(R),w(se))};static \u0275cmp=E({type:o,selectors:[["app-login"]],decls:31,vars:11,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-header"],[1,"auth-form",3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","placeholder","ihre@email.com","required","",3,"ngModelChange","ngModel","disabled"],["for","password"],["type","password","id","password","name","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",3,"ngModelChange","ngModel","disabled"],["class","error-message",4,"ngIf"],["type","submit",1,"auth-btn",3,"disabled"],[4,"ngIf"],[1,"divider"],[1,"google-btn",3,"click","disabled"],[1,"auth-footer"],["routerLink","/register",1,"auth-link"],[1,"error-message"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),a(4,"\u{1F510} Anmeldung"),i(),r(5,"p"),a(6,"Melden Sie sich bei Ihrem AfroConnect-Konto an"),i()(),r(7,"form",3),b("ngSubmit",function(){return n.onSubmit()}),r(8,"div",4)(9,"label",5),a(10,"E-Mail-Adresse"),i(),r(11,"input",6),M("ngModelChange",function(d){return C(n.email,d)||(n.email=d),d}),i()(),r(12,"div",4)(13,"label",7),a(14,"Passwort"),i(),r(15,"input",8),M("ngModelChange",function(d){return C(n.password,d)||(n.password=d),d}),i()(),f(16,gs,2,1,"div",9),r(17,"button",10),f(18,us,2,0,"span",11)(19,hs,2,0,"span",11),i()(),r(20,"div",12)(21,"span"),a(22,"oder"),i()(),r(23,"button",13),b("click",function(){return n.loginWithGoogle()}),f(24,fs,2,0,"span",11)(25,_s,2,0,"span",11),i(),r(26,"div",14)(27,"p"),a(28,"Noch kein Konto? "),r(29,"a",15),a(30,"Registrieren"),i()()()()()),e&2&&(l(11),y("ngModel",n.email),p("disabled",n.isLoading),l(4),y("ngModel",n.password),p("disabled",n.isLoading),l(),p("ngIf",n.errorMessage),l(),p("disabled",n.isLoading||!n.email||!n.password),l(),p("ngIf",!n.isLoading),l(),p("ngIf",n.isLoading),l(4),p("disabled",n.isLoading),l(),p("ngIf",!n.isLoading),l(),p("ngIf",n.isLoading))},dependencies:[A,D,$,Ce,ce,ne,ve,Me,ie,ye,de,le],styles:['.auth-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));padding:var(--spacing-md)}.auth-card[_ngcontent-%COMP%]{background:var(--background-white);padding:var(--spacing-xl);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-lg);width:100%;max-width:400px}.auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--spacing-xl)}.auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-dark);margin-bottom:var(--spacing-sm);font-size:1.8rem}.auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);font-size:.9rem}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md)}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:var(--text-dark);font-size:.9rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:var(--spacing-md);border:2px solid #e0e0e0;border-radius:var(--border-radius);font-size:1rem;transition:all .3s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #667eea1a}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;cursor:not-allowed}.error-message[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:var(--spacing-sm);border-radius:var(--border-radius);border:1px solid #f5c6cb;font-size:.9rem;text-align:center}.auth-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));color:#fff;border:none;padding:var(--spacing-md);border-radius:var(--border-radius);font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;margin-top:var(--spacing-sm)}.auth-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:var(--shadow-md)}.auth-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.auth-footer[_ngcontent-%COMP%]{text-align:center;margin-top:var(--spacing-lg);padding-top:var(--spacing-lg);border-top:1px solid #e0e0e0}.auth-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);font-size:.9rem}.auth-link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:500;transition:color .3s ease}.auth-link[_ngcontent-%COMP%]:hover{color:var(--secondary-color);text-decoration:underline}.divider[_ngcontent-%COMP%]{text-align:center;margin:var(--spacing-lg) 0;position:relative}.divider[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:#e0e0e0}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:var(--background-white);color:var(--text-light);padding:0 var(--spacing-md);font-size:.9rem}.google-btn[_ngcontent-%COMP%]{width:100%;background:#4285f4;color:#fff;border:none;padding:var(--spacing-md);border-radius:var(--border-radius);font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:var(--spacing-xs)}.google-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#3367d6;transform:translateY(-2px);box-shadow:var(--shadow-md)}.google-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}']})};function bs(o,t){if(o&1&&(r(0,"div",20),a(1),i()),o&2){let e=m();l(),x(" ",e.errorMessage," ")}}function xs(o,t){o&1&&(r(0,"span"),a(1,"Registrieren"),i())}function vs(o,t){o&1&&(r(0,"span"),a(1,"\u23F3 Registrierung..."),i())}function ys(o,t){o&1&&(r(0,"span"),a(1,"\u{1F50D} Mit Google fortfahren"),i())}function Cs(o,t){o&1&&(r(0,"span"),a(1,"\u23F3 Google-Anmeldung..."),i())}var $t=class o{constructor(t,e){this.authService=t;this.router=e}email="";password="";confirmPassword="";displayName="";isLoading=!1;errorMessage="";onSubmit(){return S(this,null,function*(){if(!this.email||!this.password||!this.confirmPassword||!this.displayName){this.errorMessage="Bitte f\xFCllen Sie alle Felder aus";return}if(this.password!==this.confirmPassword){this.errorMessage="Die Passw\xF6rter stimmen nicht \xFCberein";return}if(this.password.length<6){this.errorMessage="Das Passwort muss mindestens 6 Zeichen enthalten";return}this.isLoading=!0,this.errorMessage="";try{yield this.authService.register(this.email,this.password,this.displayName),this.router.navigate(["/gallery"])}catch(t){this.errorMessage=t.message}finally{this.isLoading=!1}})}loginWithGoogle(){return S(this,null,function*(){this.isLoading=!0,this.errorMessage="";try{yield this.authService.loginWithGoogle(),this.router.navigate(["/gallery"])}catch(t){let e=t.message;e.includes("annul\xE9e")||e.includes("Connexion annul\xE9e")?this.showGoogleLoginDialog():e.includes("bloqu\xE9e")||e.includes("popup")?this.showPopupBlockedDialog():this.errorMessage=e}finally{this.isLoading=!1}})}showGoogleLoginDialog(){confirm(`\u{1F510} Connexion Google interrompue

\u2022 La popup de connexion a \xE9t\xE9 ferm\xE9e avant la fin
\u2022 Souhaitez-vous r\xE9essayer?

Conseils:
\u2713 Gardez la popup ouverte pendant la connexion
\u2713 V\xE9rifiez que les popups ne sont pas bloqu\xE9es
\u2713 Utilisez votre compte Google habituel

R\xE9essayer maintenant?`)&&setTimeout(()=>{this.loginWithGoogle()},500)}showPopupBlockedDialog(){confirm(`\u{1F6AB} Popups bloqu\xE9es par le navigateur

\u2022 Votre navigateur bloque les popups d'AfroConnect
\u2022 Pour vous connecter avec Google, vous devez:

Instructions:
1. Cliquez sur l'ic\xF4ne \u{1F6E1}\uFE0F dans la barre d'adresse
2. Autorisez les popups pour ce site
3. Rechargez la page si n\xE9cessaire

R\xE9essayer maintenant?`)?setTimeout(()=>{this.loginWithGoogle()},1e3):this.errorMessage="Utilisez la connexion par email/mot de passe en attendant"}static \u0275fac=function(e){return new(e||o)(w(T),w(R))};static \u0275cmp=E({type:o,selectors:[["app-register"]],decls:39,vars:15,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-header"],[1,"auth-form",3,"ngSubmit"],[1,"form-group"],["for","displayName"],["type","text","id","displayName","name","displayName","placeholder","Ihr Name","required","",3,"ngModelChange","ngModel","disabled"],["for","email"],["type","email","id","email","name","email","placeholder","ihre@email.com","required","",3,"ngModelChange","ngModel","disabled"],["for","password"],["type","password","id","password","name","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",3,"ngModelChange","ngModel","disabled"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",3,"ngModelChange","ngModel","disabled"],["class","error-message",4,"ngIf"],["type","submit",1,"auth-btn",3,"disabled"],[4,"ngIf"],[1,"divider"],[1,"google-btn",3,"click","disabled"],[1,"auth-footer"],["routerLink","/login",1,"auth-link"],[1,"error-message"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),a(4,"\u{1F4DD} Registrierung"),i(),r(5,"p"),a(6,"Erstellen Sie Ihr AfroConnect-Konto"),i()(),r(7,"form",3),b("ngSubmit",function(){return n.onSubmit()}),r(8,"div",4)(9,"label",5),a(10,"Anzeigename"),i(),r(11,"input",6),M("ngModelChange",function(d){return C(n.displayName,d)||(n.displayName=d),d}),i()(),r(12,"div",4)(13,"label",7),a(14,"E-Mail-Adresse"),i(),r(15,"input",8),M("ngModelChange",function(d){return C(n.email,d)||(n.email=d),d}),i()(),r(16,"div",4)(17,"label",9),a(18,"Passwort"),i(),r(19,"input",10),M("ngModelChange",function(d){return C(n.password,d)||(n.password=d),d}),i()(),r(20,"div",4)(21,"label",11),a(22,"Passwort best\xE4tigen"),i(),r(23,"input",12),M("ngModelChange",function(d){return C(n.confirmPassword,d)||(n.confirmPassword=d),d}),i()(),f(24,bs,2,1,"div",13),r(25,"button",14),f(26,xs,2,0,"span",15)(27,vs,2,0,"span",15),i()(),r(28,"div",16)(29,"span"),a(30,"oder"),i()(),r(31,"button",17),b("click",function(){return n.loginWithGoogle()}),f(32,ys,2,0,"span",15)(33,Cs,2,0,"span",15),i(),r(34,"div",18)(35,"p"),a(36,"Bereits ein Konto? "),r(37,"a",19),a(38,"Anmelden"),i()()()()()),e&2&&(l(11),y("ngModel",n.displayName),p("disabled",n.isLoading),l(4),y("ngModel",n.email),p("disabled",n.isLoading),l(4),y("ngModel",n.password),p("disabled",n.isLoading),l(4),y("ngModel",n.confirmPassword),p("disabled",n.isLoading),l(),p("ngIf",n.errorMessage),l(),p("disabled",n.isLoading||!n.email||!n.password||!n.confirmPassword||!n.displayName),l(),p("ngIf",!n.isLoading),l(),p("ngIf",n.isLoading),l(4),p("disabled",n.isLoading),l(),p("ngIf",!n.isLoading),l(),p("ngIf",n.isLoading))},dependencies:[A,D,$,Ce,ce,ne,ve,Me,ie,ye,de,le],styles:['.auth-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));padding:var(--spacing-md)}.auth-card[_ngcontent-%COMP%]{background:var(--background-white);padding:var(--spacing-xl);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-lg);width:100%;max-width:400px}.auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--spacing-xl)}.auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-dark);margin-bottom:var(--spacing-sm);font-size:1.8rem}.auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);font-size:.9rem}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md)}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:var(--text-dark);font-size:.9rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:var(--spacing-md);border:2px solid #e0e0e0;border-radius:var(--border-radius);font-size:1rem;transition:all .3s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #667eea1a}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;cursor:not-allowed}.error-message[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:var(--spacing-sm);border-radius:var(--border-radius);border:1px solid #f5c6cb;font-size:.9rem;text-align:center}.auth-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));color:#fff;border:none;padding:var(--spacing-md);border-radius:var(--border-radius);font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;margin-top:var(--spacing-sm)}.auth-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:var(--shadow-md)}.auth-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.auth-footer[_ngcontent-%COMP%]{text-align:center;margin-top:var(--spacing-lg);padding-top:var(--spacing-lg);border-top:1px solid #e0e0e0}.auth-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);font-size:.9rem}.auth-link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:500;transition:color .3s ease}.auth-link[_ngcontent-%COMP%]:hover{color:var(--secondary-color);text-decoration:underline}.divider[_ngcontent-%COMP%]{text-align:center;margin:var(--spacing-lg) 0;position:relative}.divider[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:#e0e0e0}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:var(--background-white);color:var(--text-light);padding:0 var(--spacing-md);font-size:.9rem}.google-btn[_ngcontent-%COMP%]{width:100%;background:#4285f4;color:#fff;border:none;padding:var(--spacing-md);border-radius:var(--border-radius);font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:var(--spacing-xs)}.google-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#3367d6;transform:translateY(-2px);box-shadow:var(--shadow-md)}.google-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}']})};var Yt=class o{currentDate=new Date().toLocaleDateString("de-DE");static \u0275fac=function(e){return new(e||o)};static \u0275cmp=E({type:o,selectors:[["app-privacy"]],decls:128,vars:1,consts:[[1,"legal-container"],[1,"legal-content"],[1,"last-updated"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Datenschutzerkl\xE4rung"),i(),r(4,"p",2),a(5),i(),r(6,"section")(7,"h2"),a(8,"1. Verantwortlicher"),i(),r(9,"p")(10,"strong"),a(11,"AfroConnect"),i(),P(12,"br"),a(13," Kapuzinerring 26"),P(14,"br"),a(15," 59457 Werl"),P(16,"br"),a(17," Deutschland"),P(18,"br")(19,"br"),a(20," E-Mail: lamaid0502@gmail.com"),P(21,"br")(22,"br"),a(23," Der Verantwortliche im Sinne der Datenschutz-Grundverordnung (DSGVO) und anderer nationaler Datenschutzgesetze der Mitgliedsstaaten sowie sonstiger datenschutzrechtlicher Bestimmungen ist die oben genannte Person. "),i()(),r(24,"section")(25,"h2"),a(26,"2. Erhobene Daten"),i(),r(27,"h3"),a(28,"2.1 Nutzungsdaten"),i(),r(29,"ul")(30,"li"),a(31,"IP-Adresse"),i(),r(32,"li"),a(33,"Browser-Informationen"),i(),r(34,"li"),a(35,"Zugriffszeitpunkt"),i(),r(36,"li"),a(37,"Besuchte Seiten"),i()(),r(38,"h3"),a(39,"2.2 Standortdaten"),i(),r(40,"p"),a(41," Mit Ihrer Einwilligung nutzen wir Ihren Standort, um Ihnen Afroshops in Ihrer N\xE4he anzuzeigen. Die Standortdaten werden nicht gespeichert. "),i(),r(42,"h3"),a(43,"2.3 Registrierungsdaten"),i(),r(44,"ul")(45,"li"),a(46,"E-Mail-Adresse"),i(),r(47,"li"),a(48,"Benutzername"),i(),r(49,"li"),a(50,"Passwort (verschl\xFCsselt)"),i()()(),r(51,"section")(52,"h2"),a(53,"3. Zweck der Datenverarbeitung"),i(),r(54,"ul")(55,"li"),a(56,"Bereitstellung der App-Funktionen"),i(),r(57,"li"),a(58,"Benutzerauthentifizierung"),i(),r(59,"li"),a(60,"Anzeige lokaler Afroshops"),i(),r(61,"li"),a(62,"Verbesserung der Nutzererfahrung"),i()()(),r(63,"section")(64,"h2"),a(65,"4. Rechtsgrundlage"),i(),r(66,"p"),a(67," Die Verarbeitung erfolgt auf Grundlage von: "),i(),r(68,"ul")(69,"li"),a(70,"Art. 6 Abs. 1 lit. a DSGVO (Einwilligung)"),i(),r(71,"li"),a(72,"Art. 6 Abs. 1 lit. b DSGVO (Vertragserf\xFCllung)"),i(),r(73,"li"),a(74,"Art. 6 Abs. 1 lit. f DSGVO (berechtigte Interessen)"),i()()(),r(75,"section")(76,"h2"),a(77,"5. Datenweitergabe"),i(),r(78,"p"),a(79," Ihre Daten werden nicht an Dritte weitergegeben, au\xDFer: "),i(),r(80,"ul")(81,"li"),a(82,"Google Firebase (Hosting und Datenbank)"),i(),r(83,"li"),a(84,"Bei gesetzlicher Verpflichtung"),i()()(),r(85,"section")(86,"h2"),a(87,"6. Speicherdauer"),i(),r(88,"p"),a(89," Daten werden gespeichert, solange Ihr Konto aktiv ist oder zur Erf\xFCllung rechtlicher Verpflichtungen erforderlich. "),i()(),r(90,"section")(91,"h2"),a(92,"7. Ihre Rechte"),i(),r(93,"ul")(94,"li"),a(95,"Auskunft \xFCber gespeicherte Daten"),i(),r(96,"li"),a(97,"Berichtigung falscher Daten"),i(),r(98,"li"),a(99,"L\xF6schung Ihrer Daten"),i(),r(100,"li"),a(101,"Einschr\xE4nkung der Verarbeitung"),i(),r(102,"li"),a(103,"Daten\xFCbertragbarkeit"),i(),r(104,"li"),a(105,"Widerspruch gegen Verarbeitung"),i()()(),r(106,"section")(107,"h2"),a(108,"8. Kontakt"),i(),r(109,"p")(110,"strong"),a(111,"Verantwortlicher f\xFCr den Datenschutz:"),i(),P(112,"br")(113,"br"),r(114,"strong"),a(115,"AfroConnect"),i(),P(116,"br"),a(117," Kapuzinerring 26"),P(118,"br"),a(119," 59457 Werl"),P(120,"br"),a(121," Deutschland"),P(122,"br")(123,"br"),a(124," E-Mail: lamaid0502@gmail.com"),P(125,"br")(126,"br"),a(127," Bei Fragen zum Datenschutz oder zur Aus\xFCbung Ihrer Rechte kontaktieren Sie uns gerne \xFCber die oben genannten Kontaktdaten. "),i()()()()),e&2&&(l(5),x("Letzte Aktualisierung: ",n.currentDate,""))},styles:[".legal-container[_ngcontent-%COMP%]{max-width:700px;margin:2rem auto;padding:1.5rem;background:#f9f9f9;border-radius:12px;box-shadow:0 2px 12px #3182ce14}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#3182ce;margin-bottom:1rem}.last-updated[_ngcontent-%COMP%]{font-size:.98rem;color:#4a5568;margin-bottom:1.5rem}p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{font-size:1.08rem;margin-bottom:1rem}ul[_ngcontent-%COMP%]{padding-left:1.2rem}section[_ngcontent-%COMP%]{margin-bottom:2rem}"]})};var Xt=class o{currentDate=new Date().toLocaleDateString("de-DE");static \u0275fac=function(e){return new(e||o)};static \u0275cmp=E({type:o,selectors:[["app-terms"]],decls:107,vars:1,consts:[[1,"legal-container"],[1,"legal-content"],[1,"last-updated"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Allgemeine Gesch\xE4ftsbedingungen (AGB)"),i(),r(4,"p",2),a(5),i(),r(6,"section")(7,"h2"),a(8,"\xA7 1 Geltungsbereich"),i(),r(9,"p"),a(10," Diese Allgemeinen Gesch\xE4ftsbedingungen gelten f\xFCr die Nutzung der AfroConnect-App und aller damit verbundenen Dienste. "),i()(),r(11,"section")(12,"h2"),a(13,"\xA7 2 Beschreibung der Dienstleistung"),i(),r(14,"p"),a(15," AfroConnect ist eine Plattform zur Entdeckung afrikanischer Gesch\xE4fte, Restaurants und Dienstleistungen in Deutschland. "),i(),r(16,"h3"),a(17,"2.1 Funktionen"),i(),r(18,"ul")(19,"li"),a(20,"Suche nach Afroshops in der N\xE4he"),i(),r(21,"li"),a(22,"Detailinformationen zu Gesch\xE4ften"),i(),r(23,"li"),a(24,"Bewertungen und Kommentare"),i(),r(25,"li"),a(26,"Kartenansicht und Navigation"),i()()(),r(27,"section")(28,"h2"),a(29,"\xA7 3 Nutzerkonto"),i(),r(30,"h3"),a(31,"3.1 Registrierung"),i(),r(32,"p"),a(33," F\xFCr bestimmte Funktionen ist eine Registrierung erforderlich. Sie verpflichten sich, wahrheitsgem\xE4\xDFe Angaben zu machen. "),i(),r(34,"h3"),a(35,"3.2 Passwort und Sicherheit"),i(),r(36,"p"),a(37," Sie sind f\xFCr die Geheimhaltung Ihres Passworts verantwortlich und haften f\xFCr alle Aktivit\xE4ten unter Ihrem Konto. "),i()(),r(38,"section")(39,"h2"),a(40,"\xA7 4 Nutzungsregeln"),i(),r(41,"p"),a(42,"Bei der Nutzung von AfroConnect verpflichten Sie sich:"),i(),r(43,"ul")(44,"li"),a(45,"Keine rechtswidrigen Inhalte zu ver\xF6ffentlichen"),i(),r(46,"li"),a(47,"Keine beleidigenden oder diskriminierenden Inhalte"),i(),r(48,"li"),a(49,"Nur wahrheitsgem\xE4\xDFe Informationen anzugeben"),i(),r(50,"li"),a(51,"Die Rechte Dritter zu respektieren"),i()()(),r(52,"section")(53,"h2"),a(54,"\xA7 5 Inhalte und Urheberrecht"),i(),r(55,"h3"),a(56,"5.1 Nutzergenerierte Inhalte"),i(),r(57,"p"),a(58," Durch das Hochladen von Inhalten gew\xE4hren Sie AfroConnect das Recht, diese Inhalte zu nutzen, zu bearbeiten und zu ver\xF6ffentlichen. "),i(),r(59,"h3"),a(60,"5.2 Verantwortung"),i(),r(61,"p"),a(62," Sie sind allein verantwortlich f\xFCr die von Ihnen hochgeladenen Inhalte und deren Rechtm\xE4\xDFigkeit. "),i()(),r(63,"section")(64,"h2"),a(65,"\xA7 6 Haftung"),i(),r(66,"h3"),a(67,"6.1 Allgemeine Haftung"),i(),r(68,"p"),a(69," AfroConnect haftet nur f\xFCr Sch\xE4den, die auf vors\xE4tzlichem oder grob fahrl\xE4ssigem Verhalten beruhen. "),i(),r(70,"h3"),a(71,"6.2 Haftungsausschluss f\xFCr Drittanbieter"),i(),r(72,"p"),a(73," AfroConnect haftet nicht f\xFCr Vertragsverh\xE4ltnisse, Bestellungen, Lieferungen oder Zahlungen zwischen Nutzern und Anbietern. Die Plattform dient ausschlie\xDFlich als Vermittlungs- und Informationsdienst. "),i()(),r(74,"section")(75,"h2"),a(76,"\xA7 7 \xC4nderungen der AGB"),i(),r(77,"p"),a(78," Wir behalten uns vor, diese AGB jederzeit zu \xE4ndern. \xC4nderungen werden per E-Mail mitgeteilt. "),i()(),r(79,"section")(80,"h2"),a(81,"\xA7 8 K\xFCndigung"),i(),r(82,"p"),a(83," Sie k\xF6nnen Ihr Konto jederzeit l\xF6schen. Wir k\xF6nnen Konten bei Verst\xF6\xDFen gegen diese AGB sperren oder l\xF6schen. "),i()(),r(84,"section")(85,"h2"),a(86,"\xA7 9 Anwendbares Recht"),i(),r(87,"p"),a(88," Es gilt deutsches Recht. Gerichtsstand ist Werl, Deutschland. "),i()(),r(89,"section")(90,"h2"),a(91,"\xA7 10 Kontakt"),i(),r(92,"p")(93,"strong"),a(94,"AfroConnect"),i(),P(95,"br"),a(96," Kapuzinerring 26"),P(97,"br"),a(98," 59457 Werl"),P(99,"br"),a(100," Deutschland"),P(101,"br")(102,"br"),a(103," E-Mail: lamaid0502@gmail.com"),P(104,"br")(105,"br"),a(106," Bei Fragen zu diesen AGB oder zur Nutzung der App kontaktieren Sie uns gerne \xFCber die oben genannten Kontaktdaten. "),i()()()()),e&2&&(l(5),x("Letzte Aktualisierung: ",n.currentDate,""))},styles:[".legal-container[_ngcontent-%COMP%]{max-width:700px;margin:2rem auto;padding:1.5rem;background:#f9f9f9;border-radius:12px;box-shadow:0 2px 12px #3182ce14}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#3182ce;margin-bottom:1rem}.last-updated[_ngcontent-%COMP%]{font-size:.98rem;color:#4a5568;margin-bottom:1.5rem}p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{font-size:1.08rem;margin-bottom:1rem}ul[_ngcontent-%COMP%]{padding-left:1.2rem}section[_ngcontent-%COMP%]{margin-bottom:2rem}"]})};var Qt=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=E({type:o,selectors:[["app-impressum"]],decls:37,vars:0,consts:[[1,"legal-container"],["href","mailto:lamaid0502@gmail.com"]],template:function(e,n){e&1&&(r(0,"h2"),a(1,"Impressum"),i(),r(2,"p")(3,"strong"),a(4,"Angaben gem\xE4\xDF \xA7 5 TMG:"),i()(),r(5,"div",0)(6,"p"),a(7," AfroConnect"),P(8,"br"),a(9," Kapuzinerring 26"),P(10,"br"),a(11," 59457 Werl"),P(12,"br"),a(13," Deutschland "),i(),r(14,"p")(15,"strong"),a(16,"Kontakt:"),i()(),r(17,"p"),a(18," E-Mail: "),r(19,"a",1),a(20,"lamaid0502@gmail.com"),i()(),r(21,"p")(22,"strong"),a(23,"Verantwortlich f\xFCr den Inhalt nach \xA7 55 Abs. 2 RStV:"),i()(),r(24,"p"),a(25," Youssouf Diallo"),P(26,"br"),a(27," Kapuzinerring 26"),P(28,"br"),a(29," 59457 Werl"),P(30,"br"),a(31," Deutschland "),i(),r(32,"p")(33,"strong"),a(34,"Haftungsausschluss:"),i()(),r(35,"p"),a(36," AfroConnect ist eine Vermittlungsplattform. Keine Verantwortung f\xFCr Inhalte oder Gesch\xE4fte der Anbieter. "),i()())},dependencies:[A],styles:[".legal-container[_ngcontent-%COMP%]{max-width:600px;margin:2rem auto;padding:1.5rem;background:#f9f9f9;border-radius:12px;box-shadow:0 2px 12px #3182ce14}h2[_ngcontent-%COMP%]{color:#3182ce;margin-bottom:1rem}p[_ngcontent-%COMP%]{font-size:1.08rem;margin-bottom:1rem}a[_ngcontent-%COMP%]{color:#3182ce;text-decoration:underline}"]})};var Jt=class o{constructor(t){this.firebaseService=t}getExistingAfroshops(){return S(this,null,function*(){return new Promise(t=>{this.firebaseService.getAllAfroshops().subscribe({next:e=>t(e),error:e=>{console.warn("Erreur lors de la r\xE9cup\xE9ration des donn\xE9es existantes:",e),t([])}})})})}cleanDuplicates(){return S(this,null,function*(){try{console.log("\u{1F9F9} Nettoyage des doublons en cours...");let t=yield this.getExistingAfroshops();console.log(`\u{1F4CA} ${t.length} Afroshops trouv\xE9s en base`);let e=new Map;t.forEach(d=>{let c=`${d.name}|${d.address}`;e.has(c)||e.set(c,[]),e.get(c).push(d)});let n=0,s=0;for(let[d,c]of e)if(c.length>1){console.log(`\u{1F50D} Doublon trouv\xE9: ${c[0].name} (${c.length} copies)`),s++;for(let g=1;g<c.length;g++)try{yield this.firebaseService.deleteAfroshop(c[g].id),n++,console.log(`\u{1F5D1}\uFE0F Supprim\xE9: ${c[g].name} (ID: ${c[g].id})`),yield this.delay(100)}catch(v){console.error(`\u274C Erreur suppression ${c[g].id}:`,v)}}else s++;return console.log(`\u2705 Nettoyage termin\xE9: ${n} supprim\xE9s, ${s} conserv\xE9s`),{removed:n,kept:s}}catch(t){throw console.error("\u274C Erreur lors du nettoyage:",t),t}})}afroshopsData=[{name:"Mama Afrika Restaurant",type:"restaurant",address:"M\xFCllerstra\xDFe 123, 13349 Berlin",coordinates:{lat:52.52,lng:13.405},phone:"+49 30 12345678",description:"Authentisches westafrikanisches Restaurant mit traditionellen Gerichten aus Ghana und Nigeria. Spezialit\xE4ten: Jollof Rice, Fufu, Kelewele.",rating:4.5,image:"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800&h=600&fit=crop",cuisine:"Westafrikanische",priceLevel:2,hours:"Mo-Fr: 12:00-22:00, Sa: 14:00-23:00, So: 14:00-21:00",website:"https://mama-afrika-berlin.de",impressumName:"",impressumAddress:"",impressumEmail:"",impressumPhone:"",impressumText:""},{name:"Ethiopian Queen Restaurant",type:"restaurant",address:"Kreuzbergstra\xDFe 45, 10965 Berlin",coordinates:{lat:52.4995,lng:13.3883},phone:"+49 30 23456789",description:"Traditionelle \xE4thiopische K\xFCche in gem\xFCtlicher Atmosph\xE4re. Injera, Doro Wat und vegetarische Optionen.",rating:4.3,image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop",cuisine:"\xC4thiopische",priceLevel:2,hours:"Mo-So: 17:00-23:00",website:"https://ethiopian-queen.de",impressumName:"",impressumAddress:"",impressumEmail:"",impressumPhone:"",impressumText:""},{name:"Afro Hair Salon Berlin",type:"coiffeur",address:"Hermannstra\xDFe 89, 12049 Berlin",coordinates:{lat:52.4755,lng:13.4324},phone:"+49 30 34567890",description:"Spezialist f\xFCr afroamerikanische Haarpflege. Braids, Weaves, Natural Hair Care und chemische Behandlungen.",rating:4.7,image:"https://images.unsplash.com/photo-1562322140-8baeececf3df?w=800&h=600&fit=crop",cuisine:"",priceLevel:3,hours:"Mo-Fr: 09:00-19:00, Sa: 09:00-17:00",website:"",impressumName:"",impressumAddress:"",impressumEmail:"",impressumPhone:"",impressumText:""},{name:"Afrika Market Berlin",type:"epicerie",address:"Turmstra\xDFe 234, 10551 Berlin",coordinates:{lat:52.5252,lng:13.3415},phone:"+49 30 45678901",description:"Gr\xF6\xDFter afrikanischer Supermarkt in Berlin. Yams, Kochbananen, Palm\xF6l, Gew\xFCrze und Fleischspezialit\xE4ten.",rating:4.2,image:"https://images.unsplash.com/photo-1578916171728-46686eac8d58?w=800&h=600&fit=crop",cuisine:"",priceLevel:2,hours:"Mo-Sa: 08:00-20:00, So: 10:00-18:00",website:"https://afrika-market-berlin.de",impressumName:"",impressumAddress:"",impressumEmail:"",impressumPhone:"",impressumText:""},{name:"Senegal Restaurant Hamburg",type:"restaurant",address:"Reeperbahn 456, 20359 Hamburg",coordinates:{lat:53.5511,lng:9.9937},phone:"+49 40 12345678",description:"Authentische senegalesische K\xFCche. Thieboudienne, Yassa Poulet und frische Meeresfr\xFCchte.",rating:4.4,image:"https://images.unsplash.com/photo-1547592180-85f173990554?w=800&h=600&fit=crop",cuisine:"Senegalesische",priceLevel:3,hours:"Mo-Fr: 18:00-24:00, Sa-So: 17:00-01:00",website:"https://senegal-restaurant-hh.de",impressumName:"",impressumAddress:"",impressumEmail:"",impressumPhone:"",impressumText:""},{name:"Afro Style Hamburg",type:"coiffeur",address:"Steindamm 123, 20099 Hamburg",coordinates:{lat:53.553,lng:10.0061},phone:"+49 40 23456789",description:"Moderner Afro-Friseursalon mit internationalen Stylisten. Cuts, Farben und Extensions.",rating:4.6,image:"https://images.unsplash.com/photo-1521490878783-35eb2c52f3b7?w=800&h=600&fit=crop",cuisine:"",priceLevel:3,hours:"Mo-Fr: 10:00-20:00, Sa: 09:00-18:00",website:"",impressumName:"",impressumAddress:"",impressumEmail:"",impressumPhone:"",impressumText:""},{name:"Kamerun Eck M\xFCnchen",type:"restaurant",address:"Maximilianstra\xDFe 78, 80539 M\xFCnchen",coordinates:{lat:48.1351,lng:11.582},phone:"+49 89 12345678",description:"Kamerunische Spezialit\xE4ten in bayerischer Atmosph\xE4re. Ndol\xE9, Poulet DG und Kochbananen.",rating:4.1,image:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=800&h=600&fit=crop",cuisine:"Kamerunische",priceLevel:2,hours:"Mo-Sa: 11:30-22:00",website:"",impressumName:"",impressumAddress:"",impressumEmail:"",impressumPhone:"",impressumText:""},{name:"Nigerianisches Restaurant K\xF6ln",type:"restaurant",address:"Z\xFClpicher Stra\xDFe 234, 50937 K\xF6ln",coordinates:{lat:50.9375,lng:6.9603},phone:"+49 221 12345678",description:"Authentische nigerianische K\xFCche. Jollof Rice, Suya, Pounded Yam und Egusi Soup.",rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=800&h=600&fit=crop",cuisine:"Nigerianische",priceLevel:2,hours:"Mo-Fr: 12:00-21:00, Sa-So: 14:00-22:00",website:"https://nigerian-restaurant-koeln.de",impressumName:"",impressumAddress:"",impressumEmail:"",impressumPhone:"",impressumText:""},{name:"Eritrea Restaurant Frankfurt",type:"restaurant",address:"Berger Stra\xDFe 145, 60316 Frankfurt am Main",coordinates:{lat:50.1109,lng:8.6821},phone:"+49 69 12345678",description:"Eritreische und \xE4thiopische K\xFCche. Injera, Zigni und traditionelle Kaffeezeremonie.",rating:4.5,image:"https://images.unsplash.com/photo-1554978991-33ef7f31d658?w=800&h=600&fit=crop",cuisine:"Eritreische",priceLevel:2,hours:"Mo-So: 17:00-23:00",website:"",impressumName:"",impressumAddress:"",impressumEmail:"",impressumPhone:"",impressumText:""},{name:"Afrika Laden Stuttgart",type:"epicerie",address:"K\xF6nigstra\xDFe 89, 70173 Stuttgart",coordinates:{lat:48.7758,lng:9.1829},phone:"+49 711 12345678",description:"Afrikanische Lebensmittel und Gew\xFCrze. Maniok, Kochbananen, Palm\xF6l und traditionelle Snacks.",rating:4,image:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=800&h=600&fit=crop",cuisine:"",priceLevel:2,hours:"Mo-Fr: 09:00-19:00, Sa: 09:00-17:00",website:"",impressumName:"",impressumAddress:"",impressumEmail:"",impressumPhone:"",impressumText:""},{name:"Marokkanisches Restaurant D\xFCsseldorf",type:"restaurant",address:"Immermannstra\xDFe 23, 40210 D\xFCsseldorf",coordinates:{lat:51.2277,lng:6.7735},phone:"+49 211 12345678",description:"Nordafrikanische K\xFCche. Tajine, Couscous, Pastilla und marokkanische Tees.",rating:4.2,image:"https://images.unsplash.com/photo-1539353130027-9532750e7146?w=800&h=600&fit=crop",cuisine:"Marokkanische",priceLevel:3,hours:"Mo-So: 17:00-24:00",website:"https://marokko-restaurant-dus.de"},{name:"Afro Palace Dortmund",type:"restaurant",address:"Kampstra\xDFe 45, 44137 Dortmund",coordinates:{lat:51.5136,lng:7.4653},phone:"+49 231 12345678",description:"Westafrikanische und zentralafrikanische K\xFCche in modernem Ambiente.",rating:4.1,image:"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=800&h=600&fit=crop",cuisine:"Westafrikanische",priceLevel:2,hours:"Mo-Sa: 12:00-22:00",website:""},{name:"African Beauty Salon Essen",type:"coiffeur",address:"Kettwiger Stra\xDFe 67, 45127 Essen",coordinates:{lat:51.4556,lng:7.0116},phone:"+49 201 12345678",description:"Kompletter Service f\xFCr afrikanisches Haar. Relaxer, Braids, Weaves und Naturhaar-Styling.",rating:4.4,image:"https://images.unsplash.com/photo-1560066984-138dadb4c035?w=800&h=600&fit=crop",cuisine:"",priceLevel:3,hours:"Mo-Fr: 09:00-18:00, Sa: 08:00-16:00",website:""},{name:"\xC4thiopisches Restaurant Leipzig",type:"restaurant",address:"Karl-Liebknecht-Stra\xDFe 123, 04107 Leipzig",coordinates:{lat:51.3397,lng:12.3731},phone:"+49 341 12345678",description:"Traditionelle \xE4thiopische Gerichte in famili\xE4rer Atmosph\xE4re.",rating:4.3,image:"https://images.unsplash.com/photo-1574894709920-11b28e7367e3?w=800&h=600&fit=crop",cuisine:"\xC4thiopische",priceLevel:2,hours:"Mo-Sa: 17:00-22:00",website:""},{name:"Afrika Shop Bremen",type:"epicerie",address:"Osterstra\xDFe 234, 28199 Bremen",coordinates:{lat:53.0793,lng:8.8017},phone:"+49 421 12345678",description:"Afrikanische Spezialit\xE4ten und Kosmetik. Shea-Butter, schwarze Seife und exotische Fr\xFCchte.",rating:4.1,image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop",cuisine:"",priceLevel:2,hours:"Mo-Fr: 10:00-19:00, Sa: 10:00-17:00",website:""},{name:"Sudanesisches Restaurant Dresden",type:"restaurant",address:"Prager Stra\xDFe 89, 01069 Dresden",coordinates:{lat:51.0504,lng:13.7373},phone:"+49 351 12345678",description:"Sudanesische und ostafriikanische K\xFCche. Ful Medames, Kisra und Bamya.",rating:4,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=800&h=600&fit=crop",cuisine:"Sudanesische",priceLevel:2,hours:"Mo-Fr: 12:00-21:00, Sa: 14:00-22:00",website:""},{name:"African Fashion Hannover",type:"vetement",address:"Georgstra\xDFe 156, 30159 Hannover",coordinates:{lat:52.3759,lng:9.732},phone:"+49 511 12345678",description:"Afrikanische Mode und Accessoires. Dashiki, Kente-Stoffe und handgemachter Schmuck.",rating:4.2,image:"https://images.unsplash.com/photo-1558769132-cb1aea458c5e?w=800&h=600&fit=crop",cuisine:"",priceLevel:3,hours:"Mo-Fr: 10:00-19:00, Sa: 10:00-18:00",website:"https://african-fashion-hannover.de"},{name:"Westafrica N\xFCrnberg",type:"restaurant",address:"K\xF6nigstra\xDFe 234, 90402 N\xFCrnberg",coordinates:{lat:49.4521,lng:11.0767},phone:"+49 911 12345678",description:"Ghanaische und ivorische K\xFCche. Banku, Atti\xE9k\xE9 und Palm Nut Soup.",rating:4.4,image:"https://images.unsplash.com/photo-1551218808-94e220e084d2?w=800&h=600&fit=crop",cuisine:"Ghanaische",priceLevel:2,hours:"Mo-Sa: 11:00-22:00",website:""}];kleinestadtAfroshops=[{name:"Afrika Imbiss Soest",type:"restaurant",address:"Thom\xE4stra\xDFe 12, 59494 Soest",coordinates:{lat:51.5671,lng:8.1067},phone:"+49 2921 123456",description:"Kleiner gem\xFCtlicher Imbiss mit westafrikanischen Spezialit\xE4ten. Hausgemachtes Jollof Rice.",rating:4.2,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=800&h=600&fit=crop",cuisine:"Westafrikanische",priceLevel:1,hours:"Mo-Fr: 11:00-20:00, Sa: 12:00-21:00",website:""},{name:"Afro Hair Werl",type:"coiffeur",address:"Hammer Stra\xDFe 34, 59457 Werl",coordinates:{lat:51.5531,lng:7.9119},phone:"+49 2922 234567",description:"Spezialisiert auf afrikanische Frisuren in ruhiger Kleinstadt-Atmosph\xE4re.",rating:4.5,image:"https://images.unsplash.com/photo-1562322140-8baeececf3df?w=800&h=600&fit=crop",cuisine:"",priceLevel:2,hours:"Mo-Fr: 09:00-18:00, Sa: 09:00-15:00",website:""}];seedDatabase(){return S(this,null,function*(){try{console.log("\u{1F331} D\xE9but du peuplement de la base de donn\xE9es...");let t=yield this.getExistingAfroshops();console.log(`\u{1F4CA} ${t.length} Afroshops d\xE9j\xE0 en base`);let n=[...this.afroshopsData,...this.kleinestadtAfroshops].filter(c=>!t.some(g=>g.name===c.name&&g.address===c.address));if(console.log(`\u2728 ${n.length} nouveaux Afroshops \xE0 ajouter`),n.length===0)throw new Error("\u26A0\uFE0F Tous les Afroshops sont d\xE9j\xE0 en base ! Aucun nouvel ajout n\xE9cessaire.");let s=0,d=0;for(let c of n)try{let g=j(G({},c),{impressumName:"impressumName"in c&&typeof c.impressumName=="string"?c.impressumName:"",impressumAddress:"impressumAddress"in c&&typeof c.impressumAddress=="string"?c.impressumAddress:"",impressumEmail:"impressumEmail"in c&&typeof c.impressumEmail=="string"?c.impressumEmail:"",impressumPhone:"impressumPhone"in c&&typeof c.impressumPhone=="string"?c.impressumPhone:"",impressumText:"impressumText"in c&&typeof c.impressumText=="string"?c.impressumText:"",city:this.extractCityFromAddress(c.address),verified:!0,createdBy:"system",createdByName:"System Import",views:Math.floor(Math.random()*100)+10,likes:Math.floor(Math.random()*20)+5});yield this.firebaseService.addAfroshop(g),s++,console.log(`\u2705 ${c.name} ajout\xE9 avec succ\xE8s`),yield this.delay(100)}catch(g){d++,console.error(`\u274C Erreur lors de l'ajout de ${c.name}:`,g)}console.log(`\u{1F389} Import termin\xE9: ${s} ajout\xE9s, ${d} erreurs`)}catch(t){console.error("\u{1F4A5} Erreur g\xE9n\xE9rale lors du seeding:",t)}})}extractCityFromAddress(t){let e=t.split(",");if(e.length>=2){let n=e[e.length-1].trim(),s=n.match(/\d+\s+(.+)/);return s?s[1].toLowerCase():n.toLowerCase()}return""}delay(t){return new Promise(e=>setTimeout(e,t))}static \u0275fac=function(e){return new(e||o)(Q(U))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};Mt();var en=class o{constructor(){}isAdminUser(t){return!t||!t.email?!1:Te.production?(console.warn("\u{1F6AB} Admin check disabled in production - use server-side verification"),!1):[].includes(t.email)}getSecurityMessage(){return Te.production?"Administration d\xE9sactiv\xE9e en production pour des raisons de s\xE9curit\xE9. Contactez l'administrateur syst\xE8me.":"Mode d\xE9veloppement - Acc\xE8s admin disponible."}shouldHideAdminInterface(){return Te.production}static \u0275fac=function(e){return new(e||o)};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};function Ss(o,t){o&1&&(r(0,"span"),a(1,"\u{1F9F9} Doublons entfernen"),i())}function Ps(o,t){o&1&&(r(0,"span"),a(1,"\u23F3 Nettoyage l\xE4uft..."),i())}function Os(o,t){o&1&&(r(0,"div",22),P(1,"div",23),r(2,"p"),a(3,"Doublons werden entfernt... Bitte warten."),i()())}function ks(o,t){if(o&1&&(r(0,"div",24),a(1),i()),o&2){let e=m(2);$e(e.cleaningMessage.includes("\u274C")?"error":"success"),l(),x(" ",e.cleaningMessage," ")}}function Es(o,t){o&1&&(r(0,"span"),a(1,"\u{1F504} Actualiser"),i())}function Is(o,t){o&1&&(r(0,"span"),a(1,"\u23F3 Chargement..."),i())}function As(o,t){if(o&1){let e=k();r(0,"div",29)(1,"div",30)(2,"div",31)(3,"h4"),a(4),i(),r(5,"p",32),a(6),i(),r(7,"p",33),a(8),i()(),r(9,"div",34)(10,"span",35),a(11),i()()(),r(12,"div",36)(13,"button",37),b("click",function(){let s=u(e).$implicit,d=m(3);return h(d.editAfroshop(s))}),a(14," \u270F\uFE0F Bearbeiten "),i(),r(15,"button",38),b("click",function(){let s=u(e).$implicit,d=m(3);return h(d.confirmDelete(s))}),a(16," \u{1F5D1}\uFE0F L\xF6schen "),i()()()}if(o&2){let e=t.$implicit,n=m(3);l(4),_(e.name),l(2),_(n.getGermanBusinessType(e.type)),l(2),x("\u{1F4CD} ",e.address,""),l(3),x("ID: ",e.id,""),l(4),p("disabled",n.isDeleting)}}function Ds(o,t){if(o&1){let e=k();r(0,"div",25)(1,"div",26)(2,"h3"),a(3),i(),r(4,"button",27),b("click",function(){u(e);let s=m(2);return h(s.loadAfroshops())}),f(5,Es,2,0,"span",12)(6,Is,2,0,"span",12),i()(),f(7,As,17,5,"div",28),i()}if(o&2){let e=m(2);l(3),x("\u{1F4CB} Liste des Afroshops (",e.afroshops.length,")"),l(),p("disabled",e.isLoading),l(),p("ngIf",!e.isLoading),l(),p("ngIf",e.isLoading),l(),p("ngForOf",e.afroshops)("ngForTrackBy",e.trackByAfroshop)}}function zs(o,t){o&1&&(r(0,"span"),a(1,"\u{1F4CB} Afroshops anzeigen"),i())}function Ts(o,t){o&1&&(r(0,"span"),a(1,"\u23F3 Wird geladen..."),i())}function Ls(o,t){if(o&1){let e=k();r(0,"div",39)(1,"button",40),b("click",function(){u(e);let s=m(2);return h(s.loadAfroshops())}),f(2,zs,2,0,"span",12)(3,Ts,2,0,"span",12),i()()}if(o&2){let e=m(2);l(),p("disabled",e.isLoading),l(),p("ngIf",!e.isLoading),l(),p("ngIf",e.isLoading)}}function Fs(o,t){if(o&1&&(r(0,"div",24),a(1),i()),o&2){let e=m(2);$e(e.deleteMessage.includes("\u274C")?"error":"success"),l(),x(" ",e.deleteMessage," ")}}function Rs(o,t){if(o&1){let e=k();r(0,"div",7)(1,"div",8)(2,"div",9)(3,"h2"),a(4,"\u{1F9F9} Datenbank-Wartung"),i(),r(5,"p"),a(6,"Doublons entfernen und Datenbank optimieren"),i()(),r(7,"div",10)(8,"button",11),b("click",function(){u(e);let s=m();return h(s.cleanDuplicates())}),f(9,Ss,2,0,"span",12)(10,Ps,2,0,"span",12),i(),f(11,Os,4,0,"div",13),i(),f(12,ks,2,3,"div",14),i(),r(13,"div",15)(14,"div",9)(15,"h2"),a(16,"\u{1F3EA} Verwaltung der Afroshops"),i(),r(17,"p"),a(18,"Afroshops bearbeiten oder l\xF6schen"),i()(),f(19,Ds,8,6,"div",16)(20,Ls,4,3,"div",17)(21,Fs,2,3,"div",14),i(),r(22,"div",18)(23,"div",9)(24,"h2"),a(25,"\u{1F527} Technische Tools"),i(),r(26,"p"),a(27,"G\xE9ocodage und Koordinaten \xFCberpr\xFCfen"),i()(),r(28,"div",10)(29,"a",19),a(30," \u{1F5FA}\uFE0F G\xE9ocodage-Diagnose "),i()()(),r(31,"div",20)(32,"button",21),b("click",function(){u(e);let s=m();return h(s.goToGallery())}),a(33," \u{1F3EA} Zur Galerie "),i()()()}if(o&2){let e=m();l(8),p("disabled",e.isCleaning||e.isSeeding),l(),p("ngIf",!e.isCleaning),l(),p("ngIf",e.isCleaning),l(),p("ngIf",e.isCleaning),l(),p("ngIf",e.cleaningMessage),l(7),p("ngIf",e.afroshops.length>0),l(),p("ngIf",e.afroshops.length===0),l(),p("ngIf",e.deleteMessage)}}function Bs(o,t){o&1&&(r(0,"div",41)(1,"h2"),a(2,"\u{1F510} Authentification requise"),i(),r(3,"p"),a(4,"Vous devez \xEAtre connect\xE9 pour acc\xE9der aux outils d'administration."),i()())}var tn=class o{constructor(t,e,n,s,d,c){this.dataSeedingService=t;this.authService=e;this.firebaseAfroshopService=n;this.translationService=s;this.adminSecurity=d;this.router=c;this.authService.user$.subscribe(g=>S(this,null,function*(){if(!g){this.router.navigate(["/login"]);return}let{doc:v,getDoc:O}=yield import("./chunk-NZTN2KA4.js"),I=this.firebaseAfroshopService.firestore||window.firestore,L=v(I,"roles/admins"),X=(yield O(L)).data();this.isAuthenticated=X?.uids?.includes(g.uid)??!1,this.isAuthenticated||(console.warn("\u{1F6AB} Acc\xE8s admin refus\xE9: UID non autoris\xE9"),this.router.navigate(["/gallery"]))}))}isSeeding=!1;isCleaning=!1;seedingMessage="";cleaningMessage="";isAuthenticated=!1;afroshops=[];isLoading=!1;isDeleting=!1;deleteMessage="";seedDatabase(){return S(this,null,function*(){if(!this.isAuthenticated){this.seedingMessage="\u274C Vous devez \xEAtre connect\xE9 pour effectuer cette action";return}if(!(this.isSeeding||!confirm(`\u{1F6A8} ACHTUNG!

Diese Aktion wird etwa 50+ neue Afroshops in die Datenbank hinzuf\xFCgen.

\u{1F50D} Bereits vorhandene Gesch\xE4fte werden automatisch \xFCbersprungen.

M\xF6chten Sie fortfahren?`))){this.isSeeding=!0,this.seedingMessage="\u{1F331} Import l\xE4uft... Dies kann einige Minuten dauern.";try{yield this.dataSeedingService.seedDatabase(),this.seedingMessage="\u2705 Datenbank erfolgreich mit neuen Afroshops gef\xFCllt!"}catch(e){console.error("Fehler beim Seeding:",e),this.seedingMessage="\u274C Fehler beim Import. Konsole f\xFCr Details \xFCberpr\xFCfen."}finally{this.isSeeding=!1}}})}editAfroshop(t){this.router.navigate(["/edit-afroshop",t.id])}goToGallery(){this.router.navigate(["/gallery"])}goToSuperDashboard(){this.router.navigate(["/super-dashboard"])}cleanDuplicates(){return S(this,null,function*(){if(!this.isAuthenticated){this.cleaningMessage="\u274C Sie m\xFCssen angemeldet sein, um diese Aktion durchzuf\xFChren";return}if(!(this.isCleaning||!confirm(`\u{1F9F9} DOUBLONS NETTOYAGE

Diese Aktion wird alle doppelten Afroshops l\xF6schen.

\u26A0\uFE0F Nur das erste Exemplar jedes Gesch\xE4fts wird beibehalten.

M\xF6chten Sie fortfahren?`))){this.isCleaning=!0,this.cleaningMessage="\u{1F9F9} Doublons werden entfernt... Bitte warten.";try{let e=yield this.dataSeedingService.cleanDuplicates();this.cleaningMessage=`\u2705 Nettoyage abgeschlossen! ${e.removed} Doublons entfernt, ${e.kept} Afroshops beibehalten.`}catch(e){console.error("Fehler beim Nettoyage:",e),this.cleaningMessage="\u274C Fehler beim Nettoyage. Konsole f\xFCr Details \xFCberpr\xFCfen."}finally{this.isCleaning=!1}}})}loadAfroshops(){return S(this,null,function*(){this.isLoading=!0,this.deleteMessage="";try{this.firebaseAfroshopService.getAllAfroshops().subscribe({next:t=>{this.afroshops=t.sort((e,n)=>e.name.localeCompare(n.name)),this.isLoading=!1},error:t=>{console.error("Erreur lors du chargement:",t),this.deleteMessage="\u274C Fehler beim Laden der Afroshops.",this.isLoading=!1}})}catch(t){console.error("Erreur lors du chargement:",t),this.deleteMessage="\u274C Fehler beim Laden der Afroshops.",this.isLoading=!1}})}confirmDelete(t){return S(this,null,function*(){confirm(`\u{1F5D1}\uFE0F Afroshop l\xF6schen

Name: ${t.name}
Typ: ${this.getGermanBusinessType(t.type)}
Adresse: ${t.address}

\u26A0\uFE0F Diese Aktion kann nicht r\xFCckg\xE4ngig gemacht werden!

M\xF6chten Sie "${t.name}" wirklich l\xF6schen?`)&&(yield this.deleteAfroshop(t))})}deleteAfroshop(t){return S(this,null,function*(){this.isDeleting=!0,this.deleteMessage=`\u{1F5D1}\uFE0F "${t.name}" wird gel\xF6scht...`;try{yield this.firebaseAfroshopService.deleteAfroshop(t.id.toString()),this.afroshops=this.afroshops.filter(e=>e.id!==t.id),this.deleteMessage=`\u2705 "${t.name}" wurde erfolgreich gel\xF6scht.`,setTimeout(()=>{this.deleteMessage=""},3e3)}catch(e){console.error("Erreur lors de la suppression:",e),this.deleteMessage=`\u274C Fehler beim L\xF6schen von "${t.name}". Details in der Konsole.`}finally{this.isDeleting=!1}})}getGermanBusinessType(t){return this.translationService.getBusinessTypeName(t)}formatDate(t){if(!t)return"Datum unbekannt";try{let e;return t.toDate?e=t.toDate():t.seconds?e=new Date(t.seconds*1e3):e=new Date(t),e.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Erreur formatage date:",e),"Datum fehler"}}trackByAfroshop(t,e){return e.id}static \u0275fac=function(e){return new(e||o)(w(Jt),w(T),w(U),w(Se),w(en),w(R))};static \u0275cmp=E({type:o,selectors:[["app-admin"]],decls:13,vars:2,consts:[[1,"admin-container"],[1,"admin-header"],[1,"admin-nav-btns"],[1,"modern-btn","primary",3,"click"],[1,"modern-btn",3,"click"],["class","admin-panel",4,"ngIf"],["class","auth-required",4,"ngIf"],[1,"admin-panel"],[1,"seeding-section"],[1,"section-header"],[1,"action-section"],[1,"clean-btn",3,"click","disabled"],[4,"ngIf"],["class","progress-indicator",4,"ngIf"],["class","message",3,"class",4,"ngIf"],[1,"management-section"],["class","afroshops-list",4,"ngIf"],["class","load-button",4,"ngIf"],[1,"diagnostic-section"],["routerLink","/geocoding-diagnostic",1,"diagnostic-btn"],[1,"navigation-section"],[1,"nav-btn",3,"click"],[1,"progress-indicator"],[1,"spinner"],[1,"message"],[1,"afroshops-list"],[1,"list-header"],[1,"refresh-btn",3,"click","disabled"],["class","afroshop-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"afroshop-item"],[1,"afroshop-info"],[1,"basic-info"],[1,"type"],[1,"location"],[1,"meta-info"],[1,"id"],[1,"actions"],["title","Afroshop bearbeiten",1,"edit-btn",3,"click"],["title","Afroshop l\xF6schen",1,"delete-btn",3,"click","disabled"],[1,"load-button"],[1,"load-btn",3,"click","disabled"],[1,"auth-required"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h1"),a(3,"\u{1F527} AfroConnect - Administration"),i(),r(4,"p"),a(5,"Outils pour g\xE9rer la base de donn\xE9es d'Afroshops"),i(),r(6,"div",2)(7,"button",3),b("click",function(){return n.goToSuperDashboard()}),a(8,"\u{1F30D} Super Dashboard - Alle Bestellungen"),i(),r(9,"button",4),b("click",function(){return n.goToGallery()}),a(10,"Zur Gallery"),i()()(),f(11,Rs,34,8,"div",5)(12,Bs,5,0,"div",6),i()),e&2&&(l(11),p("ngIf",n.isAuthenticated),l(),p("ngIf",!n.isAuthenticated))},dependencies:[A,H,D,de,le],styles:[".admin-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:2rem;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.admin-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.admin-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2c3e50;font-size:2.5rem;margin-bottom:.5rem}.admin-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;font-size:1.1rem}.admin-nav-btns[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.2rem;margin-top:2rem;flex-wrap:wrap}.admin-nav-btns[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{padding:1rem 2rem;font-size:1.1rem;font-weight:600;border-radius:12px;border:none;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px #0000001a;display:flex;align-items:center;gap:.5rem}.admin-nav-btns[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 20px #00000026}.admin-nav-btns[_ngcontent-%COMP%]   .modern-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a8917,#27ae60);color:#fff}.admin-nav-btns[_ngcontent-%COMP%]   .modern-btn.primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#27ae60,#2ecc71)}.admin-nav-btns[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]:not(.primary){background:linear-gradient(135deg,#3498db,#2980b9);color:#fff}.admin-nav-btns[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]:not(.primary):hover{background:linear-gradient(135deg,#5dade2,#3498db)}.admin-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);border:2px solid #e9ecef;border-radius:16px;padding:2rem;box-shadow:0 8px 32px #00000014}.seeding-section[_ngcontent-%COMP%]{margin-bottom:2rem}.section-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#27ae60;font-size:1.8rem;margin-bottom:.5rem}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d}.data-info[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #dee2e6;border-radius:12px;padding:1.5rem;margin-bottom:2rem}.data-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#495057;margin-bottom:1rem}.data-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.data-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.5rem 0;border-bottom:1px solid #e9ecef}.data-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.action-section[_ngcontent-%COMP%]{text-align:center;margin:2rem 0;display:flex;flex-direction:column;gap:1rem}.seed-btn[_ngcontent-%COMP%], .clean-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#27ae60,#2ecc71);color:#fff;border:none;padding:1rem 2rem;border-radius:12px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 6px 20px #27ae604d;min-width:300px;margin:0 auto}.clean-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e74c3c,#c0392b);box-shadow:0 6px 20px #e74c3c4d}.seed-btn[_ngcontent-%COMP%]:hover:not(:disabled), .clean-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 12px 30px #27ae6066}.clean-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 12px 30px #e74c3c66}.seed-btn[_ngcontent-%COMP%]:disabled, .clean-btn[_ngcontent-%COMP%]:disabled{background:#bdc3c7;cursor:not-allowed;transform:none;box-shadow:0 2px 8px #0000001a}.progress-indicator[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;flex-direction:column;align-items:center;gap:1rem}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #27ae60;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.message[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-radius:8px;margin-top:1.5rem;font-weight:500}.message.success[_ngcontent-%COMP%]{background:#d4edda;color:#155724;border:1px solid #c3e6cb}.message.error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.diagnostic-section[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1.5rem;background:#f1f8ff;border:1px solid #d1ecf1;border-radius:12px}.diagnostic-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#06c;font-size:1.6rem}.diagnostic-btn[_ngcontent-%COMP%]{display:inline-block;background:linear-gradient(135deg,#17a2b8,#138496);color:#fff;padding:.8rem 1.5rem;border-radius:10px;text-decoration:none;font-weight:500;transition:all .3s ease;border:none;cursor:pointer}.diagnostic-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #17a2b84d;text-decoration:none;color:#fff}.diagnostic-desc[_ngcontent-%COMP%]{margin-top:.8rem;color:#6c757d;font-size:.9rem;line-height:1.4}.navigation-section[_ngcontent-%COMP%]{text-align:center;padding-top:2rem;border-top:1px solid #e9ecef}.nav-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3498db,#2980b9);color:#fff;border:none;padding:.8rem 1.5rem;border-radius:10px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;text-decoration:none;display:inline-block}.nav-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #3498db4d}.auth-required[_ngcontent-%COMP%]{text-align:center;padding:3rem;background:#fff3cd;border:1px solid #ffeaa7;border-radius:12px;color:#856404}.auth-required[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#856404;margin-bottom:1rem}@media (max-width: 768px){.admin-container[_ngcontent-%COMP%]{padding:1rem}.admin-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.admin-panel[_ngcontent-%COMP%]{padding:1.5rem}.seed-btn[_ngcontent-%COMP%]{min-width:auto;width:100%;padding:1rem}.data-info[_ngcontent-%COMP%]{padding:1rem}}.management-section[_ngcontent-%COMP%]{margin-top:3rem;padding-top:2rem;border-top:2px solid #e9ecef}.management-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#e74c3c;font-size:1.8rem}.afroshops-list[_ngcontent-%COMP%]{background:#fff;border-radius:12px;border:1px solid #dee2e6;overflow:hidden;margin-top:1rem}.list-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);padding:1rem 1.5rem;border-bottom:1px solid #dee2e6;display:flex;justify-content:space-between;align-items:center}.list-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#495057;margin:0;font-size:1.2rem}.refresh-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#17a2b8,#138496);color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-size:.9rem;transition:all .3s ease}.refresh-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #17a2b84d}.refresh-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.afroshop-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem;border-bottom:1px solid #f1f3f4;transition:background-color .3s ease}.afroshop-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.afroshop-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.afroshop-info[_ngcontent-%COMP%]{flex:1}.basic-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#2c3e50;margin:0 0 .25rem;font-size:1.1rem}.basic-info[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem;margin:0 0 .25rem;font-weight:600}.basic-info[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{color:#495057;font-size:.85rem;margin:0}.meta-info[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:.5rem}.meta-info[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{background:#e9ecef;color:#495057;padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-family:monospace}.actions[_ngcontent-%COMP%]{margin-left:1rem;display:flex;gap:.5rem;align-items:center}.edit-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#218838);color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-size:.9rem;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.edit-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #28a7454d;background:linear-gradient(135deg,#218838,#1e7e34)}.delete-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333);color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-size:.9rem;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.delete-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #dc35454d;background:linear-gradient(135deg,#c82333,#a71e2a)}.delete-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.load-button[_ngcontent-%COMP%]{text-align:center;padding:2rem}.load-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#5a6268);color:#fff;border:none;padding:1rem 2rem;border-radius:8px;cursor:pointer;font-size:1rem;transition:all .3s ease}.load-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #6c757d4d}.load-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media (max-width: 768px){.management-section[_ngcontent-%COMP%]{margin-top:2rem;padding-top:1.5rem}.list-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.afroshop-item[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.actions[_ngcontent-%COMP%]{margin-left:0;width:100%}.delete-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.meta-info[_ngcontent-%COMP%]{justify-content:center}}"]})};function Ns(o,t){o&1&&(r(0,"span"),a(1,"\u{1F5FA}\uFE0F Tester"),i())}function Gs(o,t){o&1&&(r(0,"span"),a(1,"\u23F3 Test..."),i())}function Vs(o,t){if(o&1&&(r(0,"div",21)(1,"h4"),a(2,"\u2705 G\xE9ocodage R\xE9ussi"),i(),r(3,"p")(4,"strong"),a(5,"Coordonn\xE9es:"),i(),a(6),i(),r(7,"p")(8,"strong"),a(9,"Adresse format\xE9e:"),i(),a(10),i(),r(11,"p")(12,"strong"),a(13,"Pr\xE9cision:"),i(),a(14),i()()),o&2){let e=m(3);l(6),V(" ",e.testResult.lat,", ",e.testResult.lng,""),l(4),x(" ",e.testResult.formatted_address,""),l(4),x(" ",e.testResult.accuracy,"")}}function Us(o,t){o&1&&(r(0,"div",22)(1,"h4"),a(2,"\u274C G\xE9ocodage \xC9chou\xE9"),i(),r(3,"p"),a(4,"L'adresse n'a pas pu \xEAtre g\xE9ocod\xE9e."),i(),r(5,"p")(6,"em"),a(7,"V\xE9rifiez que l'adresse contient une ville allemande connue."),i()()())}function Ws(o,t){if(o&1&&(r(0,"div",18),f(1,Vs,15,4,"div",19)(2,Us,8,0,"div",20),i()),o&2){let e=m(2);l(),p("ngIf",e.testResult.success),l(),p("ngIf",!e.testResult.success)}}function js(o,t){o&1&&(r(0,"span"),a(1,"\u{1F50D} Auditer tous les Afroshops"),i())}function Hs(o,t){o&1&&(r(0,"span"),a(1,"\u23F3 Audit en cours..."),i())}function qs(o,t){if(o&1){let e=k();r(0,"div",31)(1,"strong"),a(2),i(),P(3,"br"),r(4,"small"),a(5),i(),P(6,"br"),r(7,"span",32),a(8),i(),r(9,"button",33),b("click",function(){let s=u(e).$implicit,d=m(4);return h(d.regeocodeAfroshop(s))}),a(10," \u{1F504} Re-g\xE9ocoder "),i()()}if(o&2){let e=t.$implicit,n=m(4);l(2),_(e.name),l(3),_(e.address),l(3),V("Coordonn\xE9es: ",e.coordinates.lat,", ",e.coordinates.lng,""),l(),p("disabled",n.isRegeocoding)}}function Ks(o,t){if(o&1&&(r(0,"div",29)(1,"h5"),a(2,"\u26A0\uFE0F Afroshops avec Coordonn\xE9es Invalides"),i(),f(3,qs,11,5,"div",30),i()),o&2){let e=m(3);l(3),p("ngForOf",e.invalidAfroshops)}}function Zs(o,t){if(o&1&&(r(0,"div",23)(1,"h4"),a(2,"R\xE9sultats de l'Audit"),i(),r(3,"div",24)(4,"div",25)(5,"span",26),a(6),i(),r(7,"span",27),a(8,"Coordonn\xE9es Valides"),i()(),r(9,"div",25)(10,"span",26),a(11),i(),r(12,"span",27),a(13,"Coordonn\xE9es Invalides"),i()()(),f(14,Ks,4,1,"div",28),i()),o&2){let e=m(2);l(6),_(e.validCoordinates),l(5),_(e.invalidCoordinates),l(3),p("ngIf",e.invalidAfroshops.length>0)}}function $s(o,t){if(o&1){let e=k();r(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2"),a(4,"\u{1F527} Diagnostic du G\xE9ocodage"),i(),r(5,"a",5),a(6," \u2190 Zur\xFCck zur Admin-Seite "),i()()(),r(7,"div",6)(8,"h3"),a(9,"Test d'Adresse"),i(),r(10,"div",7)(11,"input",8),M("ngModelChange",function(s){u(e);let d=m();return C(d.testAddress,s)||(d.testAddress=s),h(s)}),i(),r(12,"button",9),b("click",function(){u(e);let s=m();return h(s.testSingleAddress())}),f(13,Ns,2,0,"span",10)(14,Gs,2,0,"span",10),i()(),f(15,Ws,3,2,"div",11),i(),r(16,"div",6)(17,"h3"),a(18,"Audit des Coordonn\xE9es"),i(),r(19,"button",12),b("click",function(){u(e);let s=m();return h(s.auditAfroshops())}),f(20,js,2,0,"span",10)(21,Hs,2,0,"span",10),i(),f(22,Zs,15,3,"div",13),i(),r(23,"div",6)(24,"h3"),a(25,"Configuration Syst\xE8me"),i(),r(26,"div",14)(27,"div",15)(28,"strong"),a(29,"Mode de g\xE9ocodage:"),i(),r(30,"span",16),a(31),i()(),r(32,"div",15)(33,"strong"),a(34,"Villes support\xE9es:"),i(),r(35,"span"),a(36),i()(),r(37,"div",15)(38,"strong"),a(39,"Estimation par code postal:"),i(),r(40,"span",17),a(41,"\u2705 Activ\xE9e"),i()()()()()}if(o&2){let e=m();l(11),y("ngModel",e.testAddress),l(),p("disabled",e.isGeocoding),l(),p("ngIf",!e.isGeocoding),l(),p("ngIf",e.isGeocoding),l(),p("ngIf",e.testResult),l(4),p("disabled",e.isAuditing),l(),p("ngIf",!e.isAuditing),l(),p("ngIf",e.isAuditing),l(),p("ngIf",e.auditResults.length>0),l(9),_(e.geocodingMode),l(5),x("",e.supportedCitiesCount," villes")}}function Ys(o,t){o&1&&(r(0,"div",34),a(1," \u{1F512} Acc\xE8s r\xE9serv\xE9 aux administrateurs "),i())}var nn=class o{constructor(t,e,n){this.geocodingService=t;this.firebaseService=e;this.authService=n;this.authService.user$.subscribe(s=>{this.isAdmin=s?.email==="youssoufdiamaldiallo@gmail.com"})}isAdmin=!1;testAddress="";isGeocoding=!1;isAuditing=!1;isRegeocoding=!1;testResult=null;auditResults=[];invalidAfroshops=[];get validCoordinates(){return this.auditResults.filter(t=>this.geocodingService.isValidCoordinates(t.coordinates.lat,t.coordinates.lng)).length}get invalidCoordinates(){return this.auditResults.length-this.validCoordinates}get geocodingMode(){return"Fallback (Villes pr\xE9d\xE9finies)"}get supportedCitiesCount(){return 50}testSingleAddress(){return S(this,null,function*(){if(this.testAddress.trim()){this.isGeocoding=!0,this.testResult=null;try{this.geocodingService.geocodeAddress(this.testAddress).subscribe({next:t=>{this.isGeocoding=!1,t?this.testResult={success:!0,lat:t.lat,lng:t.lng,formatted_address:t.formatted_address,accuracy:t.accuracy}:this.testResult={success:!1}},error:t=>{this.isGeocoding=!1,this.testResult={success:!1,error:t.message},console.error("Erreur test g\xE9ocodage:",t)}})}catch(t){this.isGeocoding=!1,this.testResult={success:!1},console.error("Erreur test g\xE9ocodage:",t)}}})}auditAfroshops(){return S(this,null,function*(){this.isAuditing=!0,this.auditResults=[],this.invalidAfroshops=[];try{this.firebaseService.getAllAfroshops().subscribe({next:t=>{this.auditResults=t,this.invalidAfroshops=t.filter(e=>!this.geocodingService.isValidCoordinates(e.coordinates.lat,e.coordinates.lng)),console.log(`Audit termin\xE9: ${this.validCoordinates}/${this.auditResults.length} coordonn\xE9es valides`),this.isAuditing=!1},error:t=>{console.error("Erreur audit:",t),this.isAuditing=!1}})}catch(t){console.error("Erreur audit:",t),this.isAuditing=!1}})}regeocodeAfroshop(t){return S(this,null,function*(){this.isRegeocoding=!0;try{this.geocodingService.geocodeAddress(t.address).subscribe({next:e=>S(this,null,function*(){if(e){let n={coordinates:{lat:e.lat,lng:e.lng}};yield this.firebaseService.updateAfroshop(t.id,n);let s=this.invalidAfroshops.findIndex(d=>d.id===t.id);s>=0&&(this.invalidAfroshops[s].coordinates=n.coordinates),console.log(`\u2705 Re-g\xE9ocodage r\xE9ussi pour ${t.name}`)}else console.warn(`\u274C Re-g\xE9ocodage \xE9chou\xE9 pour ${t.name}`);this.isRegeocoding=!1}),error:e=>{console.error(`Erreur re-g\xE9ocodage ${t.name}:`,e),this.isRegeocoding=!1}})}catch(e){console.error(`Erreur re-g\xE9ocodage ${t.name}:`,e),this.isRegeocoding=!1}})}static \u0275fac=function(e){return new(e||o)(w(je),w(U),w(T))};static \u0275cmp=E({type:o,selectors:[["app-geocoding-diagnostic"]],decls:2,vars:2,consts:[["class","diagnostic-container",4,"ngIf"],["class","no-access",4,"ngIf"],[1,"diagnostic-container"],[1,"diagnostic-header"],[1,"header-content"],["routerLink","/admin",1,"back-to-admin-btn"],[1,"test-section"],[1,"input-group"],["type","text","placeholder","Saisissez une adresse allemande...",1,"test-input",3,"ngModelChange","ngModel"],[1,"test-btn",3,"click","disabled"],[4,"ngIf"],["class","result-box",4,"ngIf"],[1,"audit-btn",3,"click","disabled"],["class","audit-results",4,"ngIf"],[1,"config-info"],[1,"config-item"],[1,"mode-indicator"],[1,"feature-enabled"],[1,"result-box"],["class","success-result",4,"ngIf"],["class","error-result",4,"ngIf"],[1,"success-result"],[1,"error-result"],[1,"audit-results"],[1,"stats"],[1,"stat-item"],[1,"stat-number"],[1,"stat-label"],["class","invalid-list",4,"ngIf"],[1,"invalid-list"],["class","invalid-item",4,"ngFor","ngForOf"],[1,"invalid-item"],[1,"coordinates"],[1,"regeocode-btn",3,"click","disabled"],[1,"no-access"]],template:function(e,n){e&1&&f(0,$s,42,11,"div",0)(1,Ys,2,0,"div",1),e&2&&(p("ngIf",n.isAdmin),l(),p("ngIf",!n.isAdmin))},dependencies:[A,H,D,$,ce,ne,ie,de,le],styles:[".diagnostic-container[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:20px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.diagnostic-header[_ngcontent-%COMP%]{margin-bottom:30px;padding-bottom:15px;border-bottom:2px solid #e9ecef}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:15px}.header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333}.back-to-admin-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#5a6268);color:#fff;padding:8px 16px;border-radius:6px;text-decoration:none;font-size:14px;font-weight:500;transition:all .3s ease;display:flex;align-items:center;gap:5px}.back-to-admin-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a6268,#495057);transform:translateY(-1px);text-decoration:none;color:#fff}.test-section[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:20px;margin-bottom:20px;box-shadow:0 2px 4px #0000001a}.test-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#333;border-bottom:2px solid #007bff;padding-bottom:8px}.input-group[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:15px}.test-input[_ngcontent-%COMP%]{flex:1;padding:10px;border:2px solid #ddd;border-radius:4px;font-size:14px}.test-btn[_ngcontent-%COMP%], .audit-btn[_ngcontent-%COMP%]{padding:10px 20px;background:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-weight:600}.test-btn[_ngcontent-%COMP%]:hover, .audit-btn[_ngcontent-%COMP%]:hover{background:#0056b3}.test-btn[_ngcontent-%COMP%]:disabled, .audit-btn[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed}.result-box[_ngcontent-%COMP%]{margin-top:15px;padding:15px;border-radius:6px}.success-result[_ngcontent-%COMP%]{background:#d4edda;border:1px solid #c3e6cb;color:#155724}.error-result[_ngcontent-%COMP%]{background:#f8d7da;border:1px solid #f5c6cb;color:#721c24}.stats[_ngcontent-%COMP%]{display:flex;gap:20px;margin:15px 0}.stat-item[_ngcontent-%COMP%]{text-align:center;padding:15px;background:#fff;border-radius:6px;box-shadow:0 1px 3px #0000001a}.stat-number[_ngcontent-%COMP%]{display:block;font-size:24px;font-weight:700;color:#007bff}.stat-label[_ngcontent-%COMP%]{display:block;font-size:12px;color:#666;margin-top:5px}.invalid-item[_ngcontent-%COMP%]{background:#fff;padding:15px;margin:10px 0;border-radius:6px;border-left:4px solid #ffc107}.coordinates[_ngcontent-%COMP%]{color:#666;font-family:monospace}.regeocode-btn[_ngcontent-%COMP%]{margin-top:8px;padding:5px 10px;background:#28a745;color:#fff;border:none;border-radius:3px;font-size:12px;cursor:pointer}.config-info[_ngcontent-%COMP%]{background:#fff;padding:15px;border-radius:6px}.config-item[_ngcontent-%COMP%]{margin:10px 0;display:flex;justify-content:space-between}.mode-indicator[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;padding:2px 8px;border-radius:12px;font-size:14px}.feature-enabled[_ngcontent-%COMP%]{color:#28a745}.no-access[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666;font-size:18px}"]})};var Je=class o{constructor(t,e){this.authService=t;this.router=e}canActivate(){return this.authService.user$.pipe(tt(1),ue(t=>t?!0:(this.router.navigate(["/login"],{queryParams:{returnUrl:this.router.url}}),!1)))}static \u0275fac=function(e){return new(e||o)(Q(T),Q(R))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};var dt=class o{constructor(t,e,n){this.authService=t;this.firestore=e;this.router=n}canActivate(){return kt([!0])}static \u0275fac=function(e){return new(e||o)(Q(T),Q(xe),Q(R))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};function Xs(o,t){if(o&1&&(r(0,"div",17),P(1,"img",18),i()),o&2){let e=m();l(),p("src",e.productImagePreview,te)}}function Qs(o,t){if(o&1&&(r(0,"div",26)(1,"strong"),a(2),i()()),o&2){let e=m(2);l(2),_(e.bankSuccessMessage)}}function Js(o,t){if(o&1){let e=k();r(0,"div",19)(1,"h3"),a(2,"Bankverbindung f\xFCr den Shop angeben"),i(),r(3,"label",20),a(4,"IBAN"),i(),r(5,"input",21),M("ngModelChange",function(s){u(e);let d=m();return C(d.iban,s)||(d.iban=s),h(s)}),i(),r(6,"label",22),a(7,"BIC"),i(),r(8,"input",23),M("ngModelChange",function(s){u(e);let d=m();return C(d.bic,s)||(d.bic=s),h(s)}),i(),r(9,"button",24),b("click",function(){u(e);let s=m();return h(s.saveBankData())}),a(10,"Speichern"),i(),f(11,Qs,3,1,"div",25),i()}if(o&2){let e=m();l(5),y("ngModel",e.iban),l(3),y("ngModel",e.bic),l(3),p("ngIf",e.bankSuccessMessage)}}var rn=class o{constructor(t,e,n){this.firebaseService=t;this.router=e;this.route=n}showBankForm=!1;bankSuccessMessage=null;iban="";bic="";afroshopId="";productAdded=new Oe;newProduct={id:"",name:"",price:0,image:"",category:"Lebensmittel"};productImagePreview=null;productImageFile=null;productIdToEdit=null;ngOnInit(){return S(this,null,function*(){this.route.queryParams.subscribe(t=>S(this,null,function*(){if(console.log("[AddProduct] QueryParams:",t),t.afroshopId){this.afroshopId=t.afroshopId,console.log("[AddProduct] afroshopId re\xE7u:",this.afroshopId);let e=yield this.firebaseService.getAfroshopById(this.afroshopId);!e?.iban||!e?.bic?this.showBankForm=!0:this.showBankForm=!1}else console.warn("[AddProduct] Aucun afroshopId re\xE7u dans les queryParams");t.productId&&(this.productIdToEdit=t.productId,this.newProduct={id:t.productId,name:t.name||"",price:t.price?Number(t.price):0,image:t.image||"",category:t.category||"Lebensmittel"},this.productImagePreview=t.image||null)}))})}onProductImageSelected(t){return S(this,null,function*(){let e=t.target.files[0];if(!e)return;let n=new FileReader;n.onload=s=>{this.productImagePreview=s.target.result},n.readAsDataURL(e),this.productImageFile=e;try{let s=yield this.firebaseService.uploadImage(e);this.newProduct.image=s}catch(s){console.error("Erreur upload image produit:",s)}})}addProduct(){return S(this,null,function*(){if(this.showBankForm){this.bankSuccessMessage=null;return}if(!this.newProduct.name||!this.newProduct.price||!this.newProduct.image)return;let t=G({},this.newProduct);if(this.productIdToEdit&&this.afroshopId){let n=(yield this.firebaseService.getAfroshopById(this.afroshopId))?.products||[];n=n.map(s=>s.id===this.productIdToEdit?t:s),yield this.firebaseService.updateAfroshop(this.afroshopId,{products:n}),this.router.navigate(["/shop",this.afroshopId])}else this.afroshopId&&(t.id=Date.now().toString(),yield this.firebaseService.updateAfroshop(this.afroshopId,{products:Wi(t)}),this.router.navigate(["/shop",this.afroshopId]));this.productAdded.emit(t),this.newProduct={id:"",name:"",price:0,image:"",category:"Lebensmittel"},this.productImagePreview=null,this.productImageFile=null,this.productIdToEdit=null})}saveBankData(){return S(this,null,function*(){if(!this.iban||!this.bic||!this.afroshopId)return;yield this.firebaseService.updateAfroshop(this.afroshopId,{iban:this.iban,bic:this.bic}),this.showBankForm=!1,this.bankSuccessMessage=`Bankverbindung erfolgreich hinzugef\xFCgt!
IBAN: ${this.iban}
BIC: ${this.bic}`;let t=this.afroshopId;this.iban="",this.bic="",setTimeout(()=>{this.router.navigate(["/payment"],{queryParams:{shopId:t}})},1500)})}goToShop(){console.log("Redirection vers le shop avec afroshopId:",this.afroshopId),this.afroshopId?this.router.navigate(["/shop",this.afroshopId]):console.warn("Aucun afroshopId trouv\xE9 pour la redirection !")}goToGallery(){this.router.navigate(["/gallery"])}static \u0275fac=function(e){return new(e||o)(w(U),w(R),w(se))};static \u0275cmp=E({type:o,selectors:[["app-add-product"]],inputs:{afroshopId:"afroshopId"},outputs:{productAdded:"productAdded"},decls:28,vars:6,consts:[[1,"add-product-form"],[3,"ngSubmit"],["for","name"],["type","text","name","name","id","name","placeholder","Name des Produkts","required","",3,"ngModelChange","ngModel"],["for","category"],["name","category","id","category","required","",3,"ngModelChange","ngModel"],["value","Lebensmittel"],["value","Getr\xE4nke"],["for","price"],["type","number","step","0.01","name","price","id","price","placeholder","Preis in Euro","required","",3,"ngModelChange","ngModel"],["for","image"],["type","file","id","image",3,"change"],["class","image-preview-container",4,"ngIf"],["type","submit",1,"modern-btn",3,"disabled"],["type","button",1,"modern-btn","secondary",3,"click"],["type","button",1,"modern-btn","shop",3,"click"],["class","bank-form",4,"ngIf"],[1,"image-preview-container"],["alt","Bildvorschau",1,"preview",3,"src"],[1,"bank-form"],["for","iban"],["type","text","id","iban","name","iban","placeholder","IBAN","required","",3,"ngModelChange","ngModel"],["for","bic"],["type","text","id","bic","name","bic","placeholder","BIC","required","",3,"ngModelChange","ngModel"],[1,"modern-btn",3,"click"],["class","bank-success-message",4,"ngIf"],[1,"bank-success-message"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"h2"),a(2,"Produkt hinzuf\xFCgen"),i(),r(3,"form",1),b("ngSubmit",function(){return n.addProduct()}),r(4,"label",2),a(5,"Produktname"),i(),r(6,"input",3),M("ngModelChange",function(d){return C(n.newProduct.name,d)||(n.newProduct.name=d),d}),i(),r(7,"label",4),a(8,"Kategorie"),i(),r(9,"select",5),M("ngModelChange",function(d){return C(n.newProduct.category,d)||(n.newProduct.category=d),d}),r(10,"option",6),a(11,"Lebensmittel"),i(),r(12,"option",7),a(13,"Getr\xE4nke"),i()(),r(14,"label",8),a(15,"Preis (\u20AC)"),i(),r(16,"input",9),M("ngModelChange",function(d){return C(n.newProduct.price,d)||(n.newProduct.price=d),d}),i(),r(17,"label",10),a(18,"Produktbild"),i(),r(19,"input",11),b("change",function(d){return n.onProductImageSelected(d)}),i(),f(20,Xs,2,1,"div",12),r(21,"button",13),a(22,"Hinzuf\xFCgen"),i(),r(23,"button",14),b("click",function(){return n.goToGallery()}),a(24,"Galerie"),i(),r(25,"button",15),b("click",function(){return n.goToShop()}),a(26,"Shop ansehen"),i()(),f(27,Js,12,3,"div",16),i()),e&2&&(l(6),y("ngModel",n.newProduct.name),l(3),y("ngModel",n.newProduct.category),l(7),y("ngModel",n.newProduct.price),l(4),p("ngIf",n.productImagePreview),l(),p("disabled",n.showBankForm),l(6),p("ngIf",n.showBankForm))},dependencies:[A,D,$,Ce,Ve,Ue,ce,$i,Ge,ne,ve,Me,ie,ye],styles:['[_nghost-%COMP%]{display:block;padding:2rem;background:#f8f9fa;border-radius:16px;box-shadow:0 4px 24px #00000014;max-width:400px;margin:2rem auto}.add-product-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#2d3748;margin-bottom:1.5rem}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.2rem}label[_ngcontent-%COMP%]{font-weight:500;color:#4a5568;margin-bottom:.3rem}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{padding:.7rem;border-radius:8px;border:1px solid #cbd5e0;font-size:1rem;background:#fff;transition:border-color .2s}input[_ngcontent-%COMP%]:focus{border-color:#3182ce;outline:none}.image-preview-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:.5rem}img.preview[_ngcontent-%COMP%]{max-width:180px;max-height:180px;border-radius:12px;box-shadow:0 2px 8px #0000001a}.modern-btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3182ce,#00bcd4);color:#fff;border:none;border-radius:8px;padding:.8rem;font-size:1.1rem;font-weight:600;cursor:pointer;box-shadow:0 2px 8px #3182ce1a;transition:background .2s,transform .1s;margin-bottom:.5rem}.modern-btn.secondary[_ngcontent-%COMP%]{background:linear-gradient(90deg,#00bcd4,#43e97b);color:#fff;border:none;border-radius:8px;padding:.8rem;font-size:1.1rem;font-weight:600;cursor:pointer;box-shadow:0 2px 12px #43e97b1a;display:flex;align-items:center;justify-content:center;gap:.5rem;margin-top:.5rem}.modern-btn.secondary[_ngcontent-%COMP%]:before{content:"\\1f5bc\\fe0f";font-size:1.2rem;margin-right:.3rem}.modern-btn.secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#43e97b,#00bcd4);transform:translateY(-2px) scale(1.04);box-shadow:0 4px 16px #43e97b2e}']})};function el(o,t){if(o&1){let e=k();r(0,"button",14),b("click",function(){u(e);let s=m(2);return h(s.openUrl("tel:"+s.afroshop.phone,"_self"))}),a(1,"\u{1F4DE}"),i()}}function tl(o,t){if(o&1){let e=k();r(0,"button",15),b("click",function(){u(e);let s=m(2);return h(s.goToAddProduct())}),a(1),i()}if(o&2){let e=m(2);l(),x("\u2795 ",e.texts.addProducts,"")}}function nl(o,t){if(o&1){let e=k();r(0,"button",16),b("click",function(){u(e);let s=m(2);return h(s.goToDashboard(s.afroshop.id))}),a(1),i()}if(o&2){let e=m(2);l(),x("\u{1F4CA} ",e.texts.dashboard,"")}}function il(o,t){if(o&1&&(r(0,"div",17)(1,"span",18),a(2),i(),a(3),i()),o&2){let e=m(2);l(2),_(e.texts.notice),l(),x(" ",e.texts.noOnlineOrder," ")}}function rl(o,t){if(o&1){let e=k();r(0,"div",26)(1,"button",27),b("click",function(){u(e);let s=m().$implicit,d=m(2);return h(d.editProduct(s))}),a(2,"\u270F\uFE0F"),i(),r(3,"button",28),b("click",function(){u(e);let s=m().$implicit,d=m(2);return h(d.deleteProduct(s))}),a(4,"\u{1F5D1}\uFE0F"),i()()}}function ol(o,t){if(o&1){let e=k();r(0,"div",19),P(1,"img",20),r(2,"div",21)(3,"div",22),a(4),i(),r(5,"div",23),a(6),oe(7,"currency"),i(),r(8,"button",24),b("click",function(){let s=u(e).$implicit,d=m(2);return h(d.addToCart(s))}),a(9,"\u{1F6D2}"),i()(),f(10,rl,5,0,"div",25),i()}if(o&2){let e=t.$implicit,n=m(2);l(),p("src",e.image,te)("alt",e.name),l(3),_(e.name),l(2),_(Ee(7,5,e.price,"EUR")),l(4),p("ngIf",n.canEdit())}}function al(o,t){if(o&1){let e=k();r(0,"div",5)(1,"div",6)(2,"button",7),b("click",function(){u(e);let s=m();return h(s.router.navigate(["/gallery"]))}),a(3),i(),r(4,"button",7),b("click",function(){u(e);let s=m();return h(s.router.navigate(["/afroshop",s.afroshop.id]))}),a(5),i(),f(6,el,2,0,"button",8)(7,tl,2,1,"button",9)(8,nl,2,1,"button",10),i(),f(9,il,4,2,"div",11),r(10,"div",12),f(11,ol,11,8,"div",13),i()()}if(o&2){let e=m();l(3),_(e.texts.toGallery),l(2),_(e.texts.toShopInfo),l(),p("ngIf",!e.isShopOwner()&&e.afroshop.phone),l(),p("ngIf",e.canEdit()),l(),p("ngIf",e.canEdit()&&e.afroshop),l(),p("ngIf",!e.afroshop.products||e.afroshop.products.length===0),l(2),p("ngForOf",e.afroshop.products)}}function sl(o,t){if(o&1&&(r(0,"span",29),a(1),i()),o&2){let e=m();l(),_(e.getCartItemCount())}}function ll(o,t){if(o&1){let e=k();r(0,"li",42),P(1,"img",43),r(2,"div",44)(3,"span",45),a(4),i(),r(5,"span",46),a(6),oe(7,"currency"),i()(),r(8,"div",47)(9,"button",48),b("click",function(){let s=u(e).$implicit,d=m(2);return h(d.decrementQuantity(s))}),a(10,"-"),i(),r(11,"span"),a(12),i(),r(13,"button",48),b("click",function(){let s=u(e).$implicit,d=m(2);return h(d.incrementQuantity(s))}),a(14,"+"),i()(),r(15,"span",49),a(16),oe(17,"currency"),i(),r(18,"button",50),b("click",function(){let s=u(e).$implicit,d=m(2);return h(d.decrementQuantity(s))}),a(19,"\u2716\uFE0F"),i()()}if(o&2){let e=t.$implicit;l(),p("src",e.product.image,te)("alt",e.product.name),l(3),_(e.product.name),l(2),_(Ee(7,6,e.product.price,"EUR")),l(6),_(e.quantity),l(4),_(Ee(17,9,e.product.price*e.quantity,"EUR"))}}function dl(o,t){if(o&1){let e=k();r(0,"div",30)(1,"div",31)(2,"div",32)(3,"span",33),a(4),i(),r(5,"span",34),a(6),i()(),r(7,"ul",35),f(8,ll,20,12,"li",36),i(),r(9,"div",37)(10,"span"),a(11),i(),r(12,"strong",38),a(13),oe(14,"currency"),i()(),r(15,"div",39)(16,"button",40),b("click",function(){u(e);let s=m();return h(s.goToPayment())}),a(17),i(),r(18,"button",41),b("click",function(){u(e);let s=m();return h(s.toggleCart())}),a(19),i()()()()}if(o&2){let e=m();l(4),x("\u{1F6CD}\uFE0F ",e.texts.myCart,""),l(2),_(e.getCartItemCount()),l(2),p("ngForOf",e.cartItems),l(3),_(e.texts.total),l(2),_(Ee(14,8,e.getCartTotal(),"EUR")),l(3),p("disabled",e.getCartItemCount()===0),l(),_(e.texts.checkout),l(2),_(e.texts.close)}}var on=class o{constructor(t,e,n,s,d,c){this.route=t;this.router=e;this.afroshopService=n;this.firebaseService=s;this.authService=d;this.languageService=c}langSub;texts={toGallery:"Zur Gallery",toShopInfo:"Zur Shop-infos",addProducts:"Produkte hinzuf\xFCgen",dashboard:"Dashboard",notice:"Hinweis:",noOnlineOrder:"Dieser Shop bietet keinen Online-Bestellservice an. Bitte besuchen Sie das Gesch\xE4ft vor Ort oder rufen Sie an.",myCart:"Mein Warenkorb",total:"Gesamt:",checkout:"Zur Kasse",close:"Schlie\xDFen",remove:"Entfernen"};openUrl(t,e="_blank"){window.open(t,e)}showImpressum=!1;goToDashboard(t){let e=t||this.shopId;this.router.navigate(["/dashboard",e])}cartOpen=!1;toggleCart(){this.cartOpen=!this.cartOpen}incrementQuantity(t){t.quantity++,this.saveCartToLocalStorage()}decrementQuantity(t){t.quantity>1?(t.quantity--,this.saveCartToLocalStorage()):(this.cartItems=this.cartItems.filter(e=>e.product.id!==t.product.id),this.saveCartToLocalStorage())}canEdit(){let t=this.authService.getCurrentUser?.();return!t||!this.afroshop?!1:this.afroshop.createdBy===t.uid}afroshop;shopId="";cartItems=[];goToAddProduct(){this.router.navigate(["/add-product"],{queryParams:{afroshopId:this.shopId}})}getCartKey(){return`cartItems_${this.shopId}`}saveCartToLocalStorage(){localStorage.setItem(this.getCartKey(),JSON.stringify(this.cartItems))}loadCartFromLocalStorage(){let t=localStorage.getItem(this.getCartKey());if(t)try{this.cartItems=JSON.parse(t)}catch{}else this.cartItems=[]}ngOnInit(){this.langSub=this.languageService.currentLanguage$.subscribe(()=>{this.updateTranslations()}),this.updateTranslations(),this.route.paramMap.subscribe(t=>{let e=t.get("id");e&&(this.shopId=e,this.loadCartFromLocalStorage(),this.firebaseService.getAllAfroshops().subscribe(n=>{this.afroshop=n.find(s=>s.id===e||s.id===+e||s.id.toString()===e)}))})}addToCart(t){let e=this.cartItems.find(n=>n.product.id===t.id);e?(e.quantity++,this.saveCartToLocalStorage()):(this.cartItems.push({product:t,quantity:1}),this.saveCartToLocalStorage())}getCartItemCount(){return this.cartItems.reduce((t,e)=>t+e.quantity,0)}getCartTotal(){return this.cartItems.reduce((t,e)=>t+e.product.price*e.quantity,0)}editProduct(t){this.router.navigate(["/add-product"],{queryParams:{afroshopId:this.shopId,productId:t.id,name:t.name,price:t.price,image:t.image,category:t.category}})}deleteProduct(t){return S(this,null,function*(){if(!this.afroshop)return;let e=(this.afroshop.products||[]).filter(n=>n.id!==t.id);try{yield this.firebaseService.updateAfroshop(String(this.afroshop.id),{products:e}),this.afroshop.products=e}catch(n){console.error("Erreur lors de la suppression du produit :",n),alert("Fehler beim L\xF6schen des Produkts.")}})}goToPayment(){this.toggleCart(),this.router.navigate(["/payment"],{queryParams:{shopId:this.shopId}})}isShopOwner(){let t=this.authService.getCurrentUser?.();return!t||!this.afroshop?!1:this.afroshop.createdBy===t.uid}updateTranslations(){this.texts={toGallery:this.languageService.translate("shop.toGallery"),toShopInfo:this.languageService.translate("shop.toShopInfo"),addProducts:this.languageService.translate("shop.addProducts"),dashboard:this.languageService.translate("shop.dashboard"),notice:this.languageService.translate("shop.notice"),noOnlineOrder:this.languageService.translate("shop.noOnlineOrder"),myCart:this.languageService.translate("shop.myCart"),total:this.languageService.translate("shop.total"),checkout:this.languageService.translate("shop.checkout"),close:this.languageService.translate("shop.close"),remove:this.languageService.translate("shop.remove")}}ngOnDestroy(){this.langSub?.unsubscribe()}static \u0275fac=function(e){return new(e||o)(w(se),w(R),w(We),w(U),w(T),w(re))};static \u0275cmp=E({type:o,selectors:[["app-shop"]],decls:6,vars:3,consts:[["class","shop-container",4,"ngIf"],[1,"cart-float-global"],[1,"cart-float-btn",3,"click"],["class","cart-count",4,"ngIf"],["class","cart-overlay",4,"ngIf"],[1,"shop-container"],[1,"shop-header-btns"],[1,"modern-btn",3,"click"],["class","modern-btn call-header-btn",3,"click",4,"ngIf"],["class","modern-btn primary",3,"click",4,"ngIf"],["class","modern-btn dashboard",3,"click",4,"ngIf"],["class","info-message",4,"ngIf"],[1,"products-grid"],["class","product-card",4,"ngFor","ngForOf"],[1,"modern-btn","call-header-btn",3,"click"],[1,"modern-btn","primary",3,"click"],[1,"modern-btn","dashboard",3,"click"],[1,"info-message"],[2,"color","#d32f2f","font-weight","600"],[1,"product-card"],[1,"product-image",3,"src","alt"],[1,"product-row"],[1,"product-name"],[1,"product-price"],[1,"add-to-cart-btn",3,"click"],["class","admin-actions",4,"ngIf"],[1,"admin-actions"],[1,"edit-btn",3,"click"],[1,"delete-btn",3,"click"],[1,"cart-count"],[1,"cart-overlay"],[1,"cart-float-panel","modern-cart"],[1,"cart-header"],[1,"cart-title"],[1,"cart-badge"],[1,"cart-list"],["class","cart-item",4,"ngFor","ngForOf"],[1,"cart-total-row"],[1,"cart-total"],[1,"cart-actions"],[1,"cart-order-btn",3,"click","disabled"],[1,"close-cart-btn",3,"click"],[1,"cart-item"],[1,"cart-item-img",3,"src","alt"],[1,"cart-item-info"],[1,"cart-item-name"],[1,"cart-item-price"],[1,"cart-qty-controls"],[3,"click"],[1,"cart-item-total"],["title","Entfernen",1,"cart-remove-btn",3,"click"]],template:function(e,n){e&1&&(f(0,al,12,7,"div",0),r(1,"div",1)(2,"button",2),b("click",function(){return n.toggleCart()}),a(3," \u{1F6D2} "),f(4,sl,2,1,"span",3),i()(),f(5,dl,20,11,"div",4)),e&2&&(p("ngIf",n.afroshop),l(4),p("ngIf",n.getCartItemCount()>0),l(),p("ngIf",n.cartOpen))},dependencies:[A,H,D,Jn,$],styles:['@charset "UTF-8";.impressum-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:3000;display:flex;align-items:center;justify-content:center}.impressum-modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000059;z-index:3001}.impressum-modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 32px #0000002e;padding:2rem 1.5rem 1.5rem;max-width:420px;width:90vw;z-index:3002;position:relative;display:flex;flex-direction:column;gap:.7rem}.impressum-modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:.7rem;font-size:1.3rem;color:#1a8917}.impressum-modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:none;border:none;font-size:1.2rem;color:#888;cursor:pointer}.impressum-modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#d32f2f}.impressum-modal-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#222}.impressum-modal-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1a8917;text-decoration:underline}.impressum-modal-content[_ngcontent-%COMP%]   .form-hint[_ngcontent-%COMP%]{color:#888;font-size:.92rem;margin-top:.5rem}.modern-btn[_ngcontent-%COMP%]{background:#e0e0e0;color:#222;border:none;border-radius:4px;padding:.5rem 1.2rem;font-size:1rem;font-weight:500;cursor:pointer;margin-right:.7rem;transition:background .2s,color .2s}.modern-btn[_ngcontent-%COMP%]:hover{background:#bdbdbd;color:#111}.modern-btn.primary[_ngcontent-%COMP%]{background:#1a8917;color:#fff}.modern-btn.primary[_ngcontent-%COMP%]:hover{background:#166d13;color:#fff}.shop-header-btns[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;flex-wrap:nowrap;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;scroll-snap-type:x proximity;padding:.8rem 1rem;position:relative;background:linear-gradient(to right,#fffffff2,#fffc);border-radius:8px;box-shadow:0 2px 8px #00000014;scrollbar-width:thin;scrollbar-color:rgba(30,136,229,.4) rgba(0,0,0,.05)}.shop-header-btns[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{flex:0 0 auto;white-space:nowrap;scroll-snap-align:start;min-width:fit-content}@media (min-width: 1024px){.shop-header-btns[_ngcontent-%COMP%]{overflow-x:visible;flex-wrap:wrap;justify-content:space-between}}@media (max-width: 800px){.shop-header-btns[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.6rem;padding:.8rem;margin:.5rem;overflow-x:visible;overflow-y:visible;background:linear-gradient(to bottom,#fffffff2,#ffffffe6)}.shop-header-btns[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{font-size:.85rem;padding:.7rem .8rem;margin:0;width:100%;text-align:center;white-space:normal;line-height:1.3}}.shop-header-btns[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.shop-header-btns[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#1e88e580;border-radius:10px;border:1px solid rgba(30,136,229,.2)}.shop-header-btns[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#1e88e5b3}.shop-header-btns[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#00000014;border-radius:10px;margin:0 .5rem}.cart-float-global[_ngcontent-%COMP%]{position:fixed;top:18px;right:18px;z-index:2100}.cart-float-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #1a8917;border-radius:50%;width:48px;height:48px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;position:relative;cursor:pointer;transition:box-shadow .2s}.cart-float-btn[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #1a891726}.cart-count[_ngcontent-%COMP%]{position:absolute;top:2px;right:2px;background:#d32f2f;color:#fff;border-radius:50%;font-size:.85rem;padding:0 6px;min-width:22px;text-align:center;font-weight:700}.cart-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000059;z-index:2000;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(3px)}.modern-cart[_ngcontent-%COMP%]{background:#fff;border-radius:18px;box-shadow:0 8px 32px #00000038;padding:2rem 1.2rem 1.2rem;max-width:98vw;width:370px;max-height:92vh;overflow-y:auto;position:relative;display:flex;flex-direction:column;gap:1.2rem}.cart-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:.7rem}.cart-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#1a8917;letter-spacing:.5px}.cart-badge[_ngcontent-%COMP%]{background:#d32f2f;color:#fff;border-radius:50%;font-size:1rem;padding:0 10px;min-width:28px;text-align:center;font-weight:700}.cart-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0 0 1rem;display:flex;flex-direction:column;gap:.7rem}.cart-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.7rem;background:#f7f7f7;border-radius:8px;padding:.5rem .7rem;position:relative}.cart-item-img[_ngcontent-%COMP%]{width:44px;height:44px;object-fit:cover;border-radius:6px;background:#eee}.cart-item-info[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:.1rem}.cart-item-name[_ngcontent-%COMP%]{font-weight:600;font-size:1.05rem}.cart-item-price[_ngcontent-%COMP%]{color:#1a8917;font-size:.98rem}.cart-qty-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;background:#fff;border-radius:4px;box-shadow:0 1px 3px #0000000a;padding:.1rem .4rem}.cart-qty-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#e0e0e0;border:none;border-radius:4px;padding:.2rem .7rem;font-size:1rem;cursor:pointer;transition:background .2s}.cart-qty-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#1a8917;color:#fff}.cart-item-total[_ngcontent-%COMP%]{font-weight:500;font-size:1.05rem;color:#333;min-width:70px;text-align:right}.cart-remove-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#d32f2f;font-size:1.2rem;margin-left:.2rem;cursor:pointer;transition:color .2s}.cart-remove-btn[_ngcontent-%COMP%]:hover{color:#b71c1c}.cart-total-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;font-size:1.15rem;margin:1rem 0 .5rem;font-weight:600}.cart-actions[_ngcontent-%COMP%]{display:flex;gap:.7rem;justify-content:flex-end}.cart-order-btn[_ngcontent-%COMP%]{background:#1a8917;color:#fff;border:none;border-radius:6px;padding:.6rem 1.5rem;font-size:1.08rem;font-weight:600;cursor:pointer;transition:background .2s}.cart-order-btn[_ngcontent-%COMP%]:hover{background:#166d13}.close-cart-btn[_ngcontent-%COMP%]{background:#e0e0e0;color:#222;border:none;border-radius:6px;padding:.6rem 1.5rem;font-size:1.08rem;font-weight:500;cursor:pointer;transition:background .2s}.close-cart-btn[_ngcontent-%COMP%]:hover{background:#bdbdbd}.close-cart-btn[_ngcontent-%COMP%]{margin-top:1rem;background:#d32f2f;color:#fff;border:none;border-radius:4px;padding:.5rem 1.2rem;font-size:1rem;cursor:pointer;transition:background .2s}.close-cart-btn[_ngcontent-%COMP%]:hover{background:#b71c1c}.cart-float-panel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0 0 1rem}.cart-float-panel[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.5rem;margin-bottom:.7rem}.cart-float-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#e0e0e0;border:none;border-radius:4px;padding:.2rem .7rem;font-size:1rem;cursor:pointer;transition:background .2s}.cart-float-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#1a8917;color:#fff}.product-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.7rem;width:100%;margin-bottom:.5rem}@media (max-width: 600px){.product-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.3rem}.product-row[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%], .product-row[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%], .product-row[_ngcontent-%COMP%]   .add-to-cart-btn[_ngcontent-%COMP%]{text-align:center;width:100%}.product-row[_ngcontent-%COMP%]   .add-to-cart-btn[_ngcontent-%COMP%]{margin:0 auto}}.product-row[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{flex:2;text-align:left}.product-row[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{flex:1;text-align:right}.product-row[_ngcontent-%COMP%]   .add-to-cart-btn[_ngcontent-%COMP%]{flex:0 0 auto;margin:0 0 0 .5rem}.admin-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.2rem}.edit-btn[_ngcontent-%COMP%], .delete-btn[_ngcontent-%COMP%]{background:#e0e0e0;color:#333;border:none;border-radius:4px;padding:.3rem .9rem;font-size:.95rem;cursor:pointer;transition:background .2s}.edit-btn[_ngcontent-%COMP%]:hover{background:#1976d2;color:#fff}.delete-btn[_ngcontent-%COMP%]:hover{background:#d32f2f;color:#fff}.shop-container[_ngcontent-%COMP%]{max-width:1400px;margin:2rem auto;padding:1rem .5rem;display:flex;flex-direction:column;align-items:center;overflow-x:hidden}.products-grid[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;overflow-x:hidden;display:grid;grid-template-columns:repeat(5,1fr);gap:1rem;justify-content:center;justify-items:center;align-items:start;margin:0 auto}@media (min-width: 1400px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr)}}@media (max-width: 1200px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width: 900px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 600px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.product-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #00000012;padding:1.5rem 1rem 1rem;display:flex;flex-direction:column;align-items:center;transition:box-shadow .2s}.product-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #00000021}.product-image[_ngcontent-%COMP%]{width:120px;height:120px;object-fit:cover;border-radius:8px;margin-bottom:1rem}.product-info[_ngcontent-%COMP%]{text-align:center;margin-bottom:.5rem}.product-name[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;margin-bottom:.2rem}.product-price[_ngcontent-%COMP%]{color:#1a8917;font-size:1rem;font-weight:500}.add-to-cart-btn[_ngcontent-%COMP%]{margin-top:.5rem;background:#1a8917;color:#fff;border:none;border-radius:6px;padding:.5rem 1.2rem;font-size:1rem;cursor:pointer;transition:background .2s}.add-to-cart-btn[_ngcontent-%COMP%]:hover{background:#166d13}.cart-summary[_ngcontent-%COMP%]{margin-top:2rem;background:#f7f7f7;border-radius:8px;padding:1rem;box-shadow:0 1px 4px #0000000a}.cart-total[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.1rem;font-weight:700}']})};var He=class o{firestore=F(xe);injector=F(At);addOrder(t){return S(this,null,function*(){let e=he(this.firestore,"orders");yield Rt(e,j(G({},t),{createdAt:Ui.now()}))})}getAllOrders(){return It(this.injector,()=>{let t=he(this.firestore,"orders"),e=De(t,Be("createdAt","desc"));return Ie(e,{idField:"id"})})}getOrdersByShop(t){return It(this.injector,()=>{let e=he(this.firestore,"orders"),n=De(e,Ne("shopId","==",t),Be("createdAt","desc"));return Ie(n,{idField:"id"})})}getOrdersByUser(t){return It(this.injector,()=>{let e=he(this.firestore,"orders"),n=De(e,Ne("userId","==",t),Be("createdAt","desc"));return Ie(n,{idField:"id"})})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};function pl(o,t){if(o&1&&(r(0,"span"),a(1,"IBAN: "),r(2,"b"),a(3),i()()),o&2){let e=m(2);l(3),_(e.iban)}}function ml(o,t){if(o&1&&(r(0,"span"),a(1,"BIC: "),r(2,"b"),a(3),i()()),o&2){let e=m(2);l(3),_(e.bic)}}function gl(o,t){if(o&1&&(r(0,"div",20)(1,"strong"),a(2,"Bankverbindung des Shops:"),i(),P(3,"br"),f(4,pl,4,1,"span",21),P(5,"br"),f(6,ml,4,1,"span",21),i()),o&2){let e=m();l(4),p("ngIf",e.iban),l(2),p("ngIf",e.bic)}}function ul(o,t){if(o&1){let e=k();r(0,"div",22)(1,"h3"),a(2,"Ihre Kontaktdaten"),i(),r(3,"div",23)(4,"label",24),a(5,"Vorname *"),i(),r(6,"input",25),M("ngModelChange",function(s){u(e);let d=m();return C(d.clientInfo.firstName,s)||(d.clientInfo.firstName=s),h(s)}),i()(),r(7,"div",23)(8,"label",26),a(9,"Nachname *"),i(),r(10,"input",27),M("ngModelChange",function(s){u(e);let d=m();return C(d.clientInfo.lastName,s)||(d.clientInfo.lastName=s),h(s)}),i()(),r(11,"div",23)(12,"label",28),a(13,"Stra\xDFe *"),i(),r(14,"input",29),M("ngModelChange",function(s){u(e);let d=m();return C(d.clientInfo.street,s)||(d.clientInfo.street=s),h(s)}),i()(),r(15,"div",23)(16,"label",30),a(17,"Hausnummer *"),i(),r(18,"input",31),M("ngModelChange",function(s){u(e);let d=m();return C(d.clientInfo.number,s)||(d.clientInfo.number=s),h(s)}),i()(),r(19,"div",23)(20,"label",32),a(21,"PLZ *"),i(),r(22,"input",33),M("ngModelChange",function(s){u(e);let d=m();return C(d.clientInfo.plz,s)||(d.clientInfo.plz=s),h(s)}),i()(),r(23,"div",23)(24,"label",34),a(25,"Stadt *"),i(),r(26,"input",35),M("ngModelChange",function(s){u(e);let d=m();return C(d.clientInfo.city,s)||(d.clientInfo.city=s),h(s)}),i()(),r(27,"div",23)(28,"label",36),a(29,"Telefon *"),i(),r(30,"input",37),M("ngModelChange",function(s){u(e);let d=m();return C(d.clientInfo.phone,s)||(d.clientInfo.phone=s),h(s)}),i()(),r(31,"div",23)(32,"label",38),a(33,"E-Mail (optional)"),i(),r(34,"input",39),M("ngModelChange",function(s){u(e);let d=m();return C(d.clientInfo.email,s)||(d.clientInfo.email=s),h(s)}),i()()()}if(o&2){let e=m();l(6),y("ngModel",e.clientInfo.firstName),l(4),y("ngModel",e.clientInfo.lastName),l(4),y("ngModel",e.clientInfo.street),l(4),y("ngModel",e.clientInfo.number),l(4),y("ngModel",e.clientInfo.plz),l(4),y("ngModel",e.clientInfo.city),l(4),y("ngModel",e.clientInfo.phone),l(4),y("ngModel",e.clientInfo.email)}}function hl(o,t){if(o&1&&(r(0,"div",40),P(1,"p",41),i()),o&2){let e=m();l(),p("innerHTML",e.confirmationMessage,jn)}}var an=class o{constructor(t,e,n,s,d){this.router=t;this.route=e;this.firebaseService=n;this.orderService=s;this.authService=d;this.route.queryParamMap.subscribe(c=>S(this,null,function*(){if(this.shopId=c.get("shopId"),this.shopId){let g=yield this.firebaseService.getAfroshopById(this.shopId);this.iban=g?.iban||"",this.bic=g?.bic||""}}))}shopId=null;selectedMethod="";deliveryType="abholung";paymentConfirmed=!1;confirmationMessage="";iban="";bic="";clientInfo={firstName:"",lastName:"",street:"",number:"",plz:"",city:"",phone:"",email:""};clientInfoValid(){return!!(this.clientInfo.firstName&&this.clientInfo.lastName&&this.clientInfo.street&&this.clientInfo.number&&this.clientInfo.plz&&this.clientInfo.city&&this.clientInfo.phone)}goBackToShop(){this.shopId?this.router.navigate(["/shop",this.shopId]):this.router.navigate(["/shop"])}confirmPayment(){return S(this,null,function*(){if(!this.clientInfoValid()){this.paymentConfirmed=!1,this.confirmationMessage="Bitte f\xFCllen Sie alle Pflichtfelder f\xFCr Ihre Kontaktdaten aus.";return}let t=[];try{let g=localStorage.getItem("cartItems_"+this.shopId);g&&(t=JSON.parse(g))}catch{}let e=t.map(g=>({id:g.product.id,name:g.product.name,price:g.product.price,quantity:g.quantity})),n=e.reduce((g,v)=>g+v.price*v.quantity,0);if(!this.shopId||e.length===0){this.paymentConfirmed=!0,this.confirmationMessage="Ihr Warenkorb ist leer oder ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.";return}let s=this.authService.getCurrentUser(),d;this.shopId&&(d=(yield this.firebaseService.getAfroshopById(this.shopId))?.createdBy);let c={shopId:this.shopId,clientInfo:{firstName:this.clientInfo.firstName,lastName:this.clientInfo.lastName,street:this.clientInfo.street,number:this.clientInfo.number,plz:this.clientInfo.plz,city:this.clientInfo.city,phone:this.clientInfo.phone,email:this.clientInfo.email},products:e,total:n,paymentMethod:this.selectedMethod,deliveryType:this.deliveryType,createdAt:new Date,shopOwnerId:d};s&&(c.userId=s.uid),yield this.orderService.addOrder(c),this.shopId&&localStorage.removeItem("cartItems_"+this.shopId),this.paymentConfirmed=!0,this.selectedMethod==="bar"?this.deliveryType==="abholung"?this.confirmationMessage="Ihre Bestellung wurde gespeichert. Bitte bezahlen Sie bar bei Abholung im Gesch\xE4ft.":this.confirmationMessage="Ihre Bestellung wurde gespeichert. Bitte bezahlen Sie bar bei Lieferung.":this.selectedMethod==="vorkasse"?this.iban&&this.bic?this.confirmationMessage="Ihre Bestellung wurde gespeichert. Vielen Dank f\xFCr Ihren Einkauf!<br>Bitte \xFCberweisen Sie den Gesamtbetrag auf das folgende Konto:<br><b>IBAN: "+this.iban+"</b><br><b>BIC: "+this.bic+"</b><br><small>Ihre Bestellung wird nach Zahlungseingang bearbeitet.</small>":this.confirmationMessage="Bankverbindung nicht verf\xFCgbar. Bitte wenden Sie sich an den Shop.":this.confirmationMessage="Ihre Bestellung wurde gespeichert. Vielen Dank f\xFCr Ihren Einkauf!"})}static \u0275fac=function(e){return new(e||o)(w(R),w(se),w(U),w(He),w(T))};static \u0275cmp=E({type:o,selectors:[["app-payment"]],decls:51,vars:12,consts:[[1,"payment-container"],["class","bank-details","style","background:#f8f8f8; border-radius:6px; padding:1em; margin-bottom:1em;",4,"ngIf"],[1,"payment-methods",3,"ngSubmit"],[1,"delivery-type-section"],[1,"delivery-options"],[1,"delivery-option"],["type","radio","name","deliveryType","value","abholung","required","",3,"ngModelChange","ngModel"],["type","radio","name","deliveryType","value","lieferung",3,"ngModelChange","ngModel"],[1,"payment-options-list"],[1,"payment-option"],["type","radio","name","payment","value","bar","required","",3,"ngModelChange","ngModel"],["type","radio","name","payment","value","karte",3,"ngModelChange","ngModel"],["type","radio","name","payment","value","paypal",3,"ngModelChange","ngModel"],["type","radio","name","payment","value","sofort",3,"ngModelChange","ngModel"],["type","radio","name","payment","value","vorkasse",3,"ngModelChange","ngModel"],["type","radio","name","payment","value","applepay",3,"ngModelChange","ngModel"],["class","client-info-form",4,"ngIf"],["type","submit",1,"payment-confirm-btn",3,"disabled"],[1,"payment-back-btn",3,"click"],["class","payment-success",4,"ngIf"],[1,"bank-details",2,"background","#f8f8f8","border-radius","6px","padding","1em","margin-bottom","1em"],[4,"ngIf"],[1,"client-info-form"],[1,"form-group"],["for","clientFirstName"],["type","text","id","clientFirstName","name","clientFirstName","required","",3,"ngModelChange","ngModel"],["for","clientLastName"],["type","text","id","clientLastName","name","clientLastName","required","",3,"ngModelChange","ngModel"],["for","clientStreet"],["type","text","id","clientStreet","name","clientStreet","required","",3,"ngModelChange","ngModel"],["for","clientNumber"],["type","text","id","clientNumber","name","clientNumber","required","",3,"ngModelChange","ngModel"],["for","clientPLZ"],["type","text","id","clientPLZ","name","clientPLZ","required","",3,"ngModelChange","ngModel"],["for","clientCity"],["type","text","id","clientCity","name","clientCity","required","",3,"ngModelChange","ngModel"],["for","clientPhone"],["type","tel","id","clientPhone","name","clientPhone","required","",3,"ngModelChange","ngModel"],["for","clientEmail"],["type","email","id","clientEmail","name","clientEmail",3,"ngModelChange","ngModel"],[1,"payment-success"],[3,"innerHTML"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"h2"),a(2,"Zahlung"),i(),f(3,gl,7,2,"div",1),r(4,"p"),a(5,"W\xE4hlen Sie Ihre bevorzugte Zahlungsmethode aus und best\xE4tigen Sie Ihre Bestellung."),i(),r(6,"form",2),b("ngSubmit",function(){return n.confirmPayment()}),r(7,"div",3)(8,"h3"),a(9,"Lieferart"),i(),r(10,"div",4)(11,"label",5)(12,"input",6),M("ngModelChange",function(d){return C(n.deliveryType,d)||(n.deliveryType=d),d}),i(),r(13,"span"),a(14,"\u{1F3EA} Abholung im Gesch\xE4ft"),i()(),r(15,"label",5)(16,"input",7),M("ngModelChange",function(d){return C(n.deliveryType,d)||(n.deliveryType=d),d}),i(),r(17,"span"),a(18,"\u{1F69A} Lieferung nach Hause"),i()()()(),r(19,"div",8)(20,"label",9)(21,"input",10),M("ngModelChange",function(d){return C(n.selectedMethod,d)||(n.selectedMethod=d),d}),i(),r(22,"span"),a(23,"Barzahlung bei Abholung"),i()(),r(24,"label",9)(25,"input",11),M("ngModelChange",function(d){return C(n.selectedMethod,d)||(n.selectedMethod=d),d}),i(),r(26,"span"),a(27,"EC-/Kreditkarte vor Ort"),i()(),r(28,"label",9)(29,"input",12),M("ngModelChange",function(d){return C(n.selectedMethod,d)||(n.selectedMethod=d),d}),i(),r(30,"span"),a(31,"PayPal"),i()(),r(32,"label",9)(33,"input",13),M("ngModelChange",function(d){return C(n.selectedMethod,d)||(n.selectedMethod=d),d}),i(),r(34,"span"),a(35,"Sofort\xFCberweisung (Klarna)"),i()(),r(36,"label",9)(37,"input",14),M("ngModelChange",function(d){return C(n.selectedMethod,d)||(n.selectedMethod=d),d}),i(),r(38,"span"),a(39,"Vorkasse/\xDCberweisung"),i()(),r(40,"label",9)(41,"input",15),M("ngModelChange",function(d){return C(n.selectedMethod,d)||(n.selectedMethod=d),d}),i(),r(42,"span"),a(43,"Apple Pay / Google Pay"),i()()(),f(44,ul,35,8,"div",16),r(45,"button",17),a(46,"Zahlung best\xE4tigen"),i(),r(47,"button",18),b("click",function(){return n.goBackToShop()}),a(48,"Zur\xFCck zum Shop"),i(),f(49,hl,2,1,"div",19),i(),P(50,"label",9),i()),e&2&&(l(3),p("ngIf",n.iban||n.bic),l(9),y("ngModel",n.deliveryType),l(4),y("ngModel",n.deliveryType),l(5),y("ngModel",n.selectedMethod),l(4),y("ngModel",n.selectedMethod),l(4),y("ngModel",n.selectedMethod),l(4),y("ngModel",n.selectedMethod),l(4),y("ngModel",n.selectedMethod),l(4),y("ngModel",n.selectedMethod),l(3),p("ngIf",n.selectedMethod),l(),p("disabled",!n.selectedMethod||!n.clientInfoValid()),l(4),p("ngIf",n.paymentConfirmed))},dependencies:[A,D,$,Ce,ce,Yi,ne,ve,Me,ie,ye],styles:[".payment-back-btn[_ngcontent-%COMP%]{margin-top:1.5rem;background:#fff;color:#00796b;border:1px solid #00796b;border-radius:4px;padding:.7rem 1.5rem;font-size:1rem;cursor:pointer;transition:background .2s,color .2s}.payment-back-btn[_ngcontent-%COMP%]:hover{background:#e0f2f1;color:#004d40}.payment-methods[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.1rem;margin:2rem 0 1.5rem}.payment-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;font-size:1.08rem;background:#f7f7f7;border-radius:7px;padding:.7rem 1rem;cursor:pointer;transition:background .2s}.payment-option[_ngcontent-%COMP%]:hover{background:#e0f2e9}.payment-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{accent-color:#1a8917;width:1.2em;height:1.2em}.payment-confirm-btn[_ngcontent-%COMP%]{margin-top:1.5rem;background:#1a8917;color:#fff;border:none;border-radius:6px;padding:.7rem 1.7rem;font-size:1.1rem;font-weight:600;cursor:pointer;transition:background .2s}.payment-confirm-btn[_ngcontent-%COMP%]:disabled{background:#bdbdbd;color:#fff;cursor:not-allowed}.payment-container[_ngcontent-%COMP%]{max-width:420px;margin:2rem auto;background:#fff;border-radius:14px;box-shadow:0 4px 24px #00000021;padding:2rem 1.5rem;display:flex;flex-direction:column;gap:1.2rem}.payment-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1a8917;font-size:1.5rem;margin-bottom:1rem}.delivery-type-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.delivery-type-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1a8917;font-size:1.2rem;margin-bottom:.8rem}.delivery-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.8rem}.delivery-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;font-size:1.08rem;background:#f0f8f0;border:2px solid #d4e9d4;border-radius:8px;padding:.9rem 1.1rem;cursor:pointer;transition:all .2s}.delivery-option[_ngcontent-%COMP%]:hover{background:#e0f2e9;border-color:#1a8917}.delivery-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{accent-color:#1a8917;width:1.3em;height:1.3em}.delivery-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}"]})};function fl(o,t){if(o&1&&(r(0,"div",7)(1,"p"),a(2),i()()),o&2){let e=m();l(2),_(e.texts.noOrders)}}function _l(o,t){if(o&1&&(r(0,"div",8)(1,"p",9),a(2," \u{1F4A1} "),r(3,"em"),a(4),i()()()),o&2){let e=m();l(4),_(e.texts.tip)}}function bl(o,t){if(o&1&&(r(0,"span"),a(1),i()),o&2){let e=m(2).$implicit;l(),x("E-Mail: ",e.clientInfo.email,"")}}function xl(o,t){if(o&1&&(Fe(0),r(1,"strong"),a(2),i(),P(3,"br"),a(4),P(5,"br"),a(6),P(7,"br"),a(8),P(9,"br"),f(10,bl,2,1,"span",19),Re()),o&2){let e=m().$implicit;l(2),V("",e.clientInfo.firstName," ",e.clientInfo.lastName,""),l(2),V(" ",e.clientInfo.street," ",e.clientInfo.number,""),l(2),V(" ",e.clientInfo.plz," ",e.clientInfo.city,""),l(2),x(" Tel: ",e.clientInfo.phone,""),l(2),p("ngIf",e.clientInfo.email)}}function vl(o,t){if(o&1&&(r(0,"span",20),a(1),i()),o&2){let e=m(4);l(),_(e.texts.noClientInfo)}}function yl(o,t){if(o&1&&(r(0,"li"),a(1),i()),o&2){let e=t.$implicit;l(),_(e.name)}}function Cl(o,t){if(o&1&&(r(0,"li"),a(1),i()),o&2){let e=t.$implicit;l(),_(e.quantity)}}function Ml(o,t){if(o&1&&(r(0,"span",21),a(1),i()),o&2){let e=m(4);l(),x("\u{1F3EA} ",e.texts.pickup,"")}}function wl(o,t){if(o&1&&(r(0,"span",22),a(1),i()),o&2){let e=m(4);l(),x("\u{1F69A} ",e.texts.delivery,"")}}function Sl(o,t){o&1&&(r(0,"span",20),a(1,"-"),i())}function Pl(o,t){if(o&1&&(r(0,"tr")(1,"td")(2,"strong"),a(3),oe(4,"date"),i()(),r(5,"td"),f(6,xl,11,8,"ng-container",15)(7,vl,2,1,"ng-template",null,0,Ye),i(),r(9,"td")(10,"ul"),f(11,yl,2,1,"li",11),i()(),r(12,"td")(13,"ul"),f(14,Cl,2,1,"li",11),i()(),r(15,"td"),a(16),i(),r(17,"td"),a(18),i(),r(19,"td"),f(20,Ml,2,1,"span",16)(21,wl,2,1,"span",17)(22,Sl,2,0,"span",18),i()()),o&2){let e=t.$implicit,n=fe(8);l(3),_(Ee(4,10,e.createdAt==null?null:e.createdAt.toDate(),"HH:mm")),l(3),p("ngIf",e.clientInfo)("ngIfElse",n),l(5),p("ngForOf",e.products),l(3),p("ngForOf",e.products),l(2),x("\u20AC",e.total.toFixed(2),""),l(2),_(e.paymentMethod),l(2),p("ngIf",e.deliveryType==="abholung"),l(),p("ngIf",e.deliveryType==="lieferung"),l(),p("ngIf",!e.deliveryType)}}function Ol(o,t){if(o&1&&(Fe(0),r(1,"div",12)(2,"h3"),a(3),r(4,"span",13),a(5),i()()(),r(6,"table",14)(7,"thead")(8,"tr")(9,"th"),a(10),i(),r(11,"th"),a(12),i(),r(13,"th"),a(14),i(),r(15,"th"),a(16),i(),r(17,"th"),a(18),i(),r(19,"th"),a(20),i(),r(21,"th"),a(22),i()()(),r(23,"tbody"),f(24,Pl,23,13,"tr",11),i()(),Re()),o&2){let e=t.$implicit,n=m(2);l(3),x(" ",e.label," "),l(2),V("",e.orders.length," ",n.texts.orders,""),l(5),_(n.texts.time),l(2),_(n.texts.customer),l(2),_(n.texts.products),l(2),_(n.texts.quantity),l(2),_(n.texts.totalAmount),l(2),_(n.texts.paymentMethod),l(2),_(n.texts.deliveryType),l(2),p("ngForOf",e.orders)}}function kl(o,t){if(o&1&&(r(0,"div",10),f(1,Ol,25,11,"ng-container",11),i()),o&2){let e=m();l(),p("ngForOf",e.groupedOrders)}}var sn=class o{langSub;texts={title:"Bestellungen f\xFCr Ihren Shop",backToShop:"Zur\xFCck zum Shop",noOrders:"Keine Bestellungen gefunden.",tip:"Tipp: Wischen Sie nach links/rechts und oben/unten, um alle Informationen zu sehen.",orders:"Bestellung(en)",time:"Uhrzeit",customer:"Kunde",products:"Produkte",quantity:"Menge",totalAmount:"Gesamtbetrag (\u20AC)",paymentMethod:"Zahlungsart",deliveryType:"Lieferart",pickup:"Abholung",delivery:"Lieferung",noClientInfo:"Aucune info client"};currentUid=null;orders=[];groupedOrders=[];shopId="";myShop=null;orderService=F(He);authService=F(T);afroshopService=F(U);languageService=F(re);router=F(R);route=F(se);ngOnInit(){this.langSub=this.languageService.currentLanguage$.subscribe(()=>{this.updateTranslations()}),this.updateTranslations(),this.authService.user$.subscribe(e=>{this.currentUid=e?.uid||null});let t=this.route.snapshot.paramMap.get("id");t&&(this.shopId=t,this.afroshopService.getAllAfroshops().subscribe(e=>{this.myShop=e.find(n=>String(n.id)===String(this.shopId)),this.myShop&&this.orderService.getOrdersByShop(this.shopId).subscribe(n=>{this.orders=n,this.groupOrdersByDay()})}))}get shopIdReady(){return!!this.myShop&&!!this.myShop.id}goToShop(){this.shopIdReady?this.router.navigate(["/shop",this.myShop.id]):this.router.navigate(["/gallery"])}groupOrdersByDay(){let t=new Map,e=new Date;e.setHours(0,0,0,0);let n=new Date(e);n.setDate(n.getDate()-1),this.orders.forEach(s=>{let d=s.createdAt?.toDate();if(!d)return;let c=d.toLocaleDateString("de-DE");t.has(c)||t.set(c,[]),t.get(c).push(s)}),this.groupedOrders=Array.from(t.entries()).map(([s,d])=>{let c=d[0].createdAt?.toDate();c?.setHours(0,0,0,0);let g=s;return c?.getTime()===e.getTime()?g="\u{1F4C5} Heute - "+s:c?.getTime()===n.getTime()?g="\u{1F4C5} Gestern - "+s:g="\u{1F4C5} "+s,{date:s,orders:d,label:g}})}updateTranslations(){this.texts={title:this.languageService.translate("dashboard.title"),backToShop:this.languageService.translate("dashboard.backToShop"),noOrders:this.languageService.translate("dashboard.noOrders"),tip:this.languageService.translate("dashboard.tip"),orders:this.languageService.translate("dashboard.orders"),time:this.languageService.translate("dashboard.time"),customer:this.languageService.translate("dashboard.customer"),products:this.languageService.translate("dashboard.products"),quantity:this.languageService.translate("dashboard.quantity"),totalAmount:this.languageService.translate("dashboard.totalAmount"),paymentMethod:this.languageService.translate("dashboard.paymentMethod"),deliveryType:this.languageService.translate("dashboard.deliveryType"),pickup:this.languageService.translate("dashboard.pickup"),delivery:this.languageService.translate("dashboard.delivery"),noClientInfo:this.languageService.translate("dashboard.noClientInfo")}}ngOnDestroy(){this.langSub?.unsubscribe()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=E({type:o,selectors:[["app-dashboard"]],decls:10,vars:6,consts:[["noClientInfo",""],[1,"dashboard-container"],[2,"font-size","1.5em"],[1,"modern-btn","dashboard-return",2,"margin-bottom","1.5rem",3,"click","disabled"],["class","dashboard-empty",4,"ngIf"],["class","dashboard-info",4,"ngIf"],["class","dashboard-table-wrapper",4,"ngIf"],[1,"dashboard-empty"],[1,"dashboard-info"],[2,"color","#1e88e5","font-size","0.9rem","margin-bottom","0.5rem"],[1,"dashboard-table-wrapper"],[4,"ngFor","ngForOf"],[1,"date-separator"],[1,"order-count"],[1,"dashboard-table"],[4,"ngIf","ngIfElse"],["style","color: #1a8917;",4,"ngIf"],["style","color: #ff6b35;",4,"ngIf"],["style","color: #888;",4,"ngIf"],[4,"ngIf"],[2,"color","#888"],[2,"color","#1a8917"],[2,"color","#ff6b35"]],template:function(e,n){e&1&&(r(0,"div",1)(1,"h2")(2,"span",2),a(3,"\u{1F4CA}"),i(),a(4),i(),r(5,"button",3),b("click",function(){return n.goToShop()}),a(6),i(),f(7,fl,3,1,"div",4)(8,_l,5,1,"div",5)(9,kl,2,1,"div",6),i()),e&2&&(l(4),x(" ",n.texts.title,""),l(),p("disabled",!n.shopIdReady),l(),x("\u2190 ",n.texts.backToShop,""),l(),p("ngIf",n.orders.length===0),l(),p("ngIf",n.orders.length>0),l(),p("ngIf",n.orders.length>0))},dependencies:[A,H,D,Ft],encapsulation:2})};function El(o,t){if(o&1&&(r(0,"div",15)(1,"div",16)(2,"div",17),a(3,"\u{1F4E6}"),i(),r(4,"div",18)(5,"div",19),a(6),i(),r(7,"div",20),a(8,"Gesamtbestellungen"),i()()(),r(9,"div",16)(10,"div",17),a(11,"\u{1F4B0}"),i(),r(12,"div",18)(13,"div",19),a(14),i(),r(15,"div",20),a(16,"Gesamtumsatz"),i()()(),r(17,"div",16)(18,"div",17),a(19,"\u{1F3EA}"),i(),r(20,"div",18)(21,"div",19),a(22),i(),r(23,"div",20),a(24,"Aktive Shops"),i()()()()),o&2){let e=m();l(6),_(e.getTotalOrders()),l(8),x("\u20AC",e.getTotalRevenue().toFixed(2),""),l(8),_(e.allShops.length)}}function Il(o,t){if(o&1&&(r(0,"option",21),a(1),i()),o&2){let e=t.$implicit;p("value",e.id),l(),V("",e.name," (",e.city||"Keine Stadt",")")}}function Al(o,t){o&1&&(r(0,"div",22)(1,"p"),a(2,"\u23F3 Lade Bestellungen..."),i()())}function Dl(o,t){o&1&&(r(0,"div",22)(1,"p"),a(2,"Keine Bestellungen gefunden."),i()())}function zl(o,t){o&1&&(r(0,"div",23)(1,"p",24),a(2," \u{1F4A1} "),r(3,"em"),a(4,"Tipp: Wischen Sie nach links/rechts und oben/unten, um alle Informationen zu sehen."),i()()())}function Tl(o,t){if(o&1&&(r(0,"span"),a(1),i()),o&2){let e=m(2).$implicit;l(),x("E-Mail: ",e.clientInfo.email,"")}}function Ll(o,t){if(o&1&&(Fe(0),r(1,"strong"),a(2),i(),P(3,"br"),a(4),P(5,"br"),a(6),P(7,"br"),a(8),P(9,"br"),f(10,Tl,2,1,"span",35),Re()),o&2){let e=m().$implicit;l(2),V("",e.clientInfo.firstName," ",e.clientInfo.lastName,""),l(2),V(" ",e.clientInfo.street," ",e.clientInfo.number,""),l(2),V(" ",e.clientInfo.plz," ",e.clientInfo.city,""),l(2),x(" Tel: ",e.clientInfo.phone,""),l(2),p("ngIf",e.clientInfo.email)}}function Fl(o,t){o&1&&(r(0,"span",36),a(1,"Keine Kundeninfo"),i())}function Rl(o,t){if(o&1&&(r(0,"li"),a(1),i()),o&2){let e=t.$implicit;l(),_(e.name)}}function Bl(o,t){if(o&1&&(r(0,"li"),a(1),i()),o&2){let e=t.$implicit;l(),_(e.quantity)}}function Nl(o,t){o&1&&(r(0,"span",30),a(1,"\u{1F3EA} Abholung"),i())}function Gl(o,t){o&1&&(r(0,"span",37),a(1,"\u{1F69A} Lieferung"),i())}function Vl(o,t){o&1&&(r(0,"span",36),a(1,"-"),i())}function Ul(o,t){if(o&1&&(r(0,"tr")(1,"td")(2,"strong"),a(3),oe(4,"date"),i()(),r(5,"td")(6,"strong",30),a(7),i()(),r(8,"td"),f(9,Ll,11,8,"ng-container",31)(10,Fl,2,0,"ng-template",null,0,Ye),i(),r(12,"td")(13,"ul"),f(14,Rl,2,1,"li",26),i()(),r(15,"td")(16,"ul"),f(17,Bl,2,1,"li",26),i()(),r(18,"td")(19,"strong"),a(20),i()(),r(21,"td"),a(22),i(),r(23,"td"),f(24,Nl,2,0,"span",32)(25,Gl,2,0,"span",33)(26,Vl,2,0,"span",34),i()()),o&2){let e=t.$implicit,n=fe(11),s=m(3);l(3),_(Ee(4,11,e.createdAt==null?null:e.createdAt.toDate(),"HH:mm")),l(4),_(s.getShopName(e.shopId)),l(2),p("ngIf",e.clientInfo)("ngIfElse",n),l(5),p("ngForOf",e.products),l(3),p("ngForOf",e.products),l(3),x("\u20AC",e.total.toFixed(2),""),l(2),_(e.paymentMethod),l(2),p("ngIf",e.deliveryType==="abholung"),l(),p("ngIf",e.deliveryType==="lieferung"),l(),p("ngIf",!e.deliveryType)}}function Wl(o,t){if(o&1&&(Fe(0),r(1,"div",27)(2,"h3"),a(3),r(4,"span",28),a(5),i()()(),r(6,"table",29)(7,"thead")(8,"tr")(9,"th"),a(10,"Uhrzeit"),i(),r(11,"th"),a(12,"Shop"),i(),r(13,"th"),a(14,"Kunde"),i(),r(15,"th"),a(16,"Produkte"),i(),r(17,"th"),a(18,"Menge"),i(),r(19,"th"),a(20,"Gesamtbetrag (\u20AC)"),i(),r(21,"th"),a(22,"Zahlungsart"),i(),r(23,"th"),a(24,"Lieferart"),i()()(),r(25,"tbody"),f(26,Ul,27,14,"tr",26),i()(),Re()),o&2){let e=t.$implicit;l(3),x(" ",e.label," "),l(2),x("",e.orders.length," Bestellung(en)"),l(21),p("ngForOf",e.orders)}}function jl(o,t){if(o&1&&(r(0,"div",25),f(1,Wl,27,3,"ng-container",26),i()),o&2){let e=m();l(),p("ngForOf",e.groupedOrders)}}var ln=class o{currentUid=null;allOrders=[];filteredOrders=[];groupedOrders=[];allShops=[];selectedShopId="all";isLoading=!0;orderService=F(He);authService=F(T);afroshopService=F(U);router=F(R);ngOnInit(){this.authService.user$.subscribe(t=>{this.currentUid=t?.uid||null}),this.afroshopService.getAllAfroshops().subscribe(t=>{this.allShops=t.sort((e,n)=>e.name.localeCompare(n.name))}),this.orderService.getAllOrders().subscribe(t=>{this.allOrders=t,this.applyFilter(),this.isLoading=!1})}applyFilter(){this.selectedShopId==="all"?this.filteredOrders=this.allOrders:this.filteredOrders=this.allOrders.filter(t=>t.shopId===this.selectedShopId),this.groupOrdersByDay()}onShopFilterChange(){this.applyFilter()}getShopName(t){let e=this.allShops.find(n=>String(n.id)===String(t));return e?e.name:"Shop inconnu"}goToGallery(){this.router.navigate(["/gallery"])}goToAdmin(){this.router.navigate(["/admin"])}groupOrdersByDay(){let t=new Map,e=new Date;e.setHours(0,0,0,0);let n=new Date(e);n.setDate(n.getDate()-1),this.filteredOrders.forEach(s=>{let d=s.createdAt?.toDate();if(!d)return;let c=d.toLocaleDateString("de-DE");t.has(c)||t.set(c,[]),t.get(c).push(s)}),this.groupedOrders=Array.from(t.entries()).map(([s,d])=>{let c=d[0].createdAt?.toDate();c?.setHours(0,0,0,0);let g=s;return c?.getTime()===e.getTime()?g="\u{1F4C5} Heute - "+s:c?.getTime()===n.getTime()?g="\u{1F4C5} Gestern - "+s:g="\u{1F4C5} "+s,{date:s,orders:d,label:g}})}getTotalRevenue(){return this.filteredOrders.reduce((t,e)=>t+e.total,0)}getTotalOrders(){return this.filteredOrders.length}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=E({type:o,selectors:[["app-super-dashboard"]],decls:22,vars:7,consts:[["noClientInfo",""],[1,"dashboard-container"],[2,"font-size","1.5em"],[1,"super-admin-controls"],[1,"modern-btn","dashboard-return",3,"click"],[1,"modern-btn",3,"click"],["class","stats-container",4,"ngIf"],[1,"filter-section"],["for","shopFilter"],["id","shopFilter",1,"shop-filter",3,"ngModelChange","change","ngModel"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["class","dashboard-empty",4,"ngIf"],["class","dashboard-info",4,"ngIf"],["class","dashboard-table-wrapper",4,"ngIf"],[1,"stats-container"],[1,"stat-card"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[3,"value"],[1,"dashboard-empty"],[1,"dashboard-info"],[2,"color","#1e88e5","font-size","0.9rem","margin-bottom","0.5rem"],[1,"dashboard-table-wrapper"],[4,"ngFor","ngForOf"],[1,"date-separator"],[1,"order-count"],[1,"dashboard-table"],[2,"color","#1a8917"],[4,"ngIf","ngIfElse"],["style","color: #1a8917;",4,"ngIf"],["style","color: #ff6b35;",4,"ngIf"],["style","color: #888;",4,"ngIf"],[4,"ngIf"],[2,"color","#888"],[2,"color","#ff6b35"]],template:function(e,n){e&1&&(r(0,"div",1)(1,"h2")(2,"span",2),a(3,"\u{1F30D}"),i(),a(4," Super Admin Dashboard - Toutes les Commandes"),i(),r(5,"div",3)(6,"button",4),b("click",function(){return n.goToAdmin()}),a(7,"\u2190 Zur\xFCck zur Admin"),i(),r(8,"button",5),b("click",function(){return n.goToGallery()}),a(9,"Zur Gallery"),i()(),f(10,El,25,3,"div",6),r(11,"div",7)(12,"label",8),a(13,"\u{1F50D} Filtern nach Shop:"),i(),r(14,"select",9),M("ngModelChange",function(d){return C(n.selectedShopId,d)||(n.selectedShopId=d),d}),b("change",function(){return n.onShopFilterChange()}),r(15,"option",10),a(16,"\u{1F4CA} Alle Shops anzeigen"),i(),f(17,Il,2,3,"option",11),i()(),f(18,Al,3,0,"div",12)(19,Dl,3,0,"div",12)(20,zl,5,0,"div",13)(21,jl,2,1,"div",14),i()),e&2&&(l(10),p("ngIf",!n.isLoading),l(4),y("ngModel",n.selectedShopId),l(3),p("ngForOf",n.allShops),l(),p("ngIf",n.isLoading),l(),p("ngIf",!n.isLoading&&n.filteredOrders.length===0),l(),p("ngIf",!n.isLoading&&n.filteredOrders.length>0),l(),p("ngIf",!n.isLoading&&n.filteredOrders.length>0))},dependencies:[A,H,D,Ft,$,Ve,Ue,Ge,ne,ie],styles:['@charset "UTF-8";.dashboard-container[_ngcontent-%COMP%]{max-width:1200px;margin:1.2rem auto;padding:1rem;box-sizing:border-box;background:transparent;min-width:0;overflow-x:hidden}.dashboard-empty[_ngcontent-%COMP%]{text-align:center;color:#666;padding:2rem 1rem}.dashboard-info[_ngcontent-%COMP%]{text-align:center;padding:.5rem 1rem;background:linear-gradient(135deg,#e3f2fd,#bbdefb);border-radius:8px;margin-bottom:1rem;animation:_ngcontent-%COMP%_fadeIn .5s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.super-admin-controls[_ngcontent-%COMP%]{display:flex;gap:1.2rem;margin-bottom:2rem;flex-wrap:wrap;justify-content:center}.super-admin-controls[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{padding:.9rem 1.8rem;font-size:1.05rem;font-weight:600;border-radius:12px;border:none;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px #0000001a;color:#fff}.super-admin-controls[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 20px #00000026}.super-admin-controls[_ngcontent-%COMP%]   .modern-btn.dashboard-return[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e74c3c,#c0392b)}.super-admin-controls[_ngcontent-%COMP%]   .modern-btn.dashboard-return[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ec7063,#e74c3c)}.super-admin-controls[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]:not(.dashboard-return){background:linear-gradient(135deg,#3498db,#2980b9)}.super-admin-controls[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]:not(.dashboard-return):hover{background:linear-gradient(135deg,#5dade2,#3498db)}.stats-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:12px;padding:1.5rem;box-shadow:0 4px 12px #00000014;display:flex;align-items:center;gap:1.2rem;transition:transform .2s,box-shadow .2s}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 6px 20px #0000001f}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:2.5rem;line-height:1}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{flex:1}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#1a8917;line-height:1.2}.stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin-top:.3rem}.filter-section[_ngcontent-%COMP%]{background:#f8f9fa;padding:1.2rem 1.5rem;border-radius:10px;margin-bottom:1.5rem;display:flex;align-items:center;gap:1rem;flex-wrap:wrap}.filter-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:1rem}.filter-section[_ngcontent-%COMP%]   .shop-filter[_ngcontent-%COMP%]{flex:1;min-width:250px;padding:.7rem 1rem;border:2px solid #ddd;border-radius:8px;font-size:1rem;background:#fff;cursor:pointer;transition:border-color .2s}.filter-section[_ngcontent-%COMP%]   .shop-filter[_ngcontent-%COMP%]:hover{border-color:#1a8917}.filter-section[_ngcontent-%COMP%]   .shop-filter[_ngcontent-%COMP%]:focus{outline:none;border-color:#1a8917;box-shadow:0 0 0 3px #1a89171a}.date-separator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#1a8917,#27ae60);color:#fff;padding:.8rem 1.5rem;border-radius:10px;margin:1.5rem 0 1rem;box-shadow:0 4px 12px #1a891733}.date-separator[_ngcontent-%COMP%]:first-child{margin-top:0}.date-separator[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:700;display:flex;align-items:center;gap:1rem;flex-wrap:wrap}.date-separator[_ngcontent-%COMP%]   .order-count[_ngcontent-%COMP%]{background:#ffffff40;padding:.35rem .8rem;border-radius:20px;font-size:.9rem;font-weight:600;white-space:nowrap}.dashboard-table-wrapper[_ngcontent-%COMP%]{width:100%;overflow-x:auto;overflow-y:visible;-webkit-overflow-scrolling:touch;border-radius:12px;background:transparent;padding:0;position:relative;scrollbar-width:thin;scrollbar-color:rgba(30,136,229,.3) rgba(0,0,0,.05)}.dashboard-table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px;height:10px}.dashboard-table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000000d;border-radius:10px}.dashboard-table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#1e88e54d;border-radius:10px;transition:background .2s}.dashboard-table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#1e88e580}.dashboard-table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background:#0000000d}.dashboard-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;min-width:800px;table-layout:auto;white-space:nowrap;background:#fff;box-shadow:0 4px 12px #00000014;border-radius:8px;margin-bottom:1.5rem;overflow:hidden}.dashboard-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dashboard-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.8rem 1rem;border-bottom:1px solid rgba(0,0,0,.06);text-align:left;vertical-align:top;font-size:.95rem}.dashboard-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), .dashboard-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3), .dashboard-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){white-space:normal;word-wrap:break-word;max-width:250px}.dashboard-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#00000004}.dashboard-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.1rem;max-width:320px;overflow-wrap:anywhere}@media (max-width: 800px){.dashboard-container[_ngcontent-%COMP%]{padding:.5rem;margin:.5rem auto}.dashboard-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem}.super-admin-controls[_ngcontent-%COMP%]{gap:.8rem}.super-admin-controls[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{padding:.7rem 1.2rem;font-size:.95rem;width:100%}.stats-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.stat-card[_ngcontent-%COMP%]{padding:1rem}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:2rem}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem}.filter-section[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;padding:1rem}.filter-section[_ngcontent-%COMP%]   .shop-filter[_ngcontent-%COMP%]{width:100%;min-width:unset}.date-separator[_ngcontent-%COMP%]{padding:.7rem 1rem;flex-direction:column;align-items:flex-start;gap:.5rem}.date-separator[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;flex-direction:column;align-items:flex-start;gap:.5rem;width:100%}.date-separator[_ngcontent-%COMP%]   .order-count[_ngcontent-%COMP%]{align-self:flex-start}.dashboard-table-wrapper[_ngcontent-%COMP%]{max-height:calc(100vh - 180px);padding:.5rem;border-radius:8px}.dashboard-table[_ngcontent-%COMP%]{min-width:700px;font-size:.85rem}.dashboard-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dashboard-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.6rem .7rem;font-size:.85rem}.dashboard-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), .dashboard-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3), .dashboard-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){max-width:180px}.dashboard-table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px}}']})};var Nr=[{path:"",redirectTo:"/gallery",pathMatch:"full"},{path:"shop/:id",component:on},{path:"about",loadComponent:()=>import("./chunk-AZZJRPRP.js").then(o=>o.AboutComponent)},{path:"kontakt",loadComponent:()=>import("./chunk-OVWIHP52.js").then(o=>o.KontaktComponent)},{path:"hilfe",loadComponent:()=>import("./chunk-JY7OKFMR.js").then(o=>o.HilfeComponent)},{path:"gallery",component:qt},{path:"afroshop/:id",component:Kt},{path:"add-afroshop",component:St,canActivate:[Je]},{path:"edit-afroshop/:id",component:St,canActivate:[Je]},{path:"admin",component:tn,canActivate:[dt]},{path:"geocoding-diagnostic",component:nn,canActivate:[Je]},{path:"login",component:Zt},{path:"register",component:$t},{path:"privacy",component:Yt},{path:"terms",component:Xt},{path:"impressum",component:Qt},{path:"add-product",component:rn,canActivate:[Je]},{path:"payment",component:an},{path:"dashboard/:id",component:sn,canActivate:[dt]},{path:"super-dashboard",component:ln,canActivate:[dt]},{path:"**",redirectTo:"/gallery"}];Mt();var Gr={providers:[Xn({eventCoalescing:!0}),ci(Nr),ii(),si(ai()),ki(()=>Ei(Te.firebase)),ji(()=>Ki()),Ti(()=>Ri()),Or(()=>Er())]};function Hl(o,t){if(o&1){let e=k();r(0,"div",1)(1,"span"),a(2," Diese Website verwendet Cookies f\xFCr Google Analytics, um das Nutzererlebnis zu verbessern. Mehr erfahren in unserer Datenschutzerkl\xE4rung. "),i(),r(3,"button",2),b("click",function(){u(e);let s=m();return h(s.accept())}),a(4,"Akzeptieren"),i(),r(5,"button",2),b("click",function(){u(e);let s=m();return h(s.decline())}),a(6,"Ablehnen"),i()()}}var dn=class o{consentGiven=localStorage.getItem("cookie_consent")==="true";showBanner=!this.consentGiven;accept(){localStorage.setItem("cookie_consent","true"),this.showBanner=!1,this.loadAnalytics()}decline(){localStorage.setItem("cookie_consent","false"),this.showBanner=!1}loadAnalytics(){if(!window.gaLoaded){let t=document.createElement("script");t.src="https://www.googletagmanager.com/gtag/js?id=G-4VZ4WFYE9M",t.async=!0,document.head.appendChild(t),t.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","G-4VZ4WFYE9M",{anonymize_ip:!0}),window.gaLoaded=!0}}}ngOnInit(){this.consentGiven&&this.loadAnalytics()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=E({type:o,selectors:[["app-cookie-consent"]],decls:1,vars:1,consts:[["class","cookie-banner",4,"ngIf"],[1,"cookie-banner"],[3,"click"]],template:function(e,n){e&1&&f(0,Hl,7,0,"div",0),e&2&&p("ngIf",n.showBanner)},dependencies:[A,D],styles:[".cookie-banner[_ngcontent-%COMP%]{position:fixed;left:0;right:0;bottom:0;background:#222;color:#fff;padding:16px 10px;display:flex;flex-direction:column;align-items:center;z-index:1000;box-shadow:0 -2px 10px #0003}.cookie-banner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:10px;text-align:center}.cookie-banner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:2px 6px;padding:8px 18px;border:none;border-radius:4px;background:#ff7b00;color:#fff;font-weight:600;cursor:pointer;transition:background .2s}.cookie-banner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background:#888}.cookie-banner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ff5722}"]})};function ql(o,t){o&1&&(r(0,"span",12),a(1,"\u2713"),i())}function Kl(o,t){if(o&1){let e=k();r(0,"button",8),b("click",function(){let s=u(e).$implicit,d=m(2);return h(d.selectLanguage(s))}),r(1,"span",9),a(2),i(),r(3,"span",10),a(4),i(),f(5,ql,2,0,"span",11),i()}if(o&2){let e=t.$implicit,n=m(2);nt("active",n.currentLanguage===e),Ze("aria-label",n.getLanguageName(e)),l(2),_(n.getFlag(e)),l(2),_(n.getLanguageName(e)),l(),p("ngIf",n.currentLanguage===e)}}function Zl(o,t){if(o&1&&(r(0,"div",6),f(1,Kl,6,6,"button",7),i()),o&2){let e=m();l(),p("ngForOf",e.languages)}}var cn=class o{languageService=F(re);languages=["de","en","fr"];currentLanguage="de";isOpen=!1;constructor(){this.languageService.currentLanguage$.subscribe(t=>{this.currentLanguage=t}),typeof document<"u"&&document.addEventListener("click",t=>{t.target.closest(".language-selector")||(this.isOpen=!1)})}toggleDropdown(){this.isOpen=!this.isOpen}selectLanguage(t){this.languageService.setLanguage(t),this.isOpen=!1}getLanguageName(t){return{de:"Deutsch",en:"English",fr:"Fran\xE7ais"}[t]}getFlag(t){return{de:"\u{1F1E9}\u{1F1EA}",en:"\u{1F1EC}\u{1F1E7}",fr:"\u{1F1EB}\u{1F1F7}"}[t]}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=E({type:o,selectors:[["app-language-selector"]],decls:9,vars:6,consts:[[1,"language-selector"],[1,"lang-toggle-btn",3,"click"],[1,"globe-icon"],[1,"current-lang"],[1,"arrow"],["class","lang-dropdown",4,"ngIf"],[1,"lang-dropdown"],["class","lang-option",3,"active","click",4,"ngFor","ngForOf"],[1,"lang-option",3,"click"],[1,"flag"],[1,"lang-name"],["class","checkmark",4,"ngIf"],[1,"checkmark"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"button",1),b("click",function(){return n.toggleDropdown()}),r(2,"span",2),a(3,"\u{1F310}"),i(),r(4,"span",3),a(5),i(),r(6,"span",4),a(7,"\u25BC"),i()(),f(8,Zl,2,1,"div",5),i()),e&2&&(l(),Ze("aria-label","Select language")("aria-expanded",n.isOpen),l(4),_(n.currentLanguage.toUpperCase()),l(),nt("open",n.isOpen),l(2),p("ngIf",n.isOpen))},dependencies:[A,H,D],styles:[".language-selector[_ngcontent-%COMP%]{position:relative}.lang-toggle-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.6rem 1rem;background:#fffffff2;border:2px solid #ddd;border-radius:8px;cursor:pointer;transition:all .3s ease;font-weight:600;font-size:.9rem;color:#333;box-shadow:0 2px 8px #0000001a}.lang-toggle-btn[_ngcontent-%COMP%]:hover{border-color:#1a8917;transform:translateY(-2px);box-shadow:0 4px 12px #1a891733}.globe-icon[_ngcontent-%COMP%]{font-size:1.2rem}.current-lang[_ngcontent-%COMP%]{font-weight:700;color:#1a8917}.arrow[_ngcontent-%COMP%]{font-size:.7rem;transition:transform .3s ease;color:#666}.arrow.open[_ngcontent-%COMP%]{transform:rotate(180deg)}.lang-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .5rem);right:0;background:#fff;border:2px solid #ddd;border-radius:10px;box-shadow:0 4px 20px #00000026;min-width:180px;overflow:hidden;z-index:1000;animation:_ngcontent-%COMP%_slideDown .3s ease}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.lang-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;width:100%;padding:.9rem 1.2rem;border:none;background:#fff;cursor:pointer;transition:all .2s ease;font-size:.95rem;text-align:left;color:#333}.lang-option[_ngcontent-%COMP%]:hover{background:#f0f8f0}.lang-option.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e8f5e9,#c8e6c9);font-weight:600}.flag[_ngcontent-%COMP%]{font-size:1.3rem}.lang-name[_ngcontent-%COMP%]{flex:1;font-weight:500}.checkmark[_ngcontent-%COMP%]{color:#1a8917;font-weight:700;font-size:1.1rem}@media (max-width: 768px){.lang-toggle-btn[_ngcontent-%COMP%]{padding:.4rem .6rem;font-size:.8rem;gap:.3rem}.globe-icon[_ngcontent-%COMP%]{font-size:1rem}.current-lang[_ngcontent-%COMP%]{display:none}.lang-dropdown[_ngcontent-%COMP%]{min-width:150px;right:-10px}.lang-option[_ngcontent-%COMP%]{padding:.7rem .9rem;font-size:.85rem}.flag[_ngcontent-%COMP%]{font-size:1.1rem}}"]})};var $l=["*"],Yl=o=>({active:o});function Xl(o,t){if(o&1&&P(0,"div",13),o&2){let e=t.$implicit,n=t.index,s=m();qn("background-image","url("+e+")"),p("ngClass",Yn(3,Yl,n===s.currentSlide))}}function Ql(o,t){if(o&1&&(r(0,"div",14)(1,"span",15),a(2),i()()),o&2){let e=m();l(2),x("Hallo ",e.displayName,"")}}var pn=class o{constructor(t,e){this.authService=t;this.languageService=e}slideshowImages=["/assets/header-bg/Alloco2.jpg","/assets/header-bg/Atchieke.jpg","/assets/header-bg/Attieke.jpeg","/assets/header-bg/Avocados.jpg","/assets/header-bg/Bissap.png","/assets/header-bg/Chips2.jpg","/assets/header-bg/foutou.jpg","/assets/header-bg/fufu.jpg","/assets/header-bg/Guinness.jpg","/assets/header-bg/Ignam.jpg","/assets/header-bg/NIDO.jpg","/assets/header-bg/Schill.jpg","/assets/header-bg/Vimto.jpg","/assets/header-bg/Getr\xE4nke.jpg","/assets/header-bg/vitamalt.jpg","/assets/header-bg/Zitronen.jpg"];currentSlide=0;displayName=null;welcomeMessage="Verbinde dich mit der afrikanischen Community in Deutschland";userSub=null;langSub=null;ngOnInit(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slideshowImages.length},5e3),this.userSub=this.authService.user$.subscribe(t=>{t?this.displayName=t.displayName&&t.displayName.trim()!==""?t.displayName:t.email||null:this.displayName=null}),this.langSub=this.languageService.currentLanguage$.subscribe(()=>{this.updateWelcomeMessage()})}updateWelcomeMessage(){let t={de:"Verbinde dich mit der afrikanischen Community in Europa",en:"Connect with the African community in Europe",fr:"Connectez-vous avec la communaut\xE9 africaine en Europe"};this.welcomeMessage=t[this.languageService.getCurrentLanguage()]}ngOnDestroy(){this.userSub?.unsubscribe(),this.langSub?.unsubscribe()}static \u0275fac=function(e){return new(e||o)(w(T),w(re))};static \u0275cmp=E({type:o,selectors:[["app-header"]],ngContentSelectors:$l,decls:18,vars:3,consts:[[1,"app-header"],[1,"header-background"],[1,"header-slideshow"],["class","header-slide",3,"ngClass","backgroundImage",4,"ngFor","ngForOf"],[1,"header-overlay"],[1,"header-content"],[1,"header-left"],["routerLink","/gallery",1,"logo-link"],[1,"logo-title"],[1,"rotating-globe"],["class","header-welcome",4,"ngIf"],[1,"welcome-message"],[1,"header-right"],[1,"header-slide",3,"ngClass"],[1,"header-welcome"],[1,"welcome-text"]],template:function(e,n){e&1&&(Dt(),r(0,"header",0)(1,"div",1)(2,"div",2),f(3,Xl,1,5,"div",3),i(),P(4,"div",4),i(),r(5,"div",5)(6,"div",6)(7,"a",7)(8,"h1",8)(9,"span",9),a(10,"\u{1F30D}"),i(),a(11," AfroConnect"),i()(),f(12,Ql,3,1,"div",10),r(13,"p",11),a(14),i()(),r(15,"div",12),P(16,"app-language-selector"),zt(17),i()()()),e&2&&(l(3),p("ngForOf",n.slideshowImages),l(9),p("ngIf",n.displayName),l(2),_(n.welcomeMessage))},dependencies:[A,Qn,H,D,cn],styles:['@charset "UTF-8";.app-header[_ngcontent-%COMP%]{position:relative;height:320px;color:#fff;overflow:hidden;box-shadow:0 2px 8px #3182ce21}.header-background[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:1;overflow:hidden;background:linear-gradient(135deg,#4a90e2 60%,#50c9ce)}.header-slideshow[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%}.header-slide[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;background-size:cover;background-position:center;opacity:0;transform:scale(1.05);transition:opacity 1.5s ease,transform 6s ease;will-change:opacity,transform}.header-slide.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1);z-index:2}.header-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000073;z-index:3}.header-content[_ngcontent-%COMP%]{position:relative;z-index:4;display:flex;flex-direction:row;align-items:center;justify-content:space-between;max-width:1200px;margin:0 auto;padding:1rem 2rem}.header-content[_ngcontent-%COMP%]   app-burger-menu[_ngcontent-%COMP%]{margin-right:2rem}.header-right[_ngcontent-%COMP%]{position:absolute;top:1rem;right:2rem;display:flex;align-items:center;gap:1rem}.logo-link[_ngcontent-%COMP%]{text-decoration:none;color:#fff;transition:all .3s ease}.logo-link[_ngcontent-%COMP%]:hover   h1[_ngcontent-%COMP%]{text-shadow:0 2px 10px rgba(255,255,255,.4)}.header-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%}.logo-title[_ngcontent-%COMP%]{font-size:2.3rem;margin:0;text-align:center;color:#4a90e2;display:inline-block;line-height:1.1;padding-bottom:10px}.header-welcome[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:center;height:40px;margin-top:.25rem}.welcome-text[_ngcontent-%COMP%]{font-size:1rem;color:#fff;background:#00000040;padding:.25rem .5rem;border-radius:6px}.welcome-message[_ngcontent-%COMP%]{text-align:center}']})};var Jl=["burgerBtn"],ed=["menuPanel"],td=["closeBtn"];function nd(o,t){if(o&1){let e=k();r(0,"div",7),b("click",function(){u(e);let s=m();return h(s.closeMenu())}),i()}}function id(o,t){if(o&1){let e=k();r(0,"nav",8,1)(2,"button",9,2),b("click",function(){u(e);let s=m();return h(s.closeMenu())}),a(4,"\xD7"),i(),r(5,"ul")(6,"li")(7,"a",10),b("click",function(){u(e);let s=m();return h(s.closeMenu())}),a(8),i()(),r(9,"li")(10,"a",11),b("click",function(){u(e);let s=m();return h(s.closeMenu())}),a(11),i()(),r(12,"li")(13,"a",12),b("click",function(){u(e);let s=m();return h(s.closeMenu())}),a(14),i()(),r(15,"li")(16,"a",13),b("click",function(){u(e);let s=m();return h(s.closeMenu())}),a(17),i()(),r(18,"li")(19,"a",14),b("click",function(){u(e);let s=m();return h(s.closeMenu())}),a(20),i()(),r(21,"li")(22,"a",15),b("click",function(){u(e);let s=m();return h(s.closeMenu())}),a(23),i()(),r(24,"li")(25,"a",16),b("click",function(){u(e);let s=m();return h(s.closeMenu())}),a(26),i()(),r(27,"li")(28,"a",17),b("click",function(){u(e);let s=m();return h(s.closeMenu())}),a(29),i()()()()}if(o&2){let e=m();Ze("aria-hidden",!e.menuOpen),l(2),Ze("aria-label",e.menuItems.closeMenu),l(6),_(e.menuItems.about),l(3),_(e.menuItems.addShop),l(3),_(e.menuItems.gallery),l(3),_(e.menuItems.contact),l(3),_(e.menuItems.impressum),l(3),_(e.menuItems.terms),l(3),_(e.menuItems.privacy),l(3),_(e.menuItems.help)}}var mn=class o{constructor(t){this.languageService=t}menuOpen=!1;langSub;menuItems={about:"\xDCber uns",addShop:"Gesch\xE4ft hinzuf\xFCgen",gallery:"Galerie",contact:"Kontakt",impressum:"Impressum",terms:"AGB",privacy:"Datenschutz",help:"Hilfe",closeMenu:"Men\xFC schlie\xDFen",openMenu:"Men\xFC \xF6ffnen"};burgerBtn;menuPanel;closeBtn;ngOnInit(){this.langSub=this.languageService.currentLanguage$.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}ngOnDestroy(){this.langSub?.unsubscribe()}updateTranslations(){this.menuItems={about:this.languageService.translate("nav.about"),addShop:this.languageService.translate("nav.addShop"),gallery:this.languageService.translate("nav.gallery"),contact:this.languageService.translate("nav.contact"),impressum:this.languageService.translate("nav.impressum"),terms:this.languageService.translate("nav.terms"),privacy:this.languageService.translate("nav.privacy"),help:this.languageService.translate("nav.help"),closeMenu:this.languageService.translate("nav.closeMenu"),openMenu:this.languageService.translate("nav.openMenu")}}toggleMenu(){this.menuOpen=!this.menuOpen,this.menuOpen?(setTimeout(()=>this.trapFocus(),50),document.addEventListener("keydown",this.handleKeydown,!0)):(this.releaseFocus(),document.removeEventListener("keydown",this.handleKeydown,!0))}closeMenu(){this.menuOpen=!1,this.releaseFocus(),document.removeEventListener("keydown",this.handleKeydown,!0)}trapFocus(){try{let e=this.menuPanel?.nativeElement?.querySelectorAll("a, button, [tabindex]:not([tabindex='-1'])");e&&e.length>0&&e[0].focus()}catch{}}releaseFocus(){try{this.burgerBtn?.nativeElement?.focus()}catch{}}handleKeydown=t=>{if(t.key==="Escape"){t.preventDefault(),this.closeMenu();return}if(t.key==="Tab")try{let e=this.menuPanel?.nativeElement;if(!e)return;let n=Array.from(e.querySelectorAll("a, button, [tabindex]:not([tabindex='-1'])")).filter(g=>!g.hasAttribute("disabled"));if(!n||n.length===0)return;let s=n[0],d=n[n.length-1],c=document.activeElement;t.shiftKey?(c===s||c===e)&&(t.preventDefault(),d.focus()):c===d&&(t.preventDefault(),s.focus())}catch{}};static \u0275fac=function(e){return new(e||o)(w(re))};static \u0275cmp=E({type:o,selectors:[["app-burger-menu"]],viewQuery:function(e,n){if(e&1&&(Lt(Jl,5),Lt(ed,5),Lt(td,5)),e&2){let s;mt(s=gt())&&(n.burgerBtn=s.first),mt(s=gt())&&(n.menuPanel=s.first),mt(s=gt())&&(n.closeBtn=s.first)}},decls:8,vars:4,consts:[["burgerBtn",""],["menuPanel",""],["closeBtn",""],[1,"burger-menu-container"],[1,"burger-icon",3,"click"],["class","menu-overlay",3,"click",4,"ngIf"],["class","menu-panel",4,"ngIf"],[1,"menu-overlay",3,"click"],[1,"menu-panel"],[1,"close-menu",3,"click"],["routerLink","/about","tabindex","0",3,"click"],["routerLink","/add-afroshop","tabindex","0",3,"click"],["routerLink","/gallery","tabindex","0",3,"click"],["routerLink","/kontakt","tabindex","0",3,"click"],["routerLink","/impressum","tabindex","0",3,"click"],["routerLink","/terms","tabindex","0",3,"click"],["routerLink","/privacy","tabindex","0",3,"click"],["routerLink","/hilfe","tabindex","0",3,"click"]],template:function(e,n){if(e&1){let s=k();r(0,"div",3)(1,"button",4,0),b("click",function(){return u(s),h(n.toggleMenu())}),P(3,"span")(4,"span")(5,"span"),i(),f(6,nd,1,0,"div",5)(7,id,30,10,"nav",6),i()}e&2&&(l(),Ze("aria-label",n.menuItems.openMenu)("aria-expanded",n.menuOpen),l(5),p("ngIf",n.menuOpen),l(),p("ngIf",n.menuOpen))},dependencies:[A,D,de,le],styles:[".burger-menu-container[_ngcontent-%COMP%]{position:fixed;top:1.2rem;left:1.2rem;z-index:10000}.burger-icon[_ngcontent-%COMP%]{background:none;border:none;display:flex;flex-direction:column;gap:5px;width:38px;height:38px;justify-content:center;align-items:center;cursor:pointer;padding:0}.burger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:28px;height:4px;background:#3182ce;border-radius:2px;transition:all .3s}.menu-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#3182ce1f;z-index:9999}.menu-panel[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:260px;height:100vh;background:#fff;box-shadow:2px 0 16px #3182ce1f;z-index:10000;padding:2rem 1.2rem 1.2rem;display:flex;flex-direction:column}.menu-panel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:2rem 0 0}.menu-panel[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:1.2rem}.menu-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3182ce;font-size:1.1rem;text-decoration:none;font-weight:500}.close-menu[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:#3182ce;align-self:flex-end;cursor:pointer}@media (max-width: 600px){.burger-menu-container[_ngcontent-%COMP%]{top:.7rem;left:.7rem}.menu-panel[_ngcontent-%COMP%]{width:80vw;min-width:180px;max-width:320px;padding:1.2rem .7rem .7rem}}@media (max-width: 800px){.menu-overlay[_ngcontent-%COMP%]{background:#0000008c;z-index:9999}.menu-panel[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:85%;max-width:320px;height:100vh;overflow-y:auto;background:#080a0ff2;backdrop-filter:blur(8px) saturate(120%);-webkit-backdrop-filter:blur(8px) saturate(120%);box-shadow:2px 0 30px #00000073;z-index:10000;padding:3rem 1.5rem 2rem;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;color:#fff;animation:slideIn .3s ease-out}@keyframes slideIn{0%{transform:translate(-100%)}to{transform:translate(0)}}.menu-panel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:2rem 0 0;padding:0;display:flex;flex-direction:column;gap:.8rem;align-items:flex-start;width:100%}.menu-panel[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0;width:100%;display:flex;justify-content:flex-start}.menu-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:1.1rem;text-decoration:none;font-weight:600;text-align:left;display:block;width:100%;padding:.6rem 1rem;border-radius:8px;background:linear-gradient(180deg,#ffffff08,#ffffff03);transition:background .18s ease,transform .12s ease;-webkit-tap-highlight-color:transparent}.menu-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .menu-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{background:linear-gradient(180deg,#ffffff0f,#ffffff05);transform:translateY(-2px)}.close-menu[_ngcontent-%COMP%]{position:absolute;right:1rem;top:.6rem;font-size:1.8rem;color:#fff;background:none;border:none;cursor:pointer;z-index:10001}.menu-panel[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.menu-panel[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff1f;border-radius:8px}}"]})};function rd(o,t){if(o&1){let e=k();Fe(0),r(1,"app-chatbot",12),b("toggleChat",function(){u(e);let s=m();return h(s.toggleChatFromParent())}),i(),Re()}if(o&2){let e=m();l(),p("showChat",e.showChat)}}var gn=class o{constructor(t,e,n){this.authService=t;this.router=e;this.languageService=n;this.user$=this.authService.user$,this.isMobile=window.innerWidth<=768,window.addEventListener("resize",()=>{this.isMobile=window.innerWidth<=768}),this.router.events.pipe(Nn(d=>d instanceof li)).subscribe(d=>{this.isHilfePage=d.urlAfterRedirects==="/hilfe"});let s=(Mt(),jr(Br));console.log("Firebase config utilis\xE9e:",s.environment.firebase)}langSub;showChat=!1;title="AfroConnect";user$;isMobile=!1;isHilfePage=!1;texts={copyright:"Verbinde dich mit deiner Community",privacy:"Datenschutz",terms:"AGB",imprint:"Impressum",contact:"Kontakt"};currentSlide=0;toggleChatFromParent(){this.showChat=!this.showChat,console.log("[AppComponent] toggleChatFromParent appel\xE9, showChat:",this.showChat)}ngOnInit(){this.langSub=this.languageService.currentLanguage$.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}updateTranslations(){this.texts={copyright:this.languageService.translate("footer.copyright"),privacy:this.languageService.translate("footer.privacy"),terms:this.languageService.translate("footer.terms"),imprint:this.languageService.translate("footer.imprint"),contact:this.languageService.translate("footer.contact")}}ngOnDestroy(){this.langSub?.unsubscribe()}logout(){return S(this,null,function*(){try{yield this.authService.logout(),this.router.navigate(["/gallery"])}catch(t){console.error("Erreur lors de la d\xE9connexion:",t)}})}static \u0275fac=function(e){return new(e||o)(w(T),w(R),w(re))};static \u0275cmp=E({type:o,selectors:[["app-root"]],decls:27,vars:6,consts:[[1,"app-container"],[1,"app-main"],[4,"ngIf"],[1,"app-footer"],[1,"footer-content"],[1,"footer-main"],[1,"footer-links"],["routerLink","/privacy",1,"footer-link"],[1,"footer-separator"],["routerLink","/terms",1,"footer-link"],["routerLink","/impressum",1,"footer-link"],["routerLink","/kontakt",1,"footer-link"],[3,"toggleChat","showChat"]],template:function(e,n){e&1&&(r(0,"div",0),P(1,"app-burger-menu")(2,"app-header"),r(3,"main",1),P(4,"router-outlet"),f(5,rd,2,1,"ng-container",2),i(),r(6,"footer",3)(7,"div",4)(8,"div",5)(9,"p"),a(10),i()(),r(11,"div",6)(12,"a",7),a(13),i(),r(14,"span",8),a(15,"|"),i(),r(16,"a",9),a(17),i(),r(18,"span",8),a(19,"|"),i(),r(20,"a",10),a(21),i(),r(22,"span",8),a(23,"|"),i(),r(24,"a",11),a(25),i()()()(),P(26,"app-cookie-consent"),i()),e&2&&(l(5),p("ngIf",!n.isMobile||n.isMobile&&n.isHilfePage),l(5),x("\xA9 2025 AfroConnect - ",n.texts.copyright,""),l(3),_(n.texts.privacy),l(4),_(n.texts.terms),l(4),_(n.texts.imprint),l(4),_(n.texts.contact))},dependencies:[A,D,di,de,le,dn,Ji,pn,mn],styles:[".app-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.app-header[_ngcontent-%COMP%]{position:relative;height:300px;color:#fff;padding:var(--spacing-lg);box-shadow:var(--shadow-sm);overflow:hidden}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto}.logo-link[_ngcontent-%COMP%]{text-decoration:none;color:inherit;transition:all .3s ease;cursor:pointer;border-radius:var(--border-radius);padding:var(--spacing-xs);margin:calc(-1 * var(--spacing-xs))}.logo-link[_ngcontent-%COMP%]:hover{background:#ffffff1a;transform:translateY(-2px)}.logo-link[_ngcontent-%COMP%]:active{transform:translateY(0)}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:2.5rem;font-weight:300;transition:all .3s ease}.logo-link[_ngcontent-%COMP%]:hover   h1[_ngcontent-%COMP%]{color:#fff;text-shadow:0 2px 10px rgba(255,255,255,.3)}.welcome-message[_ngcontent-%COMP%]{margin:.5rem 0 0;font-size:1.2rem;opacity:.9}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-md)}.user-menu[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm)}.user-greeting[_ngcontent-%COMP%]{font-size:.9rem;opacity:.9}.logout-btn[_ngcontent-%COMP%]{background:#fff3;color:#fff;border:1px solid rgba(255,255,255,.3);padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--border-radius);cursor:pointer;transition:all .3s ease;font-size:.9rem}.logout-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:translateY(-1px)}.auth-buttons[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm)}.auth-link[_ngcontent-%COMP%]{padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--border-radius);text-decoration:none;font-size:.9rem;font-weight:500;transition:all .3s ease}.login-link[_ngcontent-%COMP%]{color:#fff;border:1px solid rgba(255,255,255,.3);background:#ffffff1a}.login-link[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-1px)}.register-link[_ngcontent-%COMP%]{background:#fff;color:var(--primary-color);border:1px solid white}.register-link[_ngcontent-%COMP%]:hover{background:#ffffffe6;transform:translateY(-1px)}.header-background[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;overflow:hidden;z-index:1}.header-slideshow[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:1}.header-slide[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;background-size:cover;background-position:center;opacity:0;transition:opacity 1.2s ease}.header-slide.active[_ngcontent-%COMP%]{opacity:1;transition:opacity 1.2s ease}.header-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;z-index:2;height:100%;width:100%;pointer-events:none}@media (min-width: 1024px){.header-content[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 2rem;gap:2rem}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:400;letter-spacing:1px;text-align:left}.welcome-message[_ngcontent-%COMP%]{font-size:1.3rem;margin-top:.5rem;text-align:left}.app-main[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:2.5rem 2rem;background:var(--background-light);border-radius:18px;box-shadow:0 2px 24px #00000012}.features[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:2.5rem}.feature-card[_ngcontent-%COMP%]{padding:2.5rem;font-size:1.1rem}.app-footer[_ngcontent-%COMP%]{font-size:1.1rem;padding:2rem 0}.footer-content[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 2rem}}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-sm);text-align:center}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.welcome-message[_ngcontent-%COMP%]{font-size:1rem}}.app-main[_ngcontent-%COMP%]{flex:1;padding:var(--spacing-lg);background-color:var(--background-light)}.content-section[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.content-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-dark);text-align:center;margin-bottom:var(--spacing-lg);font-size:2rem}.content-section[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center;color:#666;font-size:1.1rem;margin-bottom:3rem}.features[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:2rem;margin-top:2rem}.feature-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:10px;box-shadow:0 4px 15px #0000001a;text-align:center;transition:transform .3s ease,box-shadow .3s ease}.feature-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 25px #00000026}.feature-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#667eea;margin-top:0;font-size:1.3rem}.feature-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;line-height:1.6}.app-footer[_ngcontent-%COMP%]{background-color:#333;color:#fff;text-align:center;padding:1rem;margin-top:auto}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-sm);text-align:center}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.welcome-message[_ngcontent-%COMP%]{font-size:1rem;margin-top:var(--spacing-xs)}.auth-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-xs);width:100%}.auth-link[_ngcontent-%COMP%]{text-align:center;padding:var(--spacing-sm) var(--spacing-md)}}@media (max-width: 480px){.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.logo-link[_ngcontent-%COMP%]{padding:var(--spacing-sm);margin:calc(-1 * var(--spacing-sm))}.user-menu[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-xs);text-align:center}}.app-footer[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;padding:var(--spacing-lg) var(--spacing-md);margin-top:auto}.footer-content[_ngcontent-%COMP%]{max-width:var(--max-width);margin:0 auto;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:var(--spacing-sm)}.footer-main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem}.footer-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm)}.footer-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:.9rem;opacity:.8;transition:opacity .3s ease}.footer-link[_ngcontent-%COMP%]:hover{opacity:1;text-decoration:underline}.footer-separator[_ngcontent-%COMP%]{opacity:.5;font-size:.8rem}@media (max-width: 768px){.footer-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:var(--spacing-md)}.footer-links[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}}@media (max-width: 768px){.app-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.app-main[_ngcontent-%COMP%]{padding:1rem}.features[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.feature-card[_ngcontent-%COMP%]{padding:1.5rem}}"]})};ti(gn,Gr).catch(o=>console.error(o));
