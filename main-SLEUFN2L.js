import{A as Mi,Ab as Ze,B as wi,C as Si,D as ki,Db as Fi,E as Pi,F as Oi,G as Ei,Gb as Ri,H as Ii,I as Ai,Ja as zi,Kb as cn,Pa as _e,Rb as Le,Sb as Ie,T as Di,Ta as Ti,Za as Oe,a as ti,b as ln,c as ni,cc as dn,d as ii,db as Pt,e as oi,f as ri,fc as Fe,g as at,h as ai,i as si,ib as ge,j as li,k as ci,l as di,m as pi,mb as Li,n as st,o as mi,p as gi,q as ui,qb as Ee,r as hi,s as lt,t as fi,u as _i,v as bi,w as vi,x as xi,y as yi,z as Ci}from"./chunk-PKJKYDL4.js";import{a as Bi,b as ae,c as se,d as be,e as ve,f as le,g as xe,h as Ni,i as Gi,j as $e,k as Ye,l as Xe,m as ye,n as Vi,o as Ui,p as $}from"./chunk-WUX6HU5Y.js";import{a as Hn,b as qn,c as Kn,d as Zn,e as $n,f as Yn,g as Xn,h as Jn,i as ie,j as Qn,k as R,l as oe,m as ei,n as re,o as Wi}from"./chunk-W3FMQ5IM.js";import{j as Vn,k as Z,l as D,m as Ke,n as Un,o as Wn,p as I,s as jn}from"./chunk-SMJ4JNXM.js";import{$ as G,$a as an,A as me,B as Pn,Db as Pe,Ea as zn,Eb as r,Fb as k,Gb as O,Hb as Q,I as On,Ib as x,J as ze,Jb as y,Kb as C,La as Tn,Lb as Bn,M as He,Ma as ne,Mb as Nn,Nb as de,Ob as qe,Pa as c,Pb as Ve,Qb as rt,Ua as M,Ub as Gn,W as En,X as on,Za as E,_a as Ln,a as N,aa as In,b as V,ca as yt,cb as f,d as zo,e as To,ea as X,f as Lo,fa as q,ga as it,h as v,ha as An,jb as p,k as Ge,ka as Ct,kb as Fn,lb as sn,ma as ot,mb as Te,n as kn,na as u,nb as i,o as vt,oa as h,ob as n,pb as w,qb as Mt,ra as Dn,rb as wt,sb as S,v as xt,va as Se,vb as _,w as we,wa as ke,wb as m,xb as St,yb as kt,za as rn,zb as Rn}from"./chunk-ZJYVMLL3.js";var Eo={};To(Eo,{environment:()=>De});var De,ht=zo(()=>{"use strict";De={production:!1,firebase:{apiKey:"AIzaSyBY571lmuW24qnczKhCGORAGWg4gei8cek",authDomain:"afroconnect-a53a5.firebaseapp.com",projectId:"afroconnect-a53a5",storageBucket:"afroconnect-a53a5.firebasestorage.app",messagingSenderId:"341889512681",appId:"1:341889512681:web:e4073a27dded8eae9e2c78"},googleMapsApiKey:"AIzaSyAVTCyd8uLieVgnMHEygb5mm1xQKcjiOVk"}});var Yi="firebasestorage.googleapis.com",Xi="storageBucket",Fo=2*60*1e3,Ro=10*60*1e3;var U=class a extends ri{constructor(t,e,o=0){super(pn(t),`Firebase Storage: ${e} (${pn(t)})`),this.status_=o,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,a.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return pn(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},j=function(a){return a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment",a}(j||{});function pn(a){return"storage/"+a}function _n(){let a="An unknown error occurred, please check the error payload for server response.";return new U(j.UNKNOWN,a)}function Bo(a){return new U(j.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}function No(a){return new U(j.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Go(){let a="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new U(j.UNAUTHENTICATED,a)}function Vo(){return new U(j.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Uo(a){return new U(j.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}function Wo(){return new U(j.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jo(){return new U(j.CANCELED,"User canceled the upload/download.")}function Ho(a){return new U(j.INVALID_URL,"Invalid URL '"+a+"'.")}function qo(a){return new U(j.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function Ko(){return new U(j.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Xi+"' property when initializing the app?")}function Zo(){return new U(j.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $o(){return new U(j.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Yo(a){return new U(j.UNSUPPORTED_ENVIRONMENT,`${a} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function mn(a){return new U(j.INVALID_ARGUMENT,a)}function Ji(){return new U(j.APP_DELETED,"The Firebase app was deleted.")}function Xo(a){return new U(j.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function dt(a,t){return new U(j.INVALID_FORMAT,"String does not match format '"+a+"': "+t)}function ct(a){throw new U(j.INTERNAL_ERROR,"Internal error: "+a)}var he=class a{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let o;try{o=a.makeFromUrl(t,e)}catch{return new a(t,"")}if(o.path==="")return o;throw qo(t)}static makeFromUrl(t,e){let o=null,s="([A-Za-z0-9.\\-_]+)";function l(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}let d="(/(.*))?$",g=new RegExp("^gs://"+s+d,"i"),b={bucket:1,path:3};function P(te){te.path_=decodeURIComponent(te.path)}let A="v[A-Za-z0-9_]+",L=e.replace(/[.]/g,"\\."),B="(/([^?#]*).*)?$",K=new RegExp(`^https?://${L}/${A}/b/${s}/o${B}`,"i"),H={bucket:1,path:3},ce=e===Yi?"(?:storage.googleapis.com|storage.cloud.google.com)":e,F="([^?#]*)",je=new RegExp(`^https?://${ce}/${s}/${F}`,"i"),fe=[{regex:g,indices:b,postModify:l},{regex:K,indices:H,postModify:P},{regex:je,indices:{bucket:1,path:2},postModify:P}];for(let te=0;te<fe.length;te++){let bt=fe[te],tn=bt.regex.exec(t);if(tn){let Do=tn[bt.indices.bucket],nn=tn[bt.indices.path];nn||(nn=""),o=new a(Do,nn),bt.postModify(o);break}}if(o==null)throw Ho(t);return o}},gn=class{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}};function Jo(a,t,e){let o=1,s=null,l=null,d=!1,g=0;function b(){return g===2}let P=!1;function A(...F){P||(P=!0,t.apply(null,F))}function L(F){s=setTimeout(()=>{s=null,a(K,b())},F)}function B(){l&&clearTimeout(l)}function K(F,...je){if(P){B();return}if(F){B(),A.call(null,F,...je);return}if(b()||d){B(),A.call(null,F,...je);return}o<64&&(o*=2);let fe;g===1?(g=2,fe=0):fe=(o+Math.random())*1e3,L(fe)}let H=!1;function ce(F){H||(H=!0,B(),!P&&(s!==null?(F||(g=2),clearTimeout(s),L(0)):F||(g=1)))}return L(0),l=setTimeout(()=>{d=!0,ce(!0)},e),ce}function Qo(a){a(!1)}function er(a){return a!==void 0}function tr(a){return typeof a=="object"&&!Array.isArray(a)}function bn(a){return typeof a=="string"||a instanceof String}function ji(a){return vn()&&a instanceof Blob}function vn(){return typeof Blob<"u"}function Hi(a,t,e,o){if(o<t)throw mn(`Invalid value for '${a}'. Expected ${t} or greater.`);if(o>e)throw mn(`Invalid value for '${a}'. Expected ${e} or less.`)}function xn(a,t,e){let o=t;return e==null&&(o=`https://${t}`),`${e}://${o}/v0${a}`}function Qi(a){let t=encodeURIComponent,e="?";for(let o in a)if(a.hasOwnProperty(o)){let s=t(o)+"="+t(a[o]);e=e+s+"&"}return e=e.slice(0,-1),e}var Qe=function(a){return a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT",a}(Qe||{});function nr(a,t){let e=a>=500&&a<600,s=[408,429].indexOf(a)!==-1,l=t.indexOf(a)!==-1;return e||s||l}var un=class{constructor(t,e,o,s,l,d,g,b,P,A,L,B=!0,K=!1){this.url_=t,this.method_=e,this.headers_=o,this.body_=s,this.successCodes_=l,this.additionalRetryCodes_=d,this.callback_=g,this.errorCallback_=b,this.timeout_=P,this.progressCallback_=A,this.connectionFactory_=L,this.retry=B,this.isUsingEmulator=K,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,ce)=>{this.resolve_=H,this.reject_=ce,this.start_()})}start_(){let t=(o,s)=>{if(s){o(!1,new Je(!1,null,!0));return}let l=this.connectionFactory_();this.pendingConnection_=l;let d=g=>{let b=g.loaded,P=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(b,P)};this.progressCallback_!==null&&l.addUploadProgressListener(d),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(d),this.pendingConnection_=null;let g=l.getErrorCode()===Qe.NO_ERROR,b=l.getStatus();if(!g||nr(b,this.additionalRetryCodes_)&&this.retry){let A=l.getErrorCode()===Qe.ABORT;o(!1,new Je(!1,null,A));return}let P=this.successCodes_.indexOf(b)!==-1;o(!0,new Je(P,l))})},e=(o,s)=>{let l=this.resolve_,d=this.reject_,g=s.connection;if(s.wasSuccessCode)try{let b=this.callback_(g,g.getResponse());er(b)?l(b):l()}catch(b){d(b)}else if(g!==null){let b=_n();b.serverResponse=g.getErrorText(),this.errorCallback_?d(this.errorCallback_(g,b)):d(b)}else if(s.canceled){let b=this.appDelete_?Ji():jo();d(b)}else{let b=Wo();d(b)}};this.canceled_?e(!1,new Je(!1,null,!0)):this.backoffId_=Jo(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Qo(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Je=class{constructor(t,e,o){this.wasSuccessCode=t,this.connection=e,this.canceled=!!o}};function ir(a,t){t!==null&&t.length>0&&(a.Authorization="Firebase "+t)}function or(a,t){a["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function rr(a,t){t&&(a["X-Firebase-GMPID"]=t)}function ar(a,t){t!==null&&(a["X-Firebase-AppCheck"]=t)}function sr(a,t,e,o,s,l,d=!0,g=!1){let b=Qi(a.urlParams),P=a.url+b,A=Object.assign({},a.headers);return rr(A,t),ir(A,e),or(A,l),ar(A,o),new un(P,a.method,A,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,s,d,g)}function lr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function cr(...a){let t=lr();if(t!==void 0){let e=new t;for(let o=0;o<a.length;o++)e.append(a[o]);return e.getBlob()}else{if(vn())return new Blob(a);throw new U(j.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function dr(a,t,e){return a.webkitSlice?a.webkitSlice(t,e):a.mozSlice?a.mozSlice(t,e):a.slice?a.slice(t,e):null}function pr(a){if(typeof atob>"u")throw Yo("base-64");return atob(a)}var Ce={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},pt=class{constructor(t,e){this.data=t,this.contentType=e||null}};function mr(a,t){switch(a){case Ce.RAW:return new pt(eo(t));case Ce.BASE64:case Ce.BASE64URL:return new pt(to(a,t));case Ce.DATA_URL:return new pt(ur(t),hr(t))}throw _n()}function eo(a){let t=[];for(let e=0;e<a.length;e++){let o=a.charCodeAt(e);if(o<=127)t.push(o);else if(o<=2047)t.push(192|o>>6,128|o&63);else if((o&64512)===55296)if(!(e<a.length-1&&(a.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{let l=o,d=a.charCodeAt(++e);o=65536|(l&1023)<<10|d&1023,t.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|o&63)}else(o&64512)===56320?t.push(239,191,189):t.push(224|o>>12,128|o>>6&63,128|o&63)}return new Uint8Array(t)}function gr(a){let t;try{t=decodeURIComponent(a)}catch{throw dt(Ce.DATA_URL,"Malformed data URL.")}return eo(t)}function to(a,t){switch(a){case Ce.BASE64:{let s=t.indexOf("-")!==-1,l=t.indexOf("_")!==-1;if(s||l)throw dt(a,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ce.BASE64URL:{let s=t.indexOf("+")!==-1,l=t.indexOf("/")!==-1;if(s||l)throw dt(a,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=pr(t)}catch(s){throw s.message.includes("polyfill")?s:dt(a,"Invalid character found")}let o=new Uint8Array(e.length);for(let s=0;s<e.length;s++)o[s]=e.charCodeAt(s);return o}var Et=class{constructor(t){this.base64=!1,this.contentType=null;let e=t.match(/^data:([^,]+)?,/);if(e===null)throw dt(Ce.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let o=e[1]||null;o!=null&&(this.base64=fr(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-7):o),this.rest=t.substring(t.indexOf(",")+1)}};function ur(a){let t=new Et(a);return t.base64?to(Ce.BASE64,t.rest):gr(t.rest)}function hr(a){return new Et(a).contentType}function fr(a,t){return a.length>=t.length?a.substring(a.length-t.length)===t:!1}var It=class a{constructor(t,e){let o=0,s="";ji(t)?(this.data_=t,o=t.size,s=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),o=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),o=t.length),this.size_=o,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,e){if(ji(this.data_)){let o=this.data_,s=dr(o,t,e);return s===null?null:new a(s)}else{let o=new Uint8Array(this.data_.buffer,t,e-t);return new a(o,!0)}}static getBlob(...t){if(vn()){let e=t.map(o=>o instanceof a?o.data_:o);return new a(cr.apply(null,e))}else{let e=t.map(d=>bn(d)?mr(Ce.RAW,d).data:d.data_),o=0;e.forEach(d=>{o+=d.byteLength});let s=new Uint8Array(o),l=0;return e.forEach(d=>{for(let g=0;g<d.length;g++)s[l++]=d[g]}),new a(s,!0)}}uploadData(){return this.data_}};function no(a){let t;try{t=JSON.parse(a)}catch{return null}return tr(t)?t:null}function _r(a){if(a.length===0)return null;let t=a.lastIndexOf("/");return t===-1?"":a.slice(0,t)}function br(a,t){let e=t.split("/").filter(o=>o.length>0).join("/");return a.length===0?e:a+"/"+e}function io(a){let t=a.lastIndexOf("/",a.length-2);return t===-1?a:a.slice(t+1)}function vr(a,t){return t}var J=class{constructor(t,e,o,s){this.server=t,this.local=e||t,this.writable=!!o,this.xform=s||vr}},Ot=null;function xr(a){return!bn(a)||a.length<2?a:io(a)}function oo(){if(Ot)return Ot;let a=[];a.push(new J("bucket")),a.push(new J("generation")),a.push(new J("metageneration")),a.push(new J("name","fullPath",!0));function t(l,d){return xr(d)}let e=new J("name");e.xform=t,a.push(e);function o(l,d){return d!==void 0?Number(d):d}let s=new J("size");return s.xform=o,a.push(s),a.push(new J("timeCreated")),a.push(new J("updated")),a.push(new J("md5Hash",null,!0)),a.push(new J("cacheControl",null,!0)),a.push(new J("contentDisposition",null,!0)),a.push(new J("contentEncoding",null,!0)),a.push(new J("contentLanguage",null,!0)),a.push(new J("contentType",null,!0)),a.push(new J("metadata","customMetadata",!0)),Ot=a,Ot}function yr(a,t){function e(){let o=a.bucket,s=a.fullPath,l=new he(o,s);return t._makeStorageReference(l)}Object.defineProperty(a,"ref",{get:e})}function Cr(a,t,e){let o={};o.type="file";let s=e.length;for(let l=0;l<s;l++){let d=e[l];o[d.local]=d.xform(o,t[d.server])}return yr(o,a),o}function ro(a,t,e){let o=no(t);return o===null?null:Cr(a,o,e)}function Mr(a,t,e,o){let s=no(t);if(s===null||!bn(s.downloadTokens))return null;let l=s.downloadTokens;if(l.length===0)return null;let d=encodeURIComponent;return l.split(",").map(P=>{let A=a.bucket,L=a.fullPath,B="/b/"+d(A)+"/o/"+d(L),K=xn(B,e,o),H=Qi({alt:"media",token:P});return K+H})[0]}function wr(a,t){let e={},o=t.length;for(let s=0;s<o;s++){let l=t[s];l.writable&&(e[l.server]=a[l.local])}return JSON.stringify(e)}var At=class{constructor(t,e,o,s){this.url=t,this.method=e,this.handler=o,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function ao(a){if(!a)throw _n()}function Sr(a,t){function e(o,s){let l=ro(a,s,t);return ao(l!==null),l}return e}function kr(a,t){function e(o,s){let l=ro(a,s,t);return ao(l!==null),Mr(l,s,a.host,a._protocol)}return e}function so(a){function t(e,o){let s;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?s=Vo():s=Go():e.getStatus()===402?s=No(a.bucket):e.getStatus()===403?s=Uo(a.path):s=o,s.status=e.getStatus(),s.serverResponse=o.serverResponse,s}return t}function Pr(a){let t=so(a);function e(o,s){let l=t(o,s);return o.getStatus()===404&&(l=Bo(a.path)),l.serverResponse=s.serverResponse,l}return e}function Or(a,t,e){let o=t.fullServerUrl(),s=xn(o,a.host,a._protocol),l="GET",d=a.maxOperationRetryTime,g=new At(s,l,kr(a,e),d);return g.errorHandler=Pr(t),g}function Er(a,t){return a&&a.contentType||t&&t.type()||"application/octet-stream"}function Ir(a,t,e){let o=Object.assign({},e);return o.fullPath=a.path,o.size=t.size(),o.contentType||(o.contentType=Er(null,t)),o}function Ar(a,t,e,o,s){let l=t.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function g(){let fe="";for(let te=0;te<2;te++)fe=fe+Math.random().toString().slice(2);return fe}let b=g();d["Content-Type"]="multipart/related; boundary="+b;let P=Ir(t,o,s),A=wr(P,e),L="--"+b+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+A+`\r
--`+b+`\r
Content-Type: `+P.contentType+`\r
\r
`,B=`\r
--`+b+"--",K=It.getBlob(L,o,B);if(K===null)throw Zo();let H={name:P.fullPath},ce=xn(l,a.host,a._protocol),F="POST",je=a.maxUploadRetryTime,Ne=new At(ce,F,Sr(a,e),je);return Ne.urlParams=H,Ne.headers=d,Ne.body=K.uploadData(),Ne.errorHandler=so(t),Ne}var vl=256*1024;var qi=null,hn=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Qe.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Qe.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Qe.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,o,s,l){if(this.sent_)throw ct("cannot .send() more than once");if(ln(t)&&o&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(e,t,!0),l!==void 0)for(let d in l)l.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,l[d].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ct("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ct("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ct("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ct("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}},fn=class extends hn{initXhr(){this.xhr_.responseType="text"}};function lo(){return qi?qi():new fn}var et=class a{constructor(t,e){this._service=t,e instanceof he?this._location=e:this._location=he.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new a(t,e)}get root(){let t=new he(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return io(this._location.path)}get storage(){return this._service}get parent(){let t=_r(this._location.path);if(t===null)return null;let e=new he(this._location.bucket,t);return new a(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw Xo(t)}};function Dr(a,t,e){a._throwIfRoot("uploadBytes");let o=Ar(a.storage,a._location,oo(),new It(t,!0),e);return a.storage.makeRequestWithTokens(o,lo).then(s=>({metadata:s,ref:a}))}function zr(a){a._throwIfRoot("getDownloadURL");let t=Or(a.storage,a._location,oo());return a.storage.makeRequestWithTokens(t,lo).then(e=>{if(e===null)throw $o();return e})}function Tr(a,t){let e=br(a._location.path,t),o=new he(a._location.bucket,e);return new et(a.storage,o)}function Lr(a){return/^[A-Za-z]+:\/\//.test(a)}function Fr(a,t){return new et(a,t)}function co(a,t){if(a instanceof mt){let e=a;if(e._bucket==null)throw Ko();let o=new et(e,e._bucket);return t!=null?co(o,t):o}else return t!==void 0?Tr(a,t):a}function Rr(a,t){if(t&&Lr(t)){if(a instanceof mt)return Fr(a,t);throw mn("To use ref(service, url), the first argument must be a Storage instance.")}else return co(a,t)}function Ki(a,t){let e=t?.[Xi];return e==null?null:he.makeFromBucketSpec(e,a)}function Br(a,t,e,o={}){a.host=`${t}:${e}`;let s=ln(t);s&&(ni(`https://${a.host}/b`),oi("Storage",!0)),a._isUsingEmulator=!0,a._protocol=s?"https":"http";let{mockUserToken:l}=o;l&&(a._overrideAuthToken=typeof l=="string"?l:ii(l,a.app.options.projectId))}var mt=class{constructor(t,e,o,s,l,d=!1){this.app=t,this._authProvider=e,this._appCheckProvider=o,this._url=s,this._firebaseVersion=l,this._isUsingEmulator=d,this._bucket=null,this._host=Yi,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Fo,this._maxUploadRetryTime=Ro,this._requests=new Set,s!=null?this._bucket=he.makeFromBucketSpec(s,this._host):this._bucket=Ki(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=he.makeFromBucketSpec(this._url,t):this._bucket=Ki(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Hi("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Hi("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){return v(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let t=this._authProvider.getImmediate({optional:!0});if(t){let e=yield t.getToken();if(e!==null)return e.accessToken}return null})}_getAppCheckToken(){return v(this,null,function*(){if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=this._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new et(this,t)}_makeRequest(t,e,o,s,l=!0){if(this._deleted)return new gn(Ji());{let d=sr(t,this._appId,o,s,e,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}makeRequestWithTokens(t,e){return v(this,null,function*(){let[o,s]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,o,s).getPromise()})}},Zi="@firebase/storage",$i="0.13.14";var po="storage";function mo(a,t,e){return a=at(a),Dr(a,t,e)}function go(a){return a=at(a),zr(a)}function uo(a,t){return a=at(a),Rr(a,t)}function ho(a=pi(),t){a=at(a);let o=li(a,po).getImmediate({identifier:t}),s=ti("storage");return s&&fo(o,...s),o}function fo(a,t,e,o={}){Br(a,t,e,o)}function Nr(a,{instanceIdentifier:t}){let e=a.getProvider("app").getImmediate(),o=a.getProvider("auth-internal"),s=a.getProvider("app-check-internal");return new mt(e,o,s,t,di)}function Gr(){si(new ai(po,Nr,"PUBLIC").setMultipleInstances(!0)),st(Zi,$i,""),st(Zi,$i,"esm2017")}Gr();var Ue=class{constructor(t){return t}},_o="storage",yn=class{constructor(){return ui(_o)}};var Cn=new yt("angularfire2.storage-instances");function Vr(a,t){let e=gi(_o,a,t);return e&&new Ue(e)}function Ur(a){return(t,e)=>{let o=t.runOutsideAngular(()=>a(e));return new Ue(o)}}var Wr={provide:yn,deps:[[new it,Cn]]},jr={provide:Ue,useFactory:Vr,deps:[[new it,Cn],fi]};function bo(a,...t){return st("angularfire",mi.full,"gcs"),An([jr,Wr,{provide:Cn,useFactory:Ur(a),multi:!0,deps:[ke,Dn,hi,_i,[new it,Mi],[new it,xi],...t]}])}var vo=lt(go,!0);var xo=lt(ho,!0);var yo=lt(uo,!0,2);var Co=lt(mo,!0);var qr=["*"],ut=class{_ngZone;_pending=[];_listeners=[];_targetStream=new vt(void 0);_clearListeners(){for(let t of this._listeners)t.remove();this._listeners=[]}constructor(t){this._ngZone=t}getLazyEmitter(t){return this._targetStream.pipe(En(e=>{let o=new Ge(s=>{if(!e){this._pending.push({observable:o,observer:s});return}let l=e.addListener(t,d=>{this._ngZone.run(()=>s.next(d))});if(!l){s.complete();return}return this._listeners.push(l),()=>l.remove()});return o}))}setTarget(t){let e=this._targetStream.value;t!==e&&(e&&(this._clearListeners(),this._pending=[]),this._targetStream.next(t),this._pending.forEach(o=>o.observable.subscribe(o.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}},gt={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"},Mo="500px",wo="500px",Dt=(()=>{class a{_elementRef=q(rn);_ngZone=q(ke);_eventManager=new ut(q(ke));_mapEl;_existingAuthFailureCallback;googleMap;_isBrowser;height=Mo;width=wo;mapId;mapTypeId;set center(e){this._center=e}_center;set zoom(e){this._zoom=e}_zoom;set options(e){this._options=e||gt}_options=gt;mapInitialized=new Se;authFailure=new Se;boundsChanged=this._eventManager.getLazyEmitter("bounds_changed");centerChanged=this._eventManager.getLazyEmitter("center_changed");mapClick=this._eventManager.getLazyEmitter("click");mapDblclick=this._eventManager.getLazyEmitter("dblclick");mapDrag=this._eventManager.getLazyEmitter("drag");mapDragend=this._eventManager.getLazyEmitter("dragend");mapDragstart=this._eventManager.getLazyEmitter("dragstart");headingChanged=this._eventManager.getLazyEmitter("heading_changed");idle=this._eventManager.getLazyEmitter("idle");maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed");mapMousemove=this._eventManager.getLazyEmitter("mousemove");mapMouseout=this._eventManager.getLazyEmitter("mouseout");mapMouseover=this._eventManager.getLazyEmitter("mouseover");projectionChanged=this._eventManager.getLazyEmitter("projection_changed");mapRightclick=this._eventManager.getLazyEmitter("rightclick");tilesloaded=this._eventManager.getLazyEmitter("tilesloaded");tiltChanged=this._eventManager.getLazyEmitter("tilt_changed");zoomChanged=this._eventManager.getLazyEmitter("zoom_changed");constructor(){let e=q(zn);if(this._isBrowser=jn(e),this._isBrowser){let o=window;o.google,this._existingAuthFailureCallback=o.gm_authFailure,o.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(e){(e.height||e.width)&&this._setSize();let o=this.googleMap;o&&(e.options&&o.setOptions(this._combineOptions()),e.center&&this._center&&o.setCenter(this._center),e.zoom&&this._zoom!=null&&o.setZoom(this._zoom),e.mapTypeId&&this.mapTypeId&&o.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),google.maps.Map?this._initialize(google.maps.Map):this._ngZone.runOutsideAngular(()=>{google.maps.importLibrary("maps").then(e=>this._initialize(e.Map))}))}_initialize(e){this._ngZone.runOutsideAngular(()=>{this.googleMap=new e(this._mapEl,this._combineOptions()),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap)})}ngOnDestroy(){if(this.mapInitialized.complete(),this._eventManager.destroy(),this._isBrowser){let e=window;e.gm_authFailure=this._existingAuthFailureCallback}}fitBounds(e,o){this._assertInitialized(),this.googleMap.fitBounds(e,o)}panBy(e,o){this._assertInitialized(),this.googleMap.panBy(e,o)}panTo(e){this._assertInitialized(),this.googleMap.panTo(e)}panToBounds(e,o){this._assertInitialized(),this.googleMap.panToBounds(e,o)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_resolveMap(){return this.googleMap?Promise.resolve(this.googleMap):this.mapInitialized.pipe(He(1)).toPromise()}_setSize(){if(this._mapEl){let e=this._mapEl.style;e.height=this.height===null?"":So(this.height)||Mo,e.width=this.width===null?"":So(this.width)||wo}}_combineOptions(){let e=this._options||{};return V(N({},e),{center:this._center||e.center||gt.center,zoom:this._zoom??e.zoom??gt.zoom,mapTypeId:this.mapTypeId||e.mapTypeId||gt.mapTypeId,mapId:this.mapId||e.mapId})}_assertInitialized(){this.googleMap}static \u0275fac=function(o){return new(o||a)};static \u0275cmp=E({type:a,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapId:"mapId",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[ot],ngContentSelectors:qr,decls:2,vars:0,consts:[[1,"map-container"]],template:function(o,s){o&1&&(St(),w(0,"div",0),kt(1))},encapsulation:2,changeDetection:0})}return a})(),Kr=/([A-Za-z%]+)$/;function So(a){return a==null?"":Kr.test(a)?a:`${a}px`}var ko=(()=>{class a{_googleMap=q(Dt);_elementRef=q(rn);_ngZone=q(ke);_eventManager=new ut(q(ke));_options=new vt({});_position=new vt(void 0);_destroy=new kn;infoWindow;set options(e){this._options.next(e||{})}set position(e){this._position.next(e)}closeclick=this._eventManager.getLazyEmitter("closeclick");contentChanged=this._eventManager.getLazyEmitter("content_changed");domready=this._eventManager.getLazyEmitter("domready");positionChanged=this._eventManager.getLazyEmitter("position_changed");zindexChanged=this._eventManager.getLazyEmitter("zindex_changed");infoWindowInitialized=new Se;constructor(){}ngOnInit(){this._googleMap._isBrowser&&this._combineOptions().pipe(He(1)).subscribe(e=>{google.maps.InfoWindow?this._initialize(google.maps.InfoWindow,e):this._ngZone.runOutsideAngular(()=>{google.maps.importLibrary("maps").then(o=>{this._initialize(o.InfoWindow,e)})})})}_initialize(e,o){this._ngZone.runOutsideAngular(()=>{this.infoWindow=new e(o),this._eventManager.setTarget(this.infoWindow),this.infoWindowInitialized.emit(this.infoWindow),this._watchForOptionsChanges(),this._watchForPositionChanges()})}ngOnDestroy(){this._eventManager.destroy(),this._destroy.next(),this._destroy.complete(),this.infoWindow&&this.close()}close(){this._assertInitialized(),this.infoWindow.close()}getContent(){return this._assertInitialized(),this.infoWindow.getContent()||null}getPosition(){return this._assertInitialized(),this.infoWindow.getPosition()||null}getZIndex(){return this._assertInitialized(),this.infoWindow.getZIndex()}openAdvancedMarkerElement(e,o){this.open({getAnchor:()=>e},void 0,o)}open(e,o,s){this._assertInitialized();let l=e?e.getAnchor():void 0;(this.infoWindow.get("anchor")!==l||!l)&&(this._elementRef.nativeElement.style.display=s?"none":"",s&&this.infoWindow.setContent(s),this.infoWindow.open({map:this._googleMap.googleMap,anchor:l,shouldFocus:o}))}_combineOptions(){return Pn([this._options,this._position]).pipe(me(([e,o])=>V(N({},e),{position:o||e.position,content:this._elementRef.nativeElement})))}_watchForOptionsChanges(){this._options.pipe(on(this._destroy)).subscribe(e=>{this._assertInitialized(),this.infoWindow.setOptions(e)})}_watchForPositionChanges(){this._position.pipe(on(this._destroy)).subscribe(e=>{e&&(this._assertInitialized(),this.infoWindow.setPosition(e))})}_assertInitialized(){}static \u0275fac=function(o){return new(o||a)};static \u0275dir=an({type:a,selectors:[["map-info-window"]],hostAttrs:[2,"display","none"],inputs:{options:"options",position:"position"},outputs:{closeclick:"closeclick",contentChanged:"contentChanged",domready:"domready",positionChanged:"positionChanged",zindexChanged:"zindexChanged",infoWindowInitialized:"infoWindowInitialized"},exportAs:["mapInfoWindow"]})}return a})();var Zr=new yt("MAP_MARKER"),$r={position:{lat:37.421995,lng:-122.084092}},Po=(()=>{class a{_googleMap=q(Dt);_ngZone=q(ke);_eventManager=new ut(q(ke));set title(e){this._title=e}_title;set position(e){this._position=e}_position;set label(e){this._label=e}_label;set clickable(e){this._clickable=e}_clickable;set options(e){this._options=e}_options;set icon(e){this._icon=e}_icon;set visible(e){this._visible=e}_visible;animationChanged=this._eventManager.getLazyEmitter("animation_changed");mapClick=this._eventManager.getLazyEmitter("click");clickableChanged=this._eventManager.getLazyEmitter("clickable_changed");cursorChanged=this._eventManager.getLazyEmitter("cursor_changed");mapDblclick=this._eventManager.getLazyEmitter("dblclick");mapDrag=this._eventManager.getLazyEmitter("drag");mapDragend=this._eventManager.getLazyEmitter("dragend");draggableChanged=this._eventManager.getLazyEmitter("draggable_changed");mapDragstart=this._eventManager.getLazyEmitter("dragstart");flatChanged=this._eventManager.getLazyEmitter("flat_changed");iconChanged=this._eventManager.getLazyEmitter("icon_changed");mapMousedown=this._eventManager.getLazyEmitter("mousedown");mapMouseout=this._eventManager.getLazyEmitter("mouseout");mapMouseover=this._eventManager.getLazyEmitter("mouseover");mapMouseup=this._eventManager.getLazyEmitter("mouseup");positionChanged=this._eventManager.getLazyEmitter("position_changed");mapRightclick=this._eventManager.getLazyEmitter("rightclick");shapeChanged=this._eventManager.getLazyEmitter("shape_changed");titleChanged=this._eventManager.getLazyEmitter("title_changed");visibleChanged=this._eventManager.getLazyEmitter("visible_changed");zindexChanged=this._eventManager.getLazyEmitter("zindex_changed");markerInitialized=new Se;marker;constructor(){}ngOnInit(){this._googleMap._isBrowser&&(google.maps.Marker&&this._googleMap.googleMap?this._initialize(this._googleMap.googleMap,google.maps.Marker):this._ngZone.runOutsideAngular(()=>{Promise.all([this._googleMap._resolveMap(),google.maps.importLibrary("marker")]).then(([e,o])=>{this._initialize(e,o.Marker)})}))}_initialize(e,o){this._ngZone.runOutsideAngular(()=>{this.marker=new o(this._combineOptions()),this._assertInitialized(),this.marker.setMap(e),this._eventManager.setTarget(this.marker),this.markerInitialized.next(this.marker)})}ngOnChanges(e){let{marker:o,_title:s,_position:l,_label:d,_clickable:g,_icon:b,_visible:P}=this;o&&(e.options&&o.setOptions(this._combineOptions()),e.title&&s!==void 0&&o.setTitle(s),e.position&&l&&o.setPosition(l),e.label&&d!==void 0&&o.setLabel(d),e.clickable&&g!==void 0&&o.setClickable(g),e.icon&&b&&o.setIcon(b),e.visible&&P!==void 0&&o.setVisible(P))}ngOnDestroy(){this.markerInitialized.complete(),this._eventManager.destroy(),this.marker?.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_resolveMarker(){return this.marker?Promise.resolve(this.marker):this.markerInitialized.pipe(He(1)).toPromise()}_combineOptions(){let e=this._options||$r;return V(N({},e),{title:this._title||e.title,position:this._position||e.position,label:this._label||e.label,clickable:this._clickable??e.clickable,map:this._googleMap.googleMap,icon:this._icon||e.icon,visible:this._visible??e.visible})}_assertInitialized(){}static \u0275fac=function(o){return new(o||a)};static \u0275dir=an({type:a,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged",markerInitialized:"markerInitialized"},exportAs:["mapMarker"],features:[Bn([{provide:Zr,useExisting:a}]),ot]})}return a})();var Oo=(()=>{class a{static \u0275fac=function(o){return new(o||a)};static \u0275mod=Ln({type:a});static \u0275inj=In({})}return a})();function Xr(a,t){a&1&&(i(0,"p",15),r(1," \u{1F4CD} Deine Position wird angezeigt "),n())}function Jr(a,t){a&1&&(i(0,"p",16),r(1," \u26A0\uFE0F Standort nicht verf\xFCgbar - Zentrum Berlin angezeigt "),n())}function Qr(a,t){if(a&1){let e=S();i(0,"div",19)(1,"h4"),r(2),n(),i(3,"p")(4,"strong"),r(5),de(6,"titlecase"),n()(),i(7,"p"),r(8),n(),i(9,"p"),r(10),n(),i(11,"button",20),_("click",function(){u(e);let s=m().$implicit,l=m();return h(l.getDirections(s.shop))}),r(12," \u{1F697} Route berechnen "),n()()}if(a&2){let e=m().$implicit;c(2),k(e.shop.name),c(3),k(qe(6,4,e.shop.type)),c(3),O("\u{1F4CD} ",e.shop.address.split(",")[0],""),c(2),O("\u2B50 ",e.shop.rating,"/5")}}function ea(a,t){a&1&&(i(0,"div",19)(1,"h4"),r(2,"\u{1F4CD} Deine Position"),n(),i(3,"p"),r(4,"Du bist hier"),n()())}function ta(a,t){if(a&1){let e=S();i(0,"map-marker",17),_("mapClick",function(){let s=u(e).$implicit,l=m();return h(l.onMarkerClick(s))}),i(1,"map-info-window"),f(2,Qr,13,6,"div",18)(3,ea,5,0,"div",18),n()()}if(a&2){let e=t.$implicit,o=m();p("position",e.position)("title",e.title)("options",o.getMarkerOptions(e)),c(2),p("ngIf",e.shop),c(),p("ngIf",e.isUserLocation)}}var zt=class a{afroshops=[];userLocation=null;shopSelected=new Se;mapOptions={center:{lat:52.52,lng:13.405},zoom:12,mapTypeControl:!0,streetViewControl:!0,fullscreenControl:!0};markers=[];constructor(){}ngOnInit(){this.updateMapCenter(),this.createMarkers()}ngOnChanges(){this.updateMapCenter(),this.createMarkers()}updateMapCenter(){this.userLocation&&(this.mapOptions=V(N({},this.mapOptions),{center:this.userLocation,zoom:13}))}createMarkers(){this.markers=this.afroshops.map(t=>({position:t.coordinates,title:t.name,shop:t})),this.userLocation&&this.markers.push({position:this.userLocation,title:"Deine Position",isUserLocation:!0})}getMarkerOptions(t){return t.isUserLocation?{icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="12" cy="12" r="8" fill="#4285F4" stroke="white" stroke-width="2"/>
              <circle cx="12" cy="12" r="3" fill="white"/>
            </svg>
          `),scaledSize:new google.maps.Size(24,24),anchor:new google.maps.Point(12,12)}}:{}}onMarkerClick(t){t.shop&&(console.log("Afroshop ausgew\xE4hlt:",t.shop),this.shopSelected.emit(t.shop.id))}getDirections(t){if(this.userLocation){let e=`https://www.google.com/maps/dir/${this.userLocation.lat},${this.userLocation.lng}/${t.coordinates.lat},${t.coordinates.lng}`;window.open(e,"_blank")}else{let e=`https://www.google.com/maps/search/?api=1&query=${t.coordinates.lat},${t.coordinates.lng}`;window.open(e,"_blank")}}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=E({type:a,selectors:[["app-map"]],inputs:{afroshops:"afroshops",userLocation:"userLocation"},outputs:{shopSelected:"shopSelected"},features:[ot],decls:42,vars:6,consts:[[1,"map-container"],[1,"map-header"],["class","location-info",4,"ngIf"],["class","no-location-info",4,"ngIf"],[1,"google-map",3,"options","width","height"],[3,"position","title","options","mapClick",4,"ngFor","ngForOf"],[1,"map-legend"],[1,"legend-items"],[1,"legend-item"],[1,"legend-icon","restaurant"],[1,"legend-icon","epicerie"],[1,"legend-icon","coiffeur"],[1,"legend-icon","vetement"],[1,"legend-icon","services"],[1,"legend-icon","user"],[1,"location-info"],[1,"no-location-info"],[3,"mapClick","position","title","options"],["class","info-window",4,"ngIf"],[1,"info-window"],[1,"directions-btn",3,"click"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"h3"),r(3,"\u{1F5FA}\uFE0F Karte der Afroshops"),n(),f(4,Xr,2,0,"p",2)(5,Jr,2,0,"p",3),n(),i(6,"google-map",4),f(7,ta,4,5,"map-marker",5),n(),i(8,"div",6)(9,"h4"),r(10,"Legende"),n(),i(11,"div",7)(12,"div",8)(13,"span",9),r(14,"\u{1F37D}\uFE0F"),n(),i(15,"span"),r(16,"Restaurants"),n()(),i(17,"div",8)(18,"span",10),r(19,"\u{1F6D2}"),n(),i(20,"span"),r(21,"Lebensmittel"),n()(),i(22,"div",8)(23,"span",11),r(24,"\u2702\uFE0F"),n(),i(25,"span"),r(26,"Friseure"),n()(),i(27,"div",8)(28,"span",12),r(29,"\u{1F457}"),n(),i(30,"span"),r(31,"Mode"),n()(),i(32,"div",8)(33,"span",13),r(34,"\u{1F3E6}"),n(),i(35,"span"),r(36,"Dienstleistungen"),n()(),i(37,"div",8)(38,"span",14),r(39,"\u{1F4CD}"),n(),i(40,"span"),r(41,"Deine Position"),n()()()()()),e&2&&(c(4),p("ngIf",o.userLocation),c(),p("ngIf",!o.userLocation),c(),p("options",o.mapOptions)("width","100%")("height","400px"),c(),p("ngForOf",o.markers))},dependencies:[I,Z,D,Ke,Oo,Dt,ko,Po],styles:[".map-container[_ngcontent-%COMP%]{padding:var(--spacing-lg);background:var(--background-white);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-sm);margin:var(--spacing-lg) 0}.map-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--spacing-md)}.map-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--primary-color);font-size:1.5rem;margin-bottom:var(--spacing-xs)}.location-info[_ngcontent-%COMP%]{color:#27ae60;font-weight:500;margin:0}.no-location-info[_ngcontent-%COMP%]{color:#f39c12;font-weight:500;margin:0}.google-map[_ngcontent-%COMP%]{border-radius:var(--border-radius);border:2px solid #e0e0e0;overflow:hidden;box-shadow:var(--shadow-sm)}.info-window[_ngcontent-%COMP%]{padding:var(--spacing-sm);min-width:200px}.info-window[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--primary-color);margin:0 0 var(--spacing-xs) 0;font-size:1.1rem}.info-window[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:var(--spacing-xs) 0;font-size:.9rem;color:var(--text-light)}.directions-btn[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border:none;padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--border-radius);cursor:pointer;font-size:.9rem;margin-top:var(--spacing-xs);transition:background .3s ease}.directions-btn[_ngcontent-%COMP%]:hover{background:var(--secondary-color)}.map-legend[_ngcontent-%COMP%]{margin-top:var(--spacing-lg);padding:var(--spacing-md);background:var(--background-light);border-radius:var(--border-radius);border-left:4px solid var(--primary-color)}.map-legend[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-dark);margin:0 0 var(--spacing-sm) 0;font-size:1.1rem}.legend-items[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:var(--spacing-sm)}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-xs);font-size:.9rem;color:var(--text-light)}.legend-icon[_ngcontent-%COMP%]{font-size:1.2rem;width:24px;text-align:center}.legend-icon.restaurant[_ngcontent-%COMP%]{color:#e74c3c}.legend-icon.epicerie[_ngcontent-%COMP%]{color:#27ae60}.legend-icon.coiffeur[_ngcontent-%COMP%]{color:#9b59b6}.legend-icon.vetement[_ngcontent-%COMP%]{color:#3498db}.legend-icon.services[_ngcontent-%COMP%]{color:#f1c40f}.legend-icon.user[_ngcontent-%COMP%]{color:#4285f4}@media (max-width: 768px){.map-container[_ngcontent-%COMP%]{padding:var(--spacing-md);margin:var(--spacing-md) 0}.google-map[_ngcontent-%COMP%]{height:300px!important}.legend-items[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:var(--spacing-xs)}.legend-item[_ngcontent-%COMP%]{font-size:.8rem}}.map-loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:400px;background:var(--background-light);border-radius:var(--border-radius)}.loading-spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid var(--primary-color);border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var Re=class a{afroshops=[{id:1,name:"Mama Afrika Restaurant",type:"restaurant",address:"M\xFCllerstra\xDFe 123, 13349 Berlin",coordinates:{lat:52.52,lng:13.405},phone:"+49 30 12345678",description:"Authentisches Restaurant mit westafrikanischen Spezialit\xE4ten. Warme Atmosph\xE4re und traditionelle Gerichte mit Liebe zubereitet. Spezialit\xE4ten: Jollof Rice, Poulet Yassa, Atti\xE9k\xE9.",rating:4.5,image:"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800&h=600&fit=crop",cuisine:"Westafrikanische",priceLevel:2,hours:"Mo-So: 12:00-22:00",products:[]},{id:7,name:"Afro Palace Dortmund",type:"restaurant",address:"Kampstra\xDFe 45, 44137 Dortmund",coordinates:{lat:51.5136,lng:7.4653},phone:"+49 231 567890",description:"Das beste afrikanische Restaurant im Herzen von Dortmund. Bekannt f\xFCr authentische nigerianische und ghanaische K\xFCche.",rating:4.7,image:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=800&h=600&fit=crop",cuisine:"Westafrikanische",priceLevel:2,hours:"Di-So: 17:00-23:00",products:[]},{id:8,name:"Sahara Markt Dortmund",type:"epicerie",address:"Steinstra\xDFe 33, 44147 Dortmund",coordinates:{lat:51.52,lng:7.46},phone:"+49 231 445566",description:"Gr\xF6\xDFter afrikanischer Supermarkt in Dortmund. Frische Produkte, Gew\xFCrze und Spezialit\xE4ten aus ganz Afrika.",rating:4.3,image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop",priceLevel:1,hours:"Mo-Sa: 09:00-20:00",products:[]},{id:9,name:"Style Africain Dortmund",type:"coiffeur",address:"Rheinische Stra\xDFe 89, 44137 Dortmund",coordinates:{lat:51.51,lng:7.47},phone:"+49 231 778899",description:"Spezialisiert auf afrikanische Frisuren, Braiding und Extensions. Erfahrene Stylisten aus ganz Afrika.",rating:4.6,image:"https://images.unsplash.com/photo-1562322140-8198e5d5067e?w=800&h=600&fit=crop",priceLevel:2,hours:"Mo-Sa: 10:00-19:00",products:[]},{id:10,name:"Kilimanjaro Hamburg",type:"restaurant",address:"Gro\xDFe Bergstra\xDFe 123, 22767 Hamburg",coordinates:{lat:53.5511,lng:9.9937},phone:"+49 40 334455",description:"Ostafriikanisches Restaurant mit Swahili-K\xFCche. Authentische Gerichte aus Tansania und Kenia.",rating:4.4,image:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=800&h=600&fit=crop",cuisine:"Ostafrikanische",priceLevel:3,hours:"Mi-So: 18:00-23:00",products:[]},{id:11,name:"Baobab Markt Hamburg",type:"epicerie",address:"Steindamm 55, 20099 Hamburg",coordinates:{lat:53.555,lng:10.005},phone:"+49 40 667788",description:"Afrikanische Lebensmittel und Produkte im Zentrum von Hamburg. Von Kochbananen bis Shea-Butter.",rating:4.2,image:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=800&h=600&fit=crop",priceLevel:2,hours:"Mo-Sa: 08:00-20:00",products:[]},{id:12,name:"Senegal Eck K\xF6ln",type:"restaurant",address:"Venloer Stra\xDFe 234, 50823 K\xF6ln",coordinates:{lat:50.9375,lng:6.9603},phone:"+49 221 889900",description:"Traditionelles senegalesisches Restaurant. Thieboudienne und Yassa-Spezialit\xE4ten in gem\xFCtlicher Atmosph\xE4re.",rating:4.8,image:"https://images.unsplash.com/photo-1493770348161-369560ae357d?w=800&h=600&fit=crop",cuisine:"Senegalesische",priceLevel:2,hours:"Do-Mo: 17:00-22:00",products:[]},{id:13,name:"Afrika Center K\xF6ln",type:"services",address:"Wilhelmsplatz 12, 50674 K\xF6ln",coordinates:{lat:50.94,lng:6.95},phone:"+49 221 445566",description:"Beratungszentrum f\xFCr afrikanische Community. Geldtransfer, Visa-Service und kulturelle Veranstaltungen.",rating:4.1,image:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop",priceLevel:1,hours:"Mo-Fr: 09:00-18:00"},{id:14,name:"Addis Abeba Frankfurt",type:"restaurant",address:"Leipziger Stra\xDFe 78, 60487 Frankfurt am Main",coordinates:{lat:50.1109,lng:8.6821},phone:"+49 69 778899",description:"\xC4thiopisches Restaurant mit traditioneller Injera und Wat. Authentische Gew\xFCrze direkt aus \xC4thiopien.",rating:4.6,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=800&h=600&fit=crop",cuisine:"\xC4thiopische",priceLevel:2,hours:"Di-So: 17:30-23:00"},{id:15,name:"Wax Print Fashion Frankfurt",type:"vetement",address:"Kaiserstra\xDFe 199, 60311 Frankfurt am Main",coordinates:{lat:50.115,lng:8.685},phone:"+49 69 556677",description:"Traditionelle afrikanische Mode und moderne Designs. Wax-Print Stoffe und ma\xDFgeschneiderte Kleidung.",rating:4.5,image:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=800&h=600&fit=crop",priceLevel:3,hours:"Mo-Sa: 11:00-19:00"},{id:2,name:"Afro Market Hamburg",type:"epicerie",address:"Steindamm 78, 20099 Hamburg",coordinates:{lat:53.5511,lng:10.0067},phone:"+49 40 87654321",description:"Vollst\xE4ndiger afrikanischer Supermarkt mit frischen Produkten, authentischen Gew\xFCrzen, Kosmetik und traditionellen Artikeln. Gro\xDFe Auswahl an tropischen Gem\xFCsen und direkt aus Afrika importierten Produkten.",rating:4.3,image:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=800&h=600&fit=crop",priceLevel:2,hours:"Mo-Sa: 09:00-20:00"},{id:3,name:"Salon Nappy Queen",type:"coiffeur",address:"K\xF6nigstra\xDFe 45, 70173 Stuttgart",coordinates:{lat:48.7758,lng:9.1829},phone:"+49 711 98765432",description:"Friseursalon spezialisiert auf afro und krauses Haar. Flechtwerk, Gl\xE4ttung, nat\xFCrliche Pflege und sch\xFCtzende Frisuren. Erfahrenes Team und hochwertige Produkte.",rating:4.8,image:"https://images.unsplash.com/photo-1560066984-138dadb4c035?w=800&h=600&fit=crop",priceLevel:3,hours:"Di-Sa: 10:00-19:00"},{id:4,name:"Le Baobab M\xFCnchen",type:"restaurant",address:"Landwehrstra\xDFe 32, 80336 M\xFCnchen",coordinates:{lat:48.1351,lng:11.582},phone:"+49 89 11223344",description:"Elegantes senegalesisches Restaurant mit raffinierter K\xFCche. Modernes Ambiente mit traditionellen Akzenten. Spezialit\xE4ten: Thieboudienne, Maf\xE9, hausgemachter Bissap.",rating:4.6,image:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&h=600&fit=crop",cuisine:"Senegalesische",priceLevel:3,hours:"Mi-So: 18:00-23:00"},{id:5,name:"Afrika Mode K\xF6ln",type:"vetement",address:"Ehrenstra\xDFe 67, 50672 K\xF6ln",coordinates:{lat:50.9375,lng:6.9603},phone:"+49 221 55667788",description:"Afrikanische Modeboutique mit traditioneller und zeitgen\xF6ssischer Kleidung. Wax, Bogolan, Dashiki, authentischer Schmuck und Accessoires. Ma\xDFanfertigung verf\xFCgbar.",rating:4.4,image:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=800&h=600&fit=crop",priceLevel:3,hours:"Mo-Sa: 10:00-19:00"},{id:6,name:"Transfert Afrika Services",type:"services",address:"Warschauer Str. 34, 10243 Berlin",coordinates:{lat:52.5058,lng:13.4498},phone:"+49 30 99887766",description:"Geldtransfer nach Afrika, W\xE4hrungswechsel und Finanzberatung. Offizieller Partner von Western Union und Money Gram. Schneller und sicherer Service.",rating:4.2,image:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=600&fit=crop",priceLevel:1,hours:"Mo-Fr: 09:00-18:00, Sa: 10:00-16:00"}];constructor(){}getAllAfroshops(){return this.afroshops}getAfroshopById(t){return this.afroshops.find(e=>e.id==t)}getAfroshopsByType(t){return this.afroshops.filter(e=>e.type===t)}searchAfroshops(t){let e=t.toLowerCase();return this.afroshops.filter(o=>o.name.toLowerCase().includes(e)||o.cuisine?.toLowerCase().includes(e)||o.description.toLowerCase().includes(e))}getAfroshopsByCity(t){if(!t)return this.afroshops;let o={berlin:["Berlin"],hamburg:["Hamburg"],m\u00FCnchen:["M\xFCnchen","Munich"],k\u00F6ln:["K\xF6ln","Cologne"],frankfurt:["Frankfurt am Main","Frankfurt"],stuttgart:["Stuttgart"],d\u00FCsseldorf:["D\xFCsseldorf"],dortmund:["Dortmund"],essen:["Essen"],leipzig:["Leipzig"],bremen:["Bremen"],dresden:["Dresden"],hannover:["Hannover"],n\u00FCrnberg:["N\xFCrnberg","Nuremberg"]}[t.toLowerCase()]||[t];return this.afroshops.filter(s=>o.some(l=>s.address.toLowerCase().includes(l.toLowerCase())))}static \u0275fac=function(e){return new(e||a)};static \u0275prov=G({token:a,factory:a.\u0275fac,providedIn:"root"})};var W=class a{constructor(t,e){this.firestore=t;this.storage=e}getAllAfroshops(){console.log("\u{1F525} D\xE9but getAllAfroshops()");let t=ge(this.firestore,"afroshops");return xt(Fi(t)).pipe(me(e=>{console.log("\u{1F525} Documents bruts depuis Firebase:",e.size);let o=[];e.forEach(l=>{let d=l.data();d.id=l.id,o.push(d)}),console.log("\u{1F525} Premier document:",o[0]),console.log("\u{1F525} Tous les noms:",o.map(l=>l.name));let s=o.map(l=>this.mapFirebaseDocToAfroshopData(l));return console.log("\u{1F525} Documents mapp\xE9s:",s.length),console.log("\u{1F525} Noms apr\xE8s mapping:",s.map(l=>l.name)),s.sort((l,d)=>l.name.localeCompare(d.name)),s}))}mapFirebaseDocToAfroshopData(t){console.log("\u{1F525} Mapping document:",t.name,t);let e={id:t.id,name:t.name||"",type:t.type||"services",address:t.address||"",coordinates:{lat:t.coordinates?.lat||0,lng:t.coordinates?.lng||0},phone:t.phone||"",description:t.description||"",rating:t.rating||4,image:t.image||"",cuisine:t.cuisine||"",priceLevel:t.priceLevel||2,hours:t.hours||"",website:t.website||"",products:Array.isArray(t.products)?t.products:[],createdBy:t.createdBy,createdByName:t.createdByName,createdAt:t.createdAt,verified:t.verified,iban:t.iban||"",bic:t.bic||""};return console.log("\u{1F525} R\xE9sultat mapping:",e.name,e),console.log("\u{1F525} CreatedBy dans mapping:",e.createdBy),e}getAfroshopsByCity(t){let e=ge(this.firestore,"afroshops"),o=Ie(e,Le("name")),s=d=>d.toLowerCase().normalize("NFD").replace(/[ -- --]/g,"").replace(/[-_ ]/g,"").trim(),l=s(t);return Oe(o,{idField:"id"}).pipe(me(d=>d.filter(g=>g.city&&s(g.city).includes(l))))}getAfroshopsByType(t){let e=ge(this.firestore,"afroshops"),o=Ie(e,Fe("type","==",t),Le("rating","desc"));return Oe(o,{idField:"id"})}getAfroshopById(t){return v(this,null,function*(){try{let e=Ee(this.firestore,"afroshops",t),o=yield Ze(e);if(o.exists()){let s=o.data();return this.mapFirebaseDocToAfroshopData(V(N({},s),{id:o.id}))}return}catch(e){console.error("Fehler beim Laden des Afroshops:",e);return}})}addAfroshop(t){return v(this,null,function*(){let e=ge(this.firestore,"afroshops"),o=V(N({},t),{createdAt:new Date,updatedAt:new Date,views:0,likes:0,verified:!1});return(yield Pt(e,o)).id})}updateAfroshop(t,e){return v(this,null,function*(){let o=Ee(this.firestore,"afroshops",t),s=V(N({},e),{updatedAt:new Date});yield dn(o,s)})}deleteAfroshop(t){return v(this,null,function*(){let e=Ee(this.firestore,"afroshops",t);yield Li(e)})}searchAfroshops(t){let e=ge(this.firestore,"afroshops"),o=Ie(e,Fe("name",">=",t),Fe("name","<=",t+"\uF8FF"),cn(20));return Oe(o,{idField:"id"})}getTopRatedAfroshops(t=10){let e=ge(this.firestore,"afroshops"),o=Ie(e,Fe("verified","==",!0),Le("rating","desc"),cn(t));return Oe(o,{idField:"id"})}incrementViews(t){return v(this,null,function*(){try{let e=Ee(this.firestore,"afroshops",t);yield dn(e,{views:1})}catch(e){console.error("Erreur lors de l'incr\xE9mentation des vues:",e)}})}uploadImage(t){return v(this,null,function*(){try{if(console.log("\u{1F525} Firebase Storage upload d\xE9marr\xE9..."),console.log("\u{1F4C1} Fichier \xE0 upload:",t.name,`${(t.size/1024).toFixed(0)}KB`),!this.storage)throw new Error("Firebase Storage non initialis\xE9");let e=Date.now(),o=t.name.replace(/[^a-zA-Z0-9.-]/g,"_"),s=`afroshops/${e}_${o}`;console.log("\u{1F4DD} Nom du fichier:",s);let l=yo(this.storage,s);console.log("\u{1F4CD} R\xE9f\xE9rence cr\xE9\xE9e:",l),console.log("\u2B06\uFE0F Upload en cours...");let d=yield Co(l,t);console.log("\u2705 Upload termin\xE9, snapshot:",d),console.log("\u{1F517} R\xE9cup\xE9ration URL...");let g=yield vo(d.ref);return console.log("\u2705 URL obtenue:",g),g}catch(e){throw console.error("\u274C Erreur Firebase Storage:",e),console.error("\u274C Type d'erreur:",typeof e),console.error("\u274C Stack:",e instanceof Error?e.stack:"Pas de stack"),e instanceof Error?new Error(`Firebase Storage Fehler: ${e.message}`):new Error("Unbekannter Firebase Storage Fehler")}})}static \u0275fac=function(e){return new(e||a)(X(_e),X(Ue))};static \u0275prov=G({token:a,factory:a.\u0275fac,providedIn:"root"})};var Me=class a{businessTypeTranslations={restaurant:"Restaurant",epicerie:"Lebensmittelgesch\xE4ft",coiffeur:"Friseur",vetement:"Modegesch\xE4ft",services:"Dienstleistungen"};businessTypePlural={restaurant:"Restaurants",epicerie:"Lebensmittelgesch\xE4fte",coiffeur:"Friseure",vetement:"Modegesch\xE4fte",services:"Dienstleistungen"};businessTypeIcons={restaurant:"\u{1F37D}\uFE0F",epicerie:"\u{1F6D2}",coiffeur:"\u2702\uFE0F",vetement:"\u{1F457}",services:"\u{1F3E6}"};errorMessages={"auth/user-not-found":"Benutzer nicht gefunden","auth/wrong-password":"Falsches Passwort","auth/email-already-in-use":"E-Mail-Adresse wird bereits verwendet","auth/weak-password":"Passwort ist zu schwach","auth/invalid-email":"Ung\xFCltige E-Mail-Adresse","auth/popup-blocked":"Popup wurde blockiert. Bitte erlauben Sie Popups f\xFCr diese Website.","auth/popup-closed-by-user":"Anmeldung wurde abgebrochen","auth/cancelled-popup-request":"Anmeldung wurde abgebrochen","popup-blocked":"Popup wurde von Ihrem Browser blockiert","connection-error":"Verbindungsfehler. \xDCberpr\xFCfen Sie Ihre Internetverbindung.","general-error":"Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut."};generalMessages={"login-success":"Erfolgreich angemeldet!","logout-success":"Erfolgreich abgemeldet!","registration-success":"Konto erfolgreich erstellt!","data-saved":"Daten erfolgreich gespeichert!","data-deleted":"Daten erfolgreich gel\xF6scht!",loading:"Wird geladen...",saving:"Wird gespeichert...","confirma-delete":"Sind Sie sicher, dass Sie dies l\xF6schen m\xF6chten?"};getBusinessTypeName(t,e=!1){return e?this.businessTypePlural[t]||t:this.businessTypeTranslations[t]||t}getBusinessTypeIcon(t){return this.businessTypeIcons[t]||"\u{1F3EA}"}getBusinessTypeDisplay(t,e=!1){let o=this.getBusinessTypeIcon(t),s=this.getBusinessTypeName(t,e);return`${o} ${s}`}getErrorMessage(t){return this.errorMessages[t]||this.errorMessages["general-error"]}getMessage(t){return this.generalMessages[t]||t}getAllBusinessTypes(){return Object.keys(this.businessTypeTranslations).map(t=>({value:t,label:this.businessTypeTranslations[t],icon:this.businessTypeIcons[t]}))}static \u0275fac=function(e){return new(e||a)};static \u0275prov=G({token:a,factory:a.\u0275fac,providedIn:"root"})};var T=class a{constructor(t,e){this.auth=t;this.translationService=e;this.user$=Si(this.auth)}user$;register(t,e,o){return v(this,null,function*(){try{let s=yield ki(this.auth,t,e);return o&&s.user&&(yield Ai(s.user,{displayName:o})),{uid:s.user.uid,email:s.user.email,displayName:o||s.user.displayName,photoURL:s.user.photoURL}}catch(s){throw console.error("Erreur lors de l'inscription:",s),this.handleAuthError(s)}})}login(t,e){return v(this,null,function*(){try{let o=yield Oi(this.auth,t,e);return{uid:o.user.uid,email:o.user.email,displayName:o.user.displayName,photoURL:o.user.photoURL}}catch(o){throw console.error("Erreur lors de la connexion:",o),this.handleAuthError(o)}})}loginWithGoogle(){return v(this,null,function*(){try{console.log("\u{1F680} Initialisation du provider Google...");let t=new yi;t.setCustomParameters({prompt:"select_account"}),console.log("\u{1F50D} V\xE9rification du support des popups..."),this.checkPopupSupport(),console.log("\u{1F510} Tentative de connexion avec popup...");let e=yield Ei(this.auth,t);return console.log("\u2705 Connexion r\xE9ussie, utilisateur:",e.user.email),{uid:e.user.uid,email:e.user.email,displayName:e.user.displayName,photoURL:e.user.photoURL}}catch(t){throw console.error("\u274C Erreur d\xE9taill\xE9e:",{name:t.name,code:t.code,message:t.message,customData:t.customData}),t.code==="auth/popup-blocked"?console.log("\u{1F6AB} Popup bloqu\xE9e d\xE9tect\xE9e"):t.code==="auth/popup-closed-by-user"?console.log("\u{1F44B} Popup ferm\xE9e par l'utilisateur"):t.code==="auth/cancelled-popup-request"&&console.log("\u{1F504} Requ\xEAte popup annul\xE9e"),this.handleAuthError(t)}})}checkPopupSupport(){try{let t=window.open("","_blank","width=1,height=1");if(t)t.close();else throw new Error("popup-blocked")}catch{throw new Error("popup-blocked")}}logout(){return v(this,null,function*(){try{yield Ii(this.auth)}catch(t){throw console.error("Erreur lors de la d\xE9connexion:",t),this.handleAuthError(t)}})}getCurrentUser(){return this.auth.currentUser}isLoggedIn(){return this.getCurrentUser()!==null}handleAuthError(t){let e="Ein Fehler ist aufgetreten";if(t.code)switch(t.code){case"auth/email-already-in-use":e=this.translationService.getErrorMessage("auth/email-already-in-use");break;case"auth/weak-password":e=this.translationService.getErrorMessage("auth/weak-password");break;case"auth/invalid-email":e=this.translationService.getErrorMessage("auth/invalid-email");break;case"auth/user-not-found":e=this.translationService.getErrorMessage("auth/user-not-found");break;case"auth/wrong-password":e=this.translationService.getErrorMessage("auth/wrong-password");break;case"auth/too-many-requests":e="Zu viele Versuche. Bitte versuchen Sie es sp\xE4ter erneut";break;case"auth/user-disabled":e="Dieses Konto wurde deaktiviert";break;case"auth/operation-not-allowed":e="Diese Operation ist nicht erlaubt";break;case"auth/popup-closed-by-user":e=this.translationService.getErrorMessage("auth/popup-closed-by-user");break;case"auth/popup-blocked":e=this.translationService.getErrorMessage("auth/popup-blocked");break;case"popup-blocked":e=this.translationService.getErrorMessage("popup-blocked");break;case"auth/cancelled-popup-request":e=this.translationService.getErrorMessage("auth/cancelled-popup-request");break;default:e=this.translationService.getErrorMessage("general-error")}return new Error(e)}static \u0275fac=function(e){return new(e||a)(X(Ci),X(Me))};static \u0275prov=G({token:a,factory:a.\u0275fac,providedIn:"root"})};var Lt=class a{constructor(){}getCurrentPosition(){return new Ge(t=>{if(!navigator.geolocation){console.error("Geolocation ist in diesem Browser nicht verf\xFCgbar"),t.next(null),t.complete();return}let e={enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5};navigator.geolocation.getCurrentPosition(o=>{let s={lat:o.coords.latitude,lng:o.coords.longitude,accuracy:o.coords.accuracy,timestamp:o.timestamp};t.next(s),t.complete()},o=>{switch(console.error("Fehler beim Abrufen der Position:",o),o.code){case o.PERMISSION_DENIED:console.error("Standortzugriff wurde verweigert");break;case o.POSITION_UNAVAILABLE:console.error("Standortinformationen nicht verf\xFCgbar");break;case o.TIMEOUT:console.error("Zeit\xFCberschreitung beim Abrufen des Standorts");break}t.next(null),t.complete()},e)})}watchPosition(){return new Ge(t=>{if(!navigator.geolocation){t.next(null),t.complete();return}let e={enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4},o=navigator.geolocation.watchPosition(s=>{let l={lat:s.coords.latitude,lng:s.coords.longitude,accuracy:s.coords.accuracy,timestamp:s.timestamp};t.next(l)},s=>{console.error("Fehler beim \xDCberwachen der Position:",s),t.next(null)},e);return()=>{navigator.geolocation.clearWatch(o)}})}calculateDistance(t,e,o,s){let d=this.deg2rad(o-t),g=this.deg2rad(s-e),b=Math.sin(d/2)*Math.sin(d/2)+Math.cos(this.deg2rad(t))*Math.cos(this.deg2rad(o))*Math.sin(g/2)*Math.sin(g/2),A=6371*(2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b)));return Math.round(A*100)/100}deg2rad(t){return t*(Math.PI/180)}isGeolocationSupported(){return"geolocation"in navigator}static \u0275fac=function(e){return new(e||a)};static \u0275prov=G({token:a,factory:a.\u0275fac,providedIn:"root"})};ht();var ia="https://nominatim.openstreetmap.org/search",Be=class a{constructor(t){this.http=t}GOOGLE_MAPS_API_KEY=De.googleMapsApiKey;GEOCODING_URL="https://maps.googleapis.com/maps/api/geocode/json";getTravelDuration(t,e){let o=this.GOOGLE_MAPS_API_KEY,s="https://maps.googleapis.com/maps/api/directions/json",d=["driving","walking"].map(g=>{let b=`${s}?origin=${t.lat},${t.lng}&destination=${e.lat},${e.lng}&mode=${g}&key=${o}`;return this.http.get(b).pipe(me(P=>P.routes?.length&&P.routes[0].legs?.length?{mode:g,duration:P.routes[0].legs[0].duration.text}:{mode:g,duration:void 0}),ze(()=>we({mode:g,duration:void 0})))});return new Ge(g=>{let b={},P=0;d.forEach(A=>{A.subscribe(L=>{b[L.mode]=L.duration,P++,P===d.length&&(g.next({driving:b.driving,walking:b.walking}),g.complete())})})})}geocodeWithGoogleMaps(t){let e={address:t,key:this.GOOGLE_MAPS_API_KEY,language:"de",region:"de"};return this.http.get(this.GEOCODING_URL,{params:e}).pipe(me(o=>{if(o.status==="OK"&&o.results?.length>0){let s=o.results[0],l=s.geometry.location;return{lat:l.lat,lng:l.lng,formatted_address:s.formatted_address,place_id:s.place_id,accuracy:"APPROXIMATE"}}return null}),ze(o=>(console.error("\u274C Erreur g\xE9ocodage Google Maps:",o),we(null))))}geocodeWithNominatim(t){let e={q:t,format:"json",addressdetails:"1",limit:"1",countrycodes:"de"};return this.http.get(ia,{params:e}).pipe(me(o=>{if(o?.length>0){let s=o[0];return{lat:parseFloat(s.lat),lng:parseFloat(s.lon),formatted_address:s.display_name,accuracy:s.type}}return null}),ze(o=>(console.error("\u274C Erreur Nominatim:",o),we(null))))}extractCityFromAddress(t){let e=t.match(/\b(\d{5})\b/);if(e){let s=t.split(e[0]);if(s.length>1)return s[1].replace(/[^a-zA-Z\s,]/g,"").trim().split(",").map(g=>g.trim()).filter(Boolean)[0]||null}let o=t.split(",").map(s=>s.trim()).filter(Boolean);return o.length>1?o[o.length-1]:null}geocodeWithFallback(t){let e=t.toLowerCase(),o=Object.entries(this.CITY_COORDINATES).sort((s,l)=>l[0].length-s[0].length);for(let[s,l]of o)if(new RegExp(`\\b${s}\\b`,"i").test(e))return{lat:l.lat,lng:l.lng,formatted_address:`${s}, Deutschland`,accuracy:"APPROXIMATE"};return console.warn("\u26A0\uFE0F Fallback \u2014 aucune correspondance trouv\xE9e:",t),null}CITY_COORDINATES={berlin:{lat:52.52,lng:13.405},hamburg:{lat:53.5511,lng:9.9937},m\u00FCnchen:{lat:48.1351,lng:11.582},k\u00F6ln:{lat:50.9375,lng:6.9603},frankfurt:{lat:50.1109,lng:8.6821},stuttgart:{lat:48.7758,lng:9.1829},dortmund:{lat:51.5136,lng:7.4653},leipzig:{lat:51.3397,lng:12.3731}};reverseGeocode(t,e){if(!this.GOOGLE_MAPS_API_KEY)return we({address:`${t.toFixed(4)}, ${e.toFixed(4)}`});let o={latlng:`${t},${e}`,key:this.GOOGLE_MAPS_API_KEY,language:"de",region:"de"};return this.http.get(this.GEOCODING_URL,{params:o}).pipe(me(s=>{if(s.status==="OK"&&s.results?.length){let l=s.results[0];return{address:l.formatted_address,components:this.parseAddressComponents(l.address_components)}}return null}),ze(s=>(console.error("\u274C Erreur g\xE9ocodage inverse:",s),we(null))))}parseAddressComponents(t){let e={};return t.forEach(o=>{o.types.includes("street_number")&&(e.street_number=o.long_name),o.types.includes("route")&&(e.route=o.long_name),o.types.includes("locality")&&(e.locality=o.long_name),o.types.includes("postal_code")&&(e.postal_code=o.long_name),o.types.includes("country")&&(e.country=o.long_name)}),e}isValidCoordinates(t,e){return t!==0&&e!==0&&t>=-90&&t<=90&&e>=-180&&e<=180}calculateDistance(t,e,o,s){let d=this.deg2rad(o-t),g=this.deg2rad(s-e),b=Math.sin(d/2)**2+Math.cos(this.deg2rad(t))*Math.cos(this.deg2rad(o))*Math.sin(g/2)**2;return 6371*(2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b)))}deg2rad(t){return t*(Math.PI/180)}geocodeAddress(t){if(!t||t.trim().length===0)return we(null);let e=t.trim();return this.GOOGLE_MAPS_API_KEY&&this.GOOGLE_MAPS_API_KEY!=="YOUR_GOOGLE_MAPS_API_KEY"?this.geocodeWithGoogleMaps(e).pipe(ze(o=>this.geocodeWithNominatim(e).pipe(ze(()=>we(this.geocodeWithFallback(e)))))):this.geocodeWithNominatim(e).pipe(ze(()=>we(this.geocodeWithFallback(e))))}static \u0275fac=function(e){return new(e||a)(X(qn))};static \u0275prov=G({token:a,factory:a.\u0275fac,providedIn:"root"})};function oa(a,t){if(a&1){let e=S();i(0,"button",46),_("click",function(){u(e);let s=m();return h(s.openSettings())}),r(1,"\u2699\uFE0F"),n()}}function ra(a,t){if(a&1&&(i(0,"span",52),r(1),n()),a&2){let e=m(2);c(),O("um ",e.getSelectedCityName(),"")}}function aa(a,t){a&1&&(i(0,"span",53),r(1,"um deinen Standort"),n())}function sa(a,t){if(a&1&&(i(0,"div",47)(1,"div",48),r(2," \u{1F3AF} Suche in 50km Umkreis "),f(3,ra,2,1,"span",49)(4,aa,2,0,"span",50),n(),i(5,"div",51),r(6),n()()),a&2){let e=m();c(3),p("ngIf",e.selectedCity),c(),p("ngIf",!e.selectedCity),c(2),Q(" ",e.filteredAfroshops.length," von ",e.allAfroshops.length," Afroshops angezeigt ")}}function la(a,t){if(a&1){let e=S();i(0,"div",54)(1,"app-map",55),_("shopSelected",function(s){u(e);let l=m();return h(l.viewAfroshopDetail(s))}),n()()}if(a&2){let e=m();c(),p("afroshops",e.filteredAfroshops)("userLocation",e.userLocation)}}function ca(a,t){if(a&1){let e=S();i(0,"button",76),_("click",function(s){u(e);let l=m().$implicit,d=m(2);return h(d.editAfroshop(s,l.id))}),r(1," \u270F\uFE0F "),n()}}function da(a,t){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=m(2).$implicit,o=m(2);c(),Q(" ",o.getDirectionsDuration(e)," \u2013 ",o.getTravelDurationDisplay(e)," ")}}function pa(a,t){if(a&1&&(i(0,"div",77),r(1),f(2,da,2,2,"span",78),n()),a&2){let e=m().$implicit,o=m(2);c(),O(" \u{1F3AF} ",o.getDistanceFromUser(e)," "),c(),p("ngIf",o.getTravelDurationDisplay(e))}}function ma(a,t){if(a&1){let e=S();i(0,"div",58)(1,"div",59),_("click",function(){let s=u(e).$implicit,l=m(2);return h(l.viewAfroshopDetail(s.id))}),i(2,"img",60),_("error",function(s){let l=u(e).$implicit,d=m(2);return h(d.onImageError(s,l.type))}),n(),i(3,"div",61),r(4),n(),f(5,ca,2,0,"button",62),i(6,"div",63)(7,"span",64),r(8,"\u{1F4CD} Details ansehen"),n()()(),i(9,"div",65)(10,"h3",66),r(11),n(),i(12,"p",67),r(13),n(),i(14,"div",68)(15,"span",69),r(16),n(),i(17,"span",70),r(18),n(),i(19,"span",71),r(20),de(21,"titlecase"),n()(),f(22,pa,3,2,"div",72),i(23,"div",73)(24,"a",74),r(25,"\u{1F5FA}\uFE0F Karte anzeigen"),n(),i(26,"a",75),r(27,"\u{1F697} Route"),n()()()()}if(a&2){let e=t.$implicit,o=m(2);c(2),p("src",e.image||o.getDefaultImage(e.type),ne)("alt",e.name),c(),Te(e.type),c(),O(" ",o.getBusinessTypeDisplay(e.type)," "),c(),p("ngIf",o.canEditAfroshop(e)),c(6),k(e.name),c(2),O("\u{1F4CD} ",o.getLocationDisplay(e.address),""),c(3),O("\u2B50 ",e.rating,""),c(2),k(o.getPriceLevel(e.priceLevel)),c(2),k(qe(21,14,e.type)),c(2),p("ngIf",o.userLocation),c(2),p("href",o.getGoogleMapsUrl(e.address),ne),c(2),p("href",o.getGoogleMapsRouteUrl(e.address),ne)}}function ga(a,t){if(a&1&&(i(0,"div",56),f(1,ma,28,16,"div",57),n()),a&2){let e=m();c(),p("ngForOf",e.filteredAfroshops)}}function ua(a,t){if(a&1){let e=S();i(0,"div",79)(1,"div",80)(2,"div",81),r(3,"\u{1F50D}"),n(),i(4,"h3"),r(5,"Kein Gesch\xE4ft gefunden"),n(),i(6,"p"),r(7,"Kein Afroshop entspricht deinen Suchkriterien"),n(),i(8,"button",82),_("click",function(){u(e);let s=m();return h(s.clearSearch())}),r(9," Alle Gesch\xE4fte anzeigen "),n()()()}}var Ft=class a{constructor(t,e,o,s,l,d,g,b){this.afroshopService=t;this.firebaseService=e;this.authService=o;this.translationService=s;this.router=l;this.geolocationService=d;this.geocodingService=g;this.firestore=b;this.user$=this.authService.user$}getGoogleMapsUrl(t){return t?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(t)}`:"https://maps.google.com"}getGoogleMapsRouteUrl(t){return t?`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(t)}`:"https://maps.google.com"}directionsService=null;travelDurations={};allAfroshops=[];filteredAfroshops=[];searchTerm="";selectedType="";selectedCity="";customCityName="";showMap=!1;userLocation=null;user$;isAdmin=!1;goToAddAfroshop(){this.authService.user$.subscribe(t=>{t?this.router.navigate(["/add-afroshop"]):this.router.navigate(["/login"],{queryParams:{returnUrl:"/add-afroshop"}})})}openSettings(){this.router.navigate(["/admin"])}cityCoordinates={berlin:{lat:52.52,lng:13.405},hamburg:{lat:53.5511,lng:9.9937},m\u00FCnchen:{lat:48.1351,lng:11.582},k\u00F6ln:{lat:50.9375,lng:6.9603},frankfurt:{lat:50.1109,lng:8.6821},stuttgart:{lat:48.7758,lng:9.1829},d\u00FCsseldorf:{lat:51.2277,lng:6.7735},dortmund:{lat:51.5136,lng:7.4653},essen:{lat:51.4556,lng:7.0116},leipzig:{lat:51.3397,lng:12.3731},bremen:{lat:53.0793,lng:8.8017},dresden:{lat:51.0504,lng:13.7373},hannover:{lat:52.3759,lng:9.732},n\u00FCrnberg:{lat:49.4521,lng:11.0767}};ngOnInit(){return v(this,null,function*(){this.authService.user$.subscribe(t=>v(this,null,function*(){if(t?.uid){let e=Ee(this.firestore,"roles/admins"),s=(yield Ze(e)).data();console.log("[DEBUG] Firestore adminDoc:",s),console.log("[DEBUG] User UID:",t.uid),this.isAdmin=s?.uids?.includes(t.uid)??!1,console.log("[DEBUG] isAdmin:",this.isAdmin)}else this.isAdmin=!1,console.log("[DEBUG] Pas d'utilisateur connect\xE9, isAdmin:",this.isAdmin)})),window.google&&window.google.maps&&(this.directionsService=new window.google.maps.DirectionsService),navigator.geolocation&&navigator.geolocation.getCurrentPosition(t=>{this.userLocation={lat:t.coords.latitude,lng:t.coords.longitude}}),this.firebaseService.getAllAfroshops().subscribe({next:t=>{this.allAfroshops=this.fixInvalidCoordinates(t),this.filteredAfroshops=this.allAfroshops},error:t=>{console.error("Erreur lors du chargement Firebase:",t),this.allAfroshops=this.afroshopService.getAllAfroshops(),this.filteredAfroshops=this.allAfroshops}})})}onSearchChange(){this.applyFilters(),this.userLocation&&this.sortAfroshopsByDistance()}onTypeFilterChange(){this.applyFilters(),this.userLocation&&this.sortAfroshopsByDistance()}applyFilters(){let t=this.allAfroshops;if(this.userLocation&&(t=t.filter(e=>e.coordinates.lat===0&&e.coordinates.lng===0?!0:this.geolocationService.calculateDistance(this.userLocation.lat,this.userLocation.lng,e.coordinates.lat,e.coordinates.lng)<=50)),this.selectedType&&(t=t.filter(e=>e.type===this.selectedType)),this.searchTerm.trim()!==""){let e=this.searchTerm.toLowerCase();t=t.filter(o=>o.name.toLowerCase().includes(e)||o.cuisine?.toLowerCase().includes(e)||o.description.toLowerCase().includes(e))}this.filteredAfroshops=t}clearSearch(){this.searchTerm="",this.selectedType="",this.selectedCity="",this.userLocation=null,this.filteredAfroshops=this.allAfroshops,this.applyFilters()}viewAfroshopDetail(t){this.router.navigate(["/afroshop",t])}getTypeIcon(t){return{restaurant:"\u{1F37D}\uFE0F",epicerie:"\u{1F6D2}",coiffeur:"\u2702\uFE0F",vetement:"\u{1F457}",services:"\u{1F3E6}"}[t]}getPriceLevel(t){return"\u20AC".repeat(t)}toggleMapView(){this.showMap=!this.showMap}onCityChange(){if(this.customCityName="",this.selectedCity){let t=this.cityCoordinates[this.selectedCity];t&&(this.userLocation=t,this.applyFilters(),this.sortAfroshopsByDistance())}else this.userLocation=null,this.applyFilters()}useCurrentLocation(){if(!confirm(`\u{1F4CD} GPS Standort aktivieren?

AfroConnect m\xF6chte deinen Standort nutzen um:
\u{1F3AF} Afroshops in deiner N\xE4he zu finden
\u{1F4CF} Entfernungen genau zu berechnen
\u{1F5FA}\uFE0F Dir die beste Route zu zeigen

Dein Standort wird NICHT gespeichert und bleibt privat.

GPS jetzt aktivieren?`)){alert(`\u{1F44D} Kein Problem!

Du kannst jederzeit:
\u2022 Eine Stadt manuell eingeben
\u2022 Aus der Liste w\xE4hlen
\u2022 GPS sp\xE4ter aktivieren`);return}this.geolocationService.getCurrentPosition().subscribe({next:e=>{e?(this.userLocation={lat:e.lat,lng:e.lng},this.selectedCity="",this.applyFilters(),this.sortAfroshopsByDistance(),alert(`\u2705 Standort erfolgreich ermittelt!

\u{1F3AF} Afroshops werden jetzt nach Entfernung sortiert.
\u{1F4CF} Du siehst die genauen Distanzen zu jedem Gesch\xE4ft.`)):this.fallbackToDefaultLocationWithChoice()},error:e=>{this.handleGeolocationError(e)}})}handleGeolocationError(t){if(t.code)switch(t.code){case 1:this.showGPSActivationDialog();break;case 2:this.showGPSUnavailableDialog();break;case 3:this.showGPSTimeoutDialog();break;default:this.showGenericGPSError()}else this.showHTTPSRequiredDialog()}showGPSActivationDialog(){confirm(`\u{1F4CD} Standort-Zugriff erforderlich

Um Afroshops in deiner N\xE4he zu finden, ben\xF6tigt AfroConnect Zugriff auf deinen Standort.

\u2705 Schritte:
1. Klicke "OK" um die Berechtigung zu erteilen
2. W\xE4hle "Zulassen" wenn der Browser fragt
3. Bei iOS: Einstellungen > Safari > Standort aktivieren

M\xF6chtest du es nochmal versuchen?`)?this.useCurrentLocation():this.fallbackToDefaultLocationWithChoice()}showGPSUnavailableDialog(){confirm(`\u{1F6F0}\uFE0F GPS-Signal nicht verf\xFCgbar

Dein GPS-Signal ist momentan nicht erreichbar.

\u{1F4A1} L\xF6sungen:
\u2022 Gehe ins Freie oder n\xE4her zum Fenster
\u2022 Aktiviere GPS in den Ger\xE4te-Einstellungen
\u2022 Starte die App neu

Nochmal versuchen?`)?this.useCurrentLocation():this.fallbackToDefaultLocationWithChoice()}showGPSTimeoutDialog(){confirm(`\u23F1\uFE0F GPS-Anfrage zu langsam

Die Standort-Ermittlung dauert zu lange.

\u{1F4A1} Tipps:
\u2022 \xDCberpr\xFCfe deine Internetverbindung
\u2022 Gehe ins Freie f\xFCr besseres GPS-Signal
\u2022 Versuche es in ein paar Sekunden nochmal

Erneut versuchen?`)?this.useCurrentLocation():this.fallbackToDefaultLocationWithChoice()}showGenericGPSError(){alert(`\u274C Standort-Fehler

Ein unbekannter Fehler ist aufgetreten.

\u{1F4CD} Berlin wird als Standard verwendet.
Du kannst jederzeit eine Stadt manuell ausw\xE4hlen.`),this.fallbackToDefaultLocationWithChoice()}showHTTPSRequiredDialog(){let t=window.location.protocol==="https:";alert(t?`\u{1F527} Standort-Service Problem

Der Standort-Service ist momentan nicht verf\xFCgbar.

\u{1F4CD} Berlin wird als Standard verwendet.
Versuche es sp\xE4ter nochmal oder w\xE4hle eine Stadt manuell.`:`\u{1F512} HTTPS erforderlich

F\xFCr mobile Ger\xE4te ist eine sichere HTTPS-Verbindung n\xF6tig.

\u{1F310} Verwende: https://ydi5291.github.io/AfroConnect/

\u{1F4CD} Berlin wird als Standard verwendet.`),this.fallbackToDefaultLocationWithChoice()}fallbackToDefaultLocationWithChoice(){let t=prompt(`\u{1F4CD} Standort automatisch nicht m\xF6glich

Bitte gib deine Stadt ein f\xFCr personalisierte Ergebnisse:

Beispiele: Dortmund, Hamburg, M\xFCnchen, K\xF6ln, Frankfurt, Stuttgart, D\xFCsseldorf...

Deine Stadt:`,localStorage.getItem("afroconnect-user-city")||"Dortmund");if(t&&t.trim()){let e=t.toLowerCase().trim();localStorage.setItem("afroconnect-user-city",e),this.cityCoordinates[e]?(this.userLocation=this.cityCoordinates[e],this.selectedCity=e,alert(`\u2705 Standort auf ${this.formatCityName(e)} gesetzt!

\u{1F3AF} Afroshops werden nach Entfernung zu ${this.formatCityName(e)} sortiert.
\u{1F4CF} Du siehst jetzt relevante Gesch\xE4fte in deiner N\xE4he.`)):(this.userLocation=this.cityCoordinates.dortmund||this.cityCoordinates.berlin,this.selectedCity="dortmund",alert(`\u{1F4CD} Stadt "${t}" nicht erkannt

Dortmund wurde als Standard-Standort gew\xE4hlt.

Du kannst jederzeit:
\u2022 Eine andere Stadt aus der Liste w\xE4hlen
\u2022 Eine andere Stadt eingeben
\u2022 GPS nochmal versuchen`))}else this.userLocation=this.cityCoordinates.dortmund||this.cityCoordinates.berlin,this.selectedCity="dortmund",alert(`\u{1F4CD} Standard-Standort: Dortmund

Du kannst jederzeit:
\u2022 Eine Stadt aus der Liste w\xE4hlen
\u2022 Eine Stadt eingeben
\u2022 GPS erneut aktivieren`);this.applyFilters(),this.sortAfroshopsByDistance()}formatCityName(t){return{berlin:"Berlin",hamburg:"Hamburg",m\u00FCnchen:"M\xFCnchen",k\u00F6ln:"K\xF6ln",frankfurt:"Frankfurt am Main",stuttgart:"Stuttgart",d\u00FCsseldorf:"D\xFCsseldorf",dortmund:"Dortmund",essen:"Essen",leipzig:"Leipzig"}[t]||t.charAt(0).toUpperCase()+t.slice(1)}sortAfroshopsByDistance(){this.userLocation&&this.filteredAfroshops.sort((t,e)=>{let o=this.geolocationService.calculateDistance(this.userLocation.lat,this.userLocation.lng,t.coordinates.lat,t.coordinates.lng),s=this.geolocationService.calculateDistance(this.userLocation.lat,this.userLocation.lng,e.coordinates.lat,e.coordinates.lng);return o-s})}getDistanceFromUser(t){if(this.userLocation&&t.coordinates.lat&&t.coordinates.lng&&this.travelDurations[t.id],!this.userLocation)return"";let e=this.geolocationService.calculateDistance(this.userLocation.lat,this.userLocation.lng,t.coordinates.lat,t.coordinates.lng);return e<1?`${Math.round(e*1e3)}m entfernt`:`${e.toFixed(1)}km entfernt`}getDirectionsDuration(t){if(!this.directionsService)if(window.google&&window.google.maps)this.directionsService=new window.google.maps.DirectionsService;else return;let e=new window.google.maps.LatLng(this.userLocation.lat,this.userLocation.lng),o=new window.google.maps.LatLng(t.coordinates.lat,t.coordinates.lng);this.directionsService.route({origin:e,destination:o,travelMode:"DRIVING"},(s,l)=>{if(l==="OK"&&s.routes.length>0){let d=s.routes[0].legs[0].duration.text;this.travelDurations[t.id]=V(N({},this.travelDurations[t.id]),{driving:d})}}),this.directionsService.route({origin:e,destination:o,travelMode:"WALKING"},(s,l)=>{if(l==="OK"&&s.routes.length>0){let d=s.routes[0].legs[0].duration.text;this.travelDurations[t.id]=V(N({},this.travelDurations[t.id]),{walking:d})}})}getTravelDurationDisplay(t){let e=this.travelDurations[t.id];if(!e)return"";let o="";return e.driving&&(o+=`\u{1F697} ${e.driving}`),e.walking&&(o+=(o?" | ":"")+`\u{1F6B6} ${e.walking}`),o}addNewAfroshop(){if(!this.authService.getCurrentUser()){alert("Bitte melden Sie sich an, um einen Afroshop hinzuzuf\xFCgen."),this.router.navigate(["/login"]);return}this.router.navigate(["/add-afroshop"])}canEditAfroshop(t){let e=this.authService.getCurrentUser();return e?t.createdBy===e.uid:!1}editAfroshop(t,e){if(t.stopPropagation(),!this.authService.getCurrentUser()){alert("Bitte melden Sie sich an, um fortzufahren."),this.router.navigate(["/login"]);return}this.router.navigate(["/edit-afroshop",e])}isAdminUser(t){return!t||!t.email?!1:["youssoufdiamaldiallo@gmail.com","admin@afroconnect.de","contact@afroconnect.de"].includes(t.email)}goToAdmin(){this.router.navigate(["/admin"])}getBusinessTypeName(t){return this.translationService.getBusinessTypeName(t)}getBusinessTypeDisplay(t){return this.translationService.getBusinessTypeDisplay(t)}getBusinessTypeIcon(t){return this.translationService.getBusinessTypeIcon(t)}getAllBusinessTypes(){return this.translationService.getAllBusinessTypes()}getSelectedCityName(){return this.selectedCity?this.selectedCity.charAt(0).toUpperCase()+this.selectedCity.slice(1):""}getDefaultImage(t){return{restaurant:"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=400&h=300&fit=crop",epicerie:"https://images.unsplash.com/photo-1586350388589-e263efc1ba5a?w=400&h=300&fit=crop",coiffeur:"https://images.unsplash.com/photo-1560066984-138dadb4c035?w=400&h=300&fit=crop",vetement:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&h=300&fit=crop",services:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=400&h=300&fit=crop"}[t]}onImageError(t,e){t.target.src=this.getDefaultImage(e)}getLocationDisplay(t){if(!t||t.trim()==="")return"Adresse \xE0 confirmer";let e=t.split(",");return e.length>1?e[1].trim():t}searchCity(){if(!this.customCityName?.trim())return;let t=this.customCityName.trim().toLowerCase(),e=Object.keys(this.cityCoordinates).find(s=>s.toLowerCase().includes(t)||t.includes(s.toLowerCase()));if(e){this.selectedCity=e,this.userLocation=this.cityCoordinates[e],this.onCityChange();return}this.searchInAdditionalCities(t)||this.geocodeGermanCity(t)}searchInAdditionalCities(t){let e={werl:{lat:51.5533,lng:7.9111},lippstadt:{lat:51.6755,lng:8.3439},soest:{lat:51.5731,lng:8.1067},paderborn:{lat:51.7189,lng:8.7575},bielefeld:{lat:52.0302,lng:8.5325},m\u00FCnster:{lat:51.9607,lng:7.6261},bochum:{lat:51.4818,lng:7.2162},duisburg:{lat:51.4344,lng:6.7623},wuppertal:{lat:51.2562,lng:7.1508}},o=Object.keys(e).find(s=>s.toLowerCase().includes(t)||t.includes(s.toLowerCase()));return o?(this.userLocation=e[o],this.selectedCity="",this.applyFilters(),this.sortAfroshopsByDistance(),alert(`\u{1F4CD} Stadt gefunden: ${this.customCityName}`),!0):!1}geocodeGermanCity(t){return v(this,null,function*(){try{let e=yield fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(t)}&country=Germany&addressdetails=1&limit=5&format=json&featuretype=city,town,village`);if(!e.ok)throw new Error("Probl\xE8me de r\xE9seau");let o=yield e.json();if(o&&o.length>0){let s=o[0],l=parseFloat(s.lat),d=parseFloat(s.lon);if(!isNaN(l)&&!isNaN(d)){this.userLocation={lat:l,lng:d},this.selectedCity="",this.applyFilters(),this.sortAfroshopsByDistance();let g=s.display_name.split(",")[0];alert(`\u{1F4CD} Stadt gefunden: ${g}
\u{1F5FA}\uFE0F Koordinaten: ${l.toFixed(4)}, ${d.toFixed(4)}`)}else throw new Error("Coordonn\xE9es invalides")}else this.showCityNotFoundAlert()}catch(e){console.error("Erreur de g\xE9ocodage:",e),this.showCityNotFoundAlert()}})}showCityNotFoundAlert(){alert(`\u274C Stadt "${this.customCityName}" nicht gefunden.

\u{1F4A1} Tipps:
\u2022 \xDCberpr\xFCfen Sie die Schreibweise
\u2022 Verwenden Sie deutsche St\xE4dtenamen
\u2022 Versuchen Sie es mit einem Stadtteil oder einer nahegelegenen gr\xF6\xDFeren Stadt
\u2022 W\xE4hlen Sie aus der vordefinierten Liste`)}fixInvalidCoordinates(t){return t.map(e=>{if(e.coordinates.lat===0&&e.coordinates.lng===0){let o=this.guessCoordinatesFromAddress(e.address);if(o)return V(N({},e),{coordinates:o})}return e})}guessCoordinatesFromAddress(t){let e=t.toLowerCase(),o=V(N({},this.cityCoordinates),{lippstadt:{lat:51.6755,lng:8.3439},werl:{lat:51.5533,lng:7.9111},soest:{lat:51.5731,lng:8.1067},paderborn:{lat:51.7189,lng:8.7575},bielefeld:{lat:52.0302,lng:8.5325},m\u00FCnster:{lat:51.9607,lng:7.6261},bochum:{lat:51.4818,lng:7.2162},duisburg:{lat:51.4344,lng:6.7623},wuppertal:{lat:51.2562,lng:7.1508}});for(let[l,d]of Object.entries(o))if(e.includes(l))return d;let s={59555:{lat:51.6755,lng:8.3439},59594:{lat:51.5533,lng:7.9111},59494:{lat:51.5731,lng:8.1067},33098:{lat:51.7189,lng:8.7575}};for(let[l,d]of Object.entries(s))if(t.includes(l))return d;return null}static \u0275fac=function(e){return new(e||a)(M(Re),M(W),M(T),M(Me),M(R),M(Lt),M(Be),M(_e))};static \u0275cmp=E({type:a,selectors:[["app-gallery"]],decls:75,vars:11,consts:[[1,"intro-section"],[1,"intro-message"],[1,"intro-actions"],[1,"add-shop-btn",3,"click"],["class","settings-btn",3,"click",4,"ngIf"],[1,"controls-section"],[1,"controls-main"],[1,"controls-row"],[1,"filter-gps-column"],[1,"type-filter-group"],["for","type-filter",1,"unified-label"],["id","type-filter",1,"unified-select","type-select-compact",3,"ngModelChange","change","ngModel"],["value",""],["value","restaurant"],["value","epicerie"],["value","coiffeur"],["value","vetement"],["value","services"],[1,"gps-group"],["title","GPS aktivieren und Standort verwenden",1,"location-btn","gps-btn-desktop",3,"click"],["class","radius-info",4,"ngIf"],[1,"location-container"],["for","city-input",1,"unified-label"],[1,"city-search-group"],[1,"unified-input-group"],["type","text","id","city-input","name","cityInput","placeholder","Jede deutsche Stadt...",1,"unified-input","city-input-compact",3,"ngModelChange","keyup.enter","ngModel"],["title","Stadt suchen",1,"unified-btn","search-btn",3,"click","disabled"],[1,"quick-cities-group"],[1,"unified-select","city-select-compact",3,"ngModelChange","ngModel"],["value","berlin"],["value","hamburg"],["value","m\xFCnchen"],["value","k\xF6ln"],["value","frankfurt"],["value","stuttgart"],["value","d\xFCsseldorf"],["value","dortmund"],["value","essen"],["value","leipzig"],["value","bremen"],["value","hannover"],["title","Ausgew\xE4hlte Stadt best\xE4tigen",1,"unified-btn","confirm-btn",3,"click","disabled"],[1,"gallery-section"],["class","map-view",4,"ngIf"],["class","gallery-grid",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"settings-btn",3,"click"],[1,"radius-info"],[1,"radius-indicator"],["class","city-name",4,"ngIf"],["class","current-location",4,"ngIf"],[1,"results-count"],[1,"city-name"],[1,"current-location"],[1,"map-view"],[3,"shopSelected","afroshops","userLocation"],[1,"gallery-grid"],["class","shop-card",4,"ngFor","ngForOf"],[1,"shop-card"],[1,"image-wrapper",3,"click"],[1,"gallery-image",3,"error","src","alt"],[1,"type-badge"],["class","edit-btn","title","Bearbeiten",3,"click",4,"ngIf"],[1,"image-overlay"],[1,"click-hint"],[1,"card-info"],[1,"shop-name"],[1,"shop-location"],[1,"shop-meta"],[1,"rating"],[1,"price"],[1,"type"],["class","distance",4,"ngIf"],[1,"map-buttons"],["target","_blank",1,"map-btn",3,"href"],["target","_blank",1,"route-btn",3,"href"],["title","Bearbeiten",1,"edit-btn",3,"click"],[1,"distance"],[4,"ngIf"],[1,"no-results"],[1,"no-results-content"],[1,"no-results-icon"],[1,"btn-clear-search",3,"click"]],template:function(e,o){e&1&&(i(0,"section",0)(1,"div",1),r(2),n(),i(3,"div",2)(4,"button",3),_("click",function(){return o.goToAddAfroshop()}),r(5,"\u2795 Afroshop hinzuf\xFCgen"),n(),f(6,oa,2,0,"button",4),n()(),i(7,"section",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),r(13,"Nach Type filtern:"),n(),i(14,"select",11),C("ngModelChange",function(l){return y(o.selectedType,l)||(o.selectedType=l),l}),_("change",function(){return o.onTypeFilterChange()}),i(15,"option",12),r(16,"Alle Typen"),n(),i(17,"option",13),r(18,"Restaurant"),n(),i(19,"option",14),r(20,"Lebensmittelgesch\xE4ft"),n(),i(21,"option",15),r(22,"Friseur"),n(),i(23,"option",16),r(24,"Bekleidung"),n(),i(25,"option",17),r(26,"Dienstleistungen"),n()()(),i(27,"div",18)(28,"button",19),_("click",function(){return o.useCurrentLocation()}),r(29," \u{1F4E1} GPS aktivieren "),n()()(),f(30,sa,7,4,"div",20),n(),i(31,"div",7)(32,"div",21)(33,"label",22),r(34,"\u{1F4CD} Deine Stadt:"),n(),i(35,"div",23)(36,"div",24)(37,"input",25),C("ngModelChange",function(l){return y(o.customCityName,l)||(o.customCityName=l),l}),_("keyup.enter",function(){return o.searchCity()}),n(),i(38,"button",26),_("click",function(){return o.searchCity()}),r(39," \u{1F50D} Suchen "),n()()(),i(40,"div",27)(41,"div",24)(42,"select",28),C("ngModelChange",function(l){return y(o.selectedCity,l)||(o.selectedCity=l),l}),i(43,"option",12),r(44,"Beliebte St\xE4dte..."),n(),i(45,"option",29),r(46,"Berlin"),n(),i(47,"option",30),r(48,"Hamburg"),n(),i(49,"option",31),r(50,"M\xFCnchen"),n(),i(51,"option",32),r(52,"K\xF6ln"),n(),i(53,"option",33),r(54,"Frankfurt am Main"),n(),i(55,"option",34),r(56,"Stuttgart"),n(),i(57,"option",35),r(58,"D\xFCsseldorf"),n(),i(59,"option",36),r(60,"Dortmund"),n(),i(61,"option",37),r(62,"Essen"),n(),i(63,"option",38),r(64,"Leipzig"),n(),i(65,"option",39),r(66,"Bremen"),n(),i(67,"option",40),r(68,"Hannover"),n()(),i(69,"button",41),_("click",function(){return o.onCityChange()}),r(70," \u2713 Best\xE4tigen "),n()()()()()()(),i(71,"section",42),f(72,la,2,2,"div",43)(73,ga,2,1,"div",44)(74,ua,10,0,"div",45),n()),e&2&&(c(2),O(" \u{1F30D} Entdecke ",o.allAfroshops.length," afrikanische Gesch\xE4fte in deiner N\xE4he "),c(4),p("ngIf",o.isAdmin),c(8),x("ngModel",o.selectedType),c(16),p("ngIf",o.userLocation||o.selectedCity),c(7),x("ngModel",o.customCityName),c(),p("disabled",!o.customCityName||!o.customCityName.trim()),c(4),x("ngModel",o.selectedCity),c(27),p("disabled",!o.selectedCity),c(3),p("ngIf",o.showMap&&o.filteredAfroshops.length>0),c(),p("ngIf",!o.showMap&&o.filteredAfroshops.length>0),c(),p("ngIf",o.filteredAfroshops.length===0&&(o.searchTerm||o.selectedType)))},dependencies:[I,Z,D,Ke,$,Ye,Xe,ae,$e,se,le,zt],styles:["@media (min-width: 600px) and (max-width: 1024px){.quick-cities-group[_ngcontent-%COMP%]{margin-top:2.2rem}}@media (min-width: 600px) and (max-width: 1024px){.unified-select.city-select-compact[_ngcontent-%COMP%]{max-width:220px;width:100%;min-width:120px}}@media (min-width: 600px) and (max-width: 1024px){.unified-input-group[_ngcontent-%COMP%]{gap:2rem}.search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{min-width:120px;max-width:120px;width:120px}}@media (min-width: 600px) and (max-width: 1024px){.unified-input-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.7rem;width:100%}.unified-input.city-input-compact[_ngcontent-%COMP%]{flex:1 1 0;min-width:0;max-width:70%}.search-btn[_ngcontent-%COMP%]{min-width:90px;max-width:30%;margin-left:.2rem}.quick-cities-group[_ngcontent-%COMP%]{width:100%;margin-top:.5rem}}@media (min-width: 600px) and (max-width: 1024px){.location-container[_ngcontent-%COMP%]{gap:2.2rem;display:flex;flex-direction:column}.city-search-group[_ngcontent-%COMP%]{margin-bottom:3.5rem}}@media (min-width: 600px) and (max-width: 1024px){.gallery-section[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;max-width:900px;width:100%;display:block}}@media (min-width: 600px) and (max-width: 1024px){.controls-main[_ngcontent-%COMP%]{flex-direction:column!important;align-items:stretch!important;gap:1.5rem}.controls-row[_ngcontent-%COMP%], .filter-gps-column[_ngcontent-%COMP%]{flex-direction:column!important;align-items:stretch!important;gap:1.2rem}.type-filter-group[_ngcontent-%COMP%], .gps-group[_ngcontent-%COMP%]{width:100%;margin-bottom:.7rem}.radius-info.radius-center[_ngcontent-%COMP%], .radius-info[_ngcontent-%COMP%]{max-width:98vw;padding:1rem 1.2rem;font-size:1.05rem}.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;gap:1.2rem;justify-content:center}.shop-card[_ngcontent-%COMP%]{max-width:95vw;min-width:320px;margin-left:auto;margin-right:auto}.unified-input[_ngcontent-%COMP%], .unified-select[_ngcontent-%COMP%], .location-btn[_ngcontent-%COMP%], .search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{font-size:1.08rem;min-height:2.2rem}}.filter-gps-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.2rem;align-items:flex-start;margin-bottom:1.5rem}.radius-info.radius-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background:#f9f9f9;border:1px solid #e5e7eb;border-radius:10px;padding:.7rem 1.2rem;margin:1.2rem auto;max-width:420px;font-size:1rem}.radius-info[_ngcontent-%COMP%]   .radius-indicator[_ngcontent-%COMP%]{font-weight:600;color:#2d3748;margin-bottom:.5rem}.radius-info[_ngcontent-%COMP%]   .city-name[_ngcontent-%COMP%], .radius-info[_ngcontent-%COMP%]   .current-location[_ngcontent-%COMP%]{color:#3182ce;font-weight:500}.radius-info[_ngcontent-%COMP%]   .results-count[_ngcontent-%COMP%]{color:#4a5568;font-size:.98rem;margin-top:.3rem}.controls-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.2rem;align-items:flex-start;margin-bottom:1.5rem}@media (max-width: 900px){.gallery-grid[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;align-items:center!important;justify-content:flex-start;width:100%;padding:0;margin:0;box-sizing:border-box}}.shop-card[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:100%;max-width:420px;box-sizing:border-box}@media (max-width: 900px){.shop-card[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:.5rem;width:calc(100% - 1rem);max-width:98vw}}@media (max-width: 600px){.shop-card[_ngcontent-%COMP%]{margin-left:.2rem;margin-right:.2rem;width:calc(100% - .4rem);max-width:99vw}}@media (max-width: 900px){.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%]{width:70%;min-width:120px;max-width:220px;margin-left:auto;margin-right:auto;display:block}}@media (max-width: 600px){.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%]{width:95%;min-width:90px;max-width:180px;font-size:.97rem;margin-left:auto;margin-right:auto;display:block}}@media (max-width: 900px){.location-btn[_ngcontent-%COMP%]{width:70%;min-width:120px;max-width:220px;padding-left:.5rem;padding-right:.5rem}}@media (max-width: 600px){.location-btn[_ngcontent-%COMP%]{width:95%;min-width:90px;max-width:180px;font-size:.97rem;padding-left:.3rem;padding-right:.3rem}}@media (max-width: 900px){.controls-section[_ngcontent-%COMP%], .controls-main[_ngcontent-%COMP%], .controls-row[_ngcontent-%COMP%], .gps-group[_ngcontent-%COMP%], .radius-info[_ngcontent-%COMP%], .location-container[_ngcontent-%COMP%], .city-search-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%], .unified-input-group[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;align-items:center!important;width:100%!important;gap:.4rem}}@media (max-width: 900px){.intro-actions[_ngcontent-%COMP%], .controls-main[_ngcontent-%COMP%], .controls-row[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;width:100%;align-items:center}.gps-group[_ngcontent-%COMP%], .radius-info[_ngcontent-%COMP%], .location-container[_ngcontent-%COMP%], .city-search-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem;align-items:center;display:flex;flex-direction:column;gap:.3rem}.unified-input-group[_ngcontent-%COMP%]{width:100%;flex-direction:column;gap:.3rem;align-items:center}.unified-input.city-input-compact[_ngcontent-%COMP%], .unified-select.city-select-compact[_ngcontent-%COMP%]{width:100%;min-width:0;font-size:1rem;margin-bottom:.5rem}.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%], .location-btn[_ngcontent-%COMP%], .search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{width:100%;min-width:0;font-size:1rem;margin-bottom:.2rem;box-shadow:0 1px 4px #00000014}.radius-info[_ngcontent-%COMP%]{text-align:center;font-size:.98rem;padding:.4rem .2rem;border-radius:7px}.intro-section[_ngcontent-%COMP%], .controls-section[_ngcontent-%COMP%]{padding:.7rem .1rem;border-radius:8px;box-shadow:0 1px 4px #00000014}}@media (max-width: 900px){.intro-section[_ngcontent-%COMP%], .controls-section[_ngcontent-%COMP%]{padding:.8rem .2rem;border-radius:10px;box-shadow:0 2px 8px #00000012}.intro-message[_ngcontent-%COMP%]{font-size:1.05rem;margin-bottom:.7rem}.controls-main[_ngcontent-%COMP%], .controls-row[_ngcontent-%COMP%]{flex-direction:column;gap:.7rem;width:100%;align-items:stretch}.location-container[_ngcontent-%COMP%], .radius-info[_ngcontent-%COMP%]{width:100%;max-width:100%;padding:0 .2rem;box-sizing:border-box}.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%], .location-btn[_ngcontent-%COMP%], .search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{width:100%;min-width:0;font-size:1rem;margin-bottom:.4rem;box-shadow:0 1px 4px #00000014}.unified-input.city-input-compact[_ngcontent-%COMP%], .unified-select.city-select-compact[_ngcontent-%COMP%]{width:100%;min-width:0;font-size:.98rem}.gallery-section[_ngcontent-%COMP%]{padding:.5rem .1rem}.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:1fr!important;gap:1rem}.shop-card[_ngcontent-%COMP%]{min-width:0;width:100%;box-shadow:0 1px 6px #00000014;border-radius:10px}.card-info[_ngcontent-%COMP%]{font-size:.98rem;padding:.7rem .5rem}}@media (max-width: 600px){.intro-section[_ngcontent-%COMP%], .controls-section[_ngcontent-%COMP%]{padding:.4rem .05rem;border-radius:7px;box-shadow:0 1px 4px #0000000f}.intro-message[_ngcontent-%COMP%]{font-size:.98rem;margin-bottom:.5rem}.controls-section[_ngcontent-%COMP%]{gap:.5rem}.radius-info[_ngcontent-%COMP%]{font-size:.93rem;padding:.3rem .2rem;border-radius:6px}.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%], .location-btn[_ngcontent-%COMP%], .search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{font-size:.95rem;min-width:0;padding:.4rem .5rem;margin-bottom:.3rem}.gallery-section[_ngcontent-%COMP%]{padding:.2rem .01rem}.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:1fr!important;gap:.7rem}.shop-card[_ngcontent-%COMP%]{border-radius:7px;box-shadow:0 1px 3px #00000012}.card-info[_ngcontent-%COMP%]{font-size:.95rem;padding:.5rem .2rem}}@media (max-width: 900px){.controls-main[_ngcontent-%COMP%], .controls-row[_ngcontent-%COMP%]{flex-direction:column;gap:1.2rem;width:100%;align-items:center}.intro-section[_ngcontent-%COMP%], .controls-section[_ngcontent-%COMP%]{padding:1.2rem .5rem}.intro-message[_ngcontent-%COMP%]{font-size:1.1rem}.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%], .location-btn[_ngcontent-%COMP%], .search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{width:100%;min-width:180px;font-size:1rem;margin-bottom:.5rem}.location-container[_ngcontent-%COMP%]{width:100%;max-width:100%;padding:0 .5rem}.unified-input.city-input-compact[_ngcontent-%COMP%], .unified-select.city-select-compact[_ngcontent-%COMP%]{width:100%;min-width:0}}@media (max-width: 600px){.intro-section[_ngcontent-%COMP%], .controls-section[_ngcontent-%COMP%]{padding:.7rem .2rem;border-radius:10px}.intro-message[_ngcontent-%COMP%]{font-size:1rem}.controls-section[_ngcontent-%COMP%]{gap:1rem}.radius-info[_ngcontent-%COMP%]{font-size:.95rem;padding:.5rem}.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%], .location-btn[_ngcontent-%COMP%], .search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{font-size:.98rem;min-width:120px;padding:.5rem .7rem}}.controls-main[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%}.controls-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:2rem;width:100%;margin-bottom:1.2rem}.location-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.city-search-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%], .unified-input-group[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.location-btn[_ngcontent-%COMP%]{font-size:1.1rem;padding:.6rem 1.2rem;border-radius:8px;background:#e0f7fa;color:#00796b;border:none;box-shadow:0 1px 4px #00000012;cursor:pointer;transition:background .2s,color .2s}.location-btn[_ngcontent-%COMP%]:hover{background:#b2ebf2;color:#004d40}.radius-info[_ngcontent-%COMP%]{background:#f3e5f5;border-radius:8px;padding:.7rem 1rem;margin-bottom:.5rem;text-align:center;color:#6a1b9a;font-weight:500;box-shadow:0 1px 4px #0000000a}.radius-indicator[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:.3rem}.results-count[_ngcontent-%COMP%]{font-size:.95rem;color:#333}.location-container[_ngcontent-%COMP%]{width:100%;max-width:500px;margin:0 auto;display:flex;flex-direction:column;gap:1rem}.unified-label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem;color:#222}.city-search-group[_ngcontent-%COMP%], .unified-input-group[_ngcontent-%COMP%]{display:flex;gap:.5rem}.unified-input.city-input-compact[_ngcontent-%COMP%]{flex:1;padding:.5rem 1rem;border-radius:8px;border:1px solid #e0e0e0;font-size:1rem}.search-btn[_ngcontent-%COMP%]{background:#e0f7fa;color:#00796b;border:none;border-radius:8px;padding:.5rem 1.2rem;font-size:1rem;cursor:pointer;transition:background .2s,color .2s}.search-btn[_ngcontent-%COMP%]:hover{background:#b2ebf2;color:#004d40}.quick-cities-group[_ngcontent-%COMP%]{margin-top:.5rem;display:flex;gap:.5rem}.unified-select.city-select-compact[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:8px;border:1px solid #e0e0e0;font-size:1rem}.confirm-btn[_ngcontent-%COMP%]{background:#f3e5f5;color:#6a1b9a;border:none;border-radius:8px;padding:.5rem 1.2rem;font-size:1rem;cursor:pointer;transition:background .2s,color .2s}.confirm-btn[_ngcontent-%COMP%]:hover{background:#ce93d8;color:#4a148c}.location-hint[_ngcontent-%COMP%]{font-size:.95rem;color:#888;margin-top:.5rem;text-align:center}.intro-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem 1rem 1.5rem;background:#f8fafc;border-radius:16px;box-shadow:0 2px 8px #0000000a;margin-bottom:2rem}.intro-message[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#222;margin-bottom:1.2rem;text-align:center;letter-spacing:.5px}.intro-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center}.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%]{font-size:1.1rem;padding:.6rem 1.2rem;border-radius:8px;border:none;background:#fff;color:#222;box-shadow:0 1px 4px #00000012;cursor:pointer;transition:background .2s,box-shadow .2s}.add-shop-btn[_ngcontent-%COMP%]:hover{background:#e0f7fa;color:#00796b}.settings-btn[_ngcontent-%COMP%]:hover{background:#f3e5f5;color:#6a1b9a}@media (min-width: 1024px){.controls-desktop-layout[_ngcontent-%COMP%]{display:grid;box-shadow:0 4px 16px #00000026;gap:48px;align-items:start;padding:32px 40px;background:linear-gradient(135deg,#fff,#f4f7fa);border-radius:18px;box-shadow:0 8px 32px #00000014;margin-bottom:40px}.controls-left[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:24px;align-items:flex-end;justify-content:flex-start}.controls-right[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:24px;align-items:flex-end;justify-content:flex-end}.filter-container.unified-control-group[_ngcontent-%COMP%], .gps-group-above-city[_ngcontent-%COMP%]{margin:0;max-width:220px;width:100%}.gps-btn-desktop[_ngcontent-%COMP%]{min-width:160px;max-width:220px;padding:12px 24px;margin:0;border-radius:10px;font-size:1rem;font-weight:600;box-shadow:0 4px 15px #28a7454d;display:flex;align-items:center;justify-content:center}.city-search-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%]{margin:0;max-width:220px;width:100%}}.gallery-container[_ngcontent-%COMP%]{padding:var(--spacing-lg)}.gallery-header[_ngcontent-%COMP%]{margin-bottom:var(--spacing-xl)}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-lg)}.header-text[_ngcontent-%COMP%]{text-align:center;flex:1}.header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--primary-color);font-size:2.5rem;margin-bottom:var(--spacing-sm)}.header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);font-size:1.1rem}.header-actions[_ngcontent-%COMP%]{margin-left:var(--spacing-lg)}.add-afroshop-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--border-radius);font-size:.9rem;font-weight:500;cursor:pointer;transition:all .3s ease;box-shadow:var(--shadow-sm)}.add-afroshop-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-md);text-align:center}.header-actions[_ngcontent-%COMP%]{margin-left:0;width:100%;display:flex;justify-content:center}.header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}.unified-control-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs);max-width:500px;margin:0 auto var(--spacing-md) auto;width:100%}.unified-label[_ngcontent-%COMP%]{color:var(--text-dark);font-size:1rem;font-weight:600;margin-bottom:var(--spacing-xs);text-align:center}.unified-input-group[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm);align-items:stretch;width:100%;height:50px}.unified-input[_ngcontent-%COMP%], .unified-select[_ngcontent-%COMP%]{flex:1;padding:var(--spacing-sm) var(--spacing-md);border:2px solid #e0e0e0;border-radius:var(--border-radius);background:var(--background-white);font-size:1rem;color:var(--text-dark);transition:all .3s ease;height:100%;box-sizing:border-box}.unified-input[_ngcontent-%COMP%]:focus, .unified-select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #4a90e21a}.unified-input[_ngcontent-%COMP%]::placeholder{color:#999;font-style:italic}.unified-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),#2980b9);color:#fff;border:none;padding:0 var(--spacing-md);border-radius:var(--border-radius);font-size:.9rem;font-weight:500;cursor:pointer;white-space:nowrap;transition:all .3s ease;min-width:120px;height:100%;box-sizing:border-box}.unified-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#2980b9,var(--primary-color));transform:translateY(-1px);box-shadow:var(--shadow-sm)}.unified-btn[_ngcontent-%COMP%]:disabled{background:#bdc3c7;cursor:not-allowed;transform:none;opacity:.6}.filter-container.unified-control-group[_ngcontent-%COMP%]   .unified-input-group[_ngcontent-%COMP%]{justify-content:flex-start;max-width:100%;padding-left:0}.filter-container.unified-control-group[_ngcontent-%COMP%]   .unified-select[_ngcontent-%COMP%]{flex:1;max-width:280px;min-width:180px;margin:0}.unified-spacer[_ngcontent-%COMP%]{width:120px;min-width:120px;visibility:hidden}.controls-desktop-layout[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);border:2px solid #e9ecef;border-radius:16px;padding:24px;margin-bottom:32px;box-shadow:0 8px 32px #00000014}@media (min-width: 1024px){.controls-desktop-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(250px,300px) 1fr;gap:40px;align-items:start}.filter-container[_ngcontent-%COMP%]{margin:0;text-align:left}.filter-container[_ngcontent-%COMP%]   .unified-input-group[_ngcontent-%COMP%]{padding-left:0}.location-container[_ngcontent-%COMP%]{margin:0}.desktop-city-controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 2fr 1fr;gap:20px;align-items:end;width:100%}.city-search-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%], .gps-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.city-search-group[_ngcontent-%COMP%]   .unified-input-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%]   .unified-input-group[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:stretch}.city-input-compact[_ngcontent-%COMP%]{min-width:200px;flex:1;max-width:300px}.city-select-compact[_ngcontent-%COMP%]{min-width:180px;flex:1;max-width:250px}.search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{min-width:90px;flex-shrink:0}.gps-btn-desktop[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#20c997);color:#fff;border:none;padding:12px 16px;border-radius:10px;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px #28a7454d;white-space:nowrap;width:100%;min-height:48px}.gps-btn-desktop[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #28a74566}.mobile-only[_ngcontent-%COMP%], .quick-cities[_ngcontent-%COMP%]   .unified-label[_ngcontent-%COMP%]{display:none}}@media (min-width: 768px) and (max-width: 1023px){.controls-desktop-layout[_ngcontent-%COMP%]{padding:20px}.desktop-city-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.city-search-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%]{width:100%}.city-search-group[_ngcontent-%COMP%]   .unified-input-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%]   .unified-input-group[_ngcontent-%COMP%]{display:flex;gap:12px;width:100%}.city-input-compact[_ngcontent-%COMP%], .city-select-compact[_ngcontent-%COMP%]{flex:1}.search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{min-width:100px;flex-shrink:0}.gps-group[_ngcontent-%COMP%]{width:100%}.gps-btn-desktop[_ngcontent-%COMP%]{width:100%;padding:14px}}@media (max-width: 767px){.controls-desktop-layout[_ngcontent-%COMP%]{background:none;border:none;padding:0;box-shadow:none}.desktop-city-controls[_ngcontent-%COMP%]{display:block}.city-search-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%], .gps-group[_ngcontent-%COMP%]{margin-bottom:16px}.gps-btn-desktop[_ngcontent-%COMP%]{background:var(--primary-color);width:100%;margin-top:0;padding:14px}.mobile-only[_ngcontent-%COMP%]{display:block}}.search-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto var(--spacing-lg) auto}.filter-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto var(--spacing-lg) auto;text-align:center}.filter-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:var(--text-dark);font-weight:500;margin-bottom:var(--spacing-xs)}.type-filter[_ngcontent-%COMP%]{width:100%;padding:var(--spacing-sm);border:2px solid #e0e0e0;border-radius:var(--border-radius);background:var(--background-white);font-size:1rem;color:var(--text-dark);cursor:pointer;transition:border-color .3s ease}.type-filter[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #667eea1a}.search-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:var(--background-white);border:2px solid #e0e0e0;border-radius:25px;padding:var(--spacing-xs);transition:all .3s ease;box-shadow:var(--shadow-sm)}.search-wrapper[_ngcontent-%COMP%]:focus-within{border-color:var(--primary-color);box-shadow:0 0 0 3px #667eea1a}.search-icon[_ngcontent-%COMP%]{padding:0 var(--spacing-sm);color:var(--text-light);font-size:1.1rem}.search-input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;padding:var(--spacing-sm) var(--spacing-xs);font-size:1rem;background:transparent;color:var(--text-dark)}.search-input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.clear-button[_ngcontent-%COMP%]{background:var(--text-light);color:#fff;border:none;width:24px;height:24px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:.8rem;margin-right:var(--spacing-xs);transition:background .3s ease}.clear-button[_ngcontent-%COMP%]:hover{background:#e74c3c}.search-results[_ngcontent-%COMP%]{text-align:center;margin-top:var(--spacing-sm);color:var(--primary-color);font-weight:500;font-size:.9rem}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:var(--spacing-md);margin:var(--spacing-lg) auto;flex-wrap:wrap}.map-toggle-btn[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-lg);border-radius:var(--border-radius);font-size:1rem;cursor:pointer;display:inline-flex;align-items:center;gap:var(--spacing-xs);transition:all .3s ease}.map-toggle-btn[_ngcontent-%COMP%]:hover{background:var(--secondary-color);transform:translateY(-2px)}.map-toggle-btn.active[_ngcontent-%COMP%]{background:var(--secondary-color)}.map-toggle-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.2rem}.add-afroshop-btn[_ngcontent-%COMP%]{background:var(--accent-color);color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-lg);border-radius:var(--border-radius);font-size:1rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:var(--spacing-xs);transition:all .3s ease;box-shadow:var(--shadow-sm)}.add-afroshop-btn.primary[_ngcontent-%COMP%]{background:var(--accent-color);padding:var(--spacing-md) var(--spacing-xl);font-size:1.1rem;box-shadow:var(--shadow-md)}.add-afroshop-btn.disabled[_ngcontent-%COMP%]{background:#95a5a6;cursor:pointer}.add-afroshop-btn[_ngcontent-%COMP%]:hover:not(.disabled){background:#e67e22;transform:translateY(-2px);box-shadow:var(--shadow-lg)}.add-afroshop-btn.disabled[_ngcontent-%COMP%]:hover{background:#7f8c8d;transform:none}.add-afroshop-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.2rem}.admin-link-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#95a5a6,#7f8c8d);color:#fff;border:none;padding:8px 12px;border-radius:50%;font-size:1.1rem;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 8px #0000001a;margin-left:10px;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.admin-link-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#7f8c8d,#95a5a6);transform:translateY(-2px) scale(1.05);box-shadow:0 6px 20px #00000026}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}@media (max-width: 600px){.action-buttons[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.add-afroshop-btn[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-md);font-size:.9rem;width:auto;min-width:200px}.add-afroshop-btn.primary[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-lg);font-size:1rem}.header-content[_ngcontent-%COMP%]{align-items:center}.header-actions[_ngcontent-%COMP%]{margin-left:0}}.map-view[_ngcontent-%COMP%]{margin-bottom:var(--spacing-lg);border-radius:var(--border-radius);overflow:hidden;box-shadow:var(--shadow)}.location-container[_ngcontent-%COMP%]{max-width:700px;margin:0 auto var(--spacing-lg) auto;text-align:center}.location-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:var(--text-dark);font-weight:500;margin-bottom:var(--spacing-sm);font-size:1.1rem}.city-search-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md);align-items:center}.city-input-group[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm);width:100%;max-width:500px;justify-content:center;align-items:stretch}.city-input[_ngcontent-%COMP%]{flex:1;padding:var(--spacing-sm) var(--spacing-md);border:2px solid #e0e0e0;border-radius:var(--border-radius);background:var(--background-white);font-size:1rem;color:var(--text-dark);transition:border-color .3s ease}.city-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #3498db1a}.city-input[_ngcontent-%COMP%]::placeholder{color:#999;font-style:italic}.search-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),#2980b9);color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--border-radius);font-size:.9rem;font-weight:500;cursor:pointer;white-space:nowrap;transition:all .3s ease;min-width:100px}.search-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#2980b9,var(--primary-color));transform:translateY(-1px);box-shadow:var(--shadow-sm)}.search-btn[_ngcontent-%COMP%]:disabled{background:#bdc3c7;cursor:not-allowed;transform:none}.quick-cities[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);flex-wrap:wrap;justify-content:center;width:100%;max-width:500px;margin:0 auto}.quick-label[_ngcontent-%COMP%]{color:var(--text-light);font-size:.9rem;white-space:nowrap;min-width:80px}.city-selector-compact[_ngcontent-%COMP%]{padding:var(--spacing-xs) var(--spacing-sm);border:2px solid #e0e0e0;border-radius:var(--border-radius);background:var(--background-white);font-size:.9rem;color:var(--text-dark);cursor:pointer;transition:border-color .3s ease;min-width:180px}.city-selector-compact[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #4a90e21a}.location-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-xs)}.location-btn[_ngcontent-%COMP%]{background:var(--secondary-color);color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--border-radius);font-size:.9rem;cursor:pointer;white-space:nowrap;transition:all .3s ease}.location-btn[_ngcontent-%COMP%]:hover{background:#e67e22;transform:translateY(-1px)}.location-hint[_ngcontent-%COMP%]{color:#666;font-size:.8em;text-align:center;max-width:250px}.radius-info[_ngcontent-%COMP%]{margin-top:var(--spacing-md);padding:var(--spacing-sm) var(--spacing-md);background:linear-gradient(135deg,#f8f9fa,#e9ecef);border:2px solid #dee2e6;border-radius:var(--border-radius);text-align:center;max-width:500px;margin-left:auto;margin-right:auto}.radius-indicator[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:600;font-size:1rem;margin-bottom:var(--spacing-xs)}.city-name[_ngcontent-%COMP%], .current-location[_ngcontent-%COMP%]{color:var(--secondary-color);font-weight:700}.results-count[_ngcontent-%COMP%]{color:var(--text-light);font-size:.9rem;font-style:italic}.distance[_ngcontent-%COMP%]{color:var(--secondary-color);font-size:.85rem;font-weight:500;margin-top:var(--spacing-xs)}@media (max-width: 600px){.unified-control-group[_ngcontent-%COMP%]{max-width:100%;padding:0 var(--spacing-sm)}.unified-input-group[_ngcontent-%COMP%]{flex-direction:column;height:auto;gap:var(--spacing-xs)}.unified-input[_ngcontent-%COMP%], .unified-select[_ngcontent-%COMP%], .unified-btn[_ngcontent-%COMP%]{height:50px;min-width:auto;width:100%}.filter-container.unified-control-group[_ngcontent-%COMP%]   .unified-select[_ngcontent-%COMP%]{max-width:100%}.city-input-group[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-xs)}.search-btn[_ngcontent-%COMP%]{min-width:auto;width:100%}.quick-cities[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-xs);max-width:100%}.quick-label[_ngcontent-%COMP%]{min-width:auto;text-align:center}.city-dropdown-group[_ngcontent-%COMP%]{width:100%;max-width:300px}.city-selector-compact[_ngcontent-%COMP%]{min-width:auto;width:100%;max-width:none}.location-container[_ngcontent-%COMP%]{max-width:100%;padding:0 var(--spacing-md)}}.no-results[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:400px;padding:var(--spacing-xl)}.no-results-content[_ngcontent-%COMP%]{text-align:center;max-width:400px}.no-results-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:var(--spacing-lg);opacity:.6}.no-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-dark);font-size:1.5rem;margin-bottom:var(--spacing-sm)}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);margin-bottom:var(--spacing-lg);line-height:1.6}.btn-clear-search[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-lg);border-radius:var(--border-radius);cursor:pointer;font-size:1rem;font-weight:500;transition:transform .3s ease,box-shadow .3s ease}.btn-clear-search[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:var(--spacing-lg);max-width:1200px;margin:0 auto;padding:0 var(--spacing-md)}@media (max-width: 768px){.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:var(--spacing-md);padding:0 var(--spacing-sm)}}@media (max-width: 480px){.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:var(--spacing-sm);padding:0 var(--spacing-xs)}}.image-card[_ngcontent-%COMP%], .shop-card[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s ease,box-shadow .3s ease;border-radius:var(--border-radius-lg);overflow:hidden;background:var(--background-white);box-shadow:var(--shadow-sm)}.image-card[_ngcontent-%COMP%]:hover, .shop-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:var(--shadow-lg)}.type-badge[_ngcontent-%COMP%]{position:absolute;top:var(--spacing-sm);left:var(--spacing-sm);background:#000c;color:#fff;padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--border-radius);font-size:1.2rem;z-index:2}.type-badge.restaurant[_ngcontent-%COMP%]{background:#e74c3ce6}.type-badge.epicerie[_ngcontent-%COMP%]{background:#27ae60e6}.type-badge.coiffeur[_ngcontent-%COMP%]{background:#9b59b6e6}.type-badge.vetement[_ngcontent-%COMP%]{background:#3498dbe6}.type-badge.services[_ngcontent-%COMP%]{background:#f1c40fe6;color:var(--text-dark)}.rating[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:var(--spacing-xs);opacity:.95}.image-wrapper[_ngcontent-%COMP%]{position:relative;height:300px;overflow:hidden}.gallery-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.image-card[_ngcontent-%COMP%]:hover   .gallery-image[_ngcontent-%COMP%]{transform:scale(1.05)}.image-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0009;color:#fff;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease}.image-card[_ngcontent-%COMP%]:hover   .image-overlay[_ngcontent-%COMP%], .shop-card[_ngcontent-%COMP%]:hover   .image-overlay[_ngcontent-%COMP%]{opacity:1}.click-hint[_ngcontent-%COMP%]{background:var(--primary-color);padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--border-radius);font-size:1rem;font-weight:600;box-shadow:var(--shadow-md);transition:transform .2s ease}.image-overlay[_ngcontent-%COMP%]:hover   .click-hint[_ngcontent-%COMP%]{transform:scale(1.05)}@media (max-width: 1024px){.gallery-container[_ngcontent-%COMP%]{padding:var(--spacing-md)}.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(300px,1fr))}}@media (max-width: 768px){.gallery-container[_ngcontent-%COMP%]{padding:var(--spacing-sm)}.gallery-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;text-align:center}.gallery-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;text-align:center}.image-overlay[_ngcontent-%COMP%]{position:static;transform:none;background:linear-gradient(135deg,#000c,#0009);margin-top:-60px;z-index:2;border-radius:0 0 var(--border-radius-lg) var(--border-radius-lg)}.image-card[_ngcontent-%COMP%]:hover   .image-overlay[_ngcontent-%COMP%]{transform:none}}@media (max-width: 480px){.gallery-container[_ngcontent-%COMP%]{padding:var(--spacing-xs)}.gallery-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;line-height:1.3}.gallery-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.image-card[_ngcontent-%COMP%], .shop-card[_ngcontent-%COMP%]{margin:0 var(--spacing-xs)}.image-overlay[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem}.image-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width: 360px){.gallery-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem}.image-wrapper[_ngcontent-%COMP%]{height:200px}}@media (max-width: 768px){.image-wrapper[_ngcontent-%COMP%]{height:250px}.search-container[_ngcontent-%COMP%]{max-width:100%;margin-bottom:var(--spacing-md)}.search-wrapper[_ngcontent-%COMP%]{border-radius:20px}.search-input[_ngcontent-%COMP%]{font-size:.9rem}.no-results-icon[_ngcontent-%COMP%]{font-size:3rem}.no-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem}}.edit-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:40px;height:40px;border-radius:50%;background:#fffffff2;border:none;cursor:pointer;font-size:1.2rem;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0003;transition:all var(--transition-normal);z-index:10}.edit-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:var(--primary-color);box-shadow:0 4px 12px #e639464d}.edit-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.card-info[_ngcontent-%COMP%]{padding:var(--spacing-md);background:var(--background-white);border-top:1px solid var(--background-light)}.shop-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--text-dark);margin:0 0 var(--spacing-xs) 0;line-height:1.3;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical}.shop-location[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-light);margin:0 0 var(--spacing-sm) 0;display:flex;align-items:center;gap:var(--spacing-xs)}.shop-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);flex-wrap:wrap}.shop-meta[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{color:var(--accent-color);font-weight:600;font-size:.95rem}.shop-meta[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:var(--success-color);font-weight:700;font-size:.95rem}.shop-meta[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{background:var(--background-light);color:var(--text-light);padding:.25rem .5rem;border-radius:var(--border-radius-sm);font-size:.85rem;font-weight:500}.city-dropdown-group[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm);align-items:stretch;flex:1}.city-dropdown-group[_ngcontent-%COMP%]   .city-selector-compact[_ngcontent-%COMP%]{flex:1;min-width:180px}.validate-city-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--success-color),#27ae60);color:#fff;border:none;padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--border-radius);font-size:.85rem;font-weight:500;cursor:pointer;white-space:nowrap;transition:all .3s ease;min-width:90px}.validate-city-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#27ae60,var(--success-color));transform:translateY(-1px);box-shadow:var(--shadow-sm)}.validate-city-btn[_ngcontent-%COMP%]:disabled{background:#bdc3c7;cursor:not-allowed;transform:none;opacity:.6}@media (max-width: 768px){.city-dropdown-group[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-xs)}.validate-city-btn[_ngcontent-%COMP%]{min-width:auto;padding:var(--spacing-sm)}}@media (min-width: 1400px){.filter-container.unified-control-group[_ngcontent-%COMP%]   .unified-select[_ngcontent-%COMP%]{max-width:320px;min-width:200px}.city-input-compact[_ngcontent-%COMP%]{max-width:350px;min-width:220px}.city-select-compact[_ngcontent-%COMP%]{max-width:280px;min-width:200px}.search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{min-width:100px}}"]})};function ha(a,t){if(a&1){let e=S();i(0,"button",27),_("click",function(){u(e);let s=m(2);return h(s.editProducts())}),r(1," bearbeiten "),n()}}function fa(a,t){if(a&1){let e=S();i(0,"div")(1,"img",28),_("error",function(s){u(e);let l=m(2);return h(l.onImageError(s))}),n()()}if(a&2){let e=m(2);c(),p("src",e.afroshop.image,ne)("alt",e.afroshop.name)}}function _a(a,t){if(a&1&&(i(0,"div",29)(1,"div",30),r(2,"\u{1F4F7}"),n(),i(3,"p"),r(4,"Kein Bild verf\xFCgbar"),n(),i(5,"small"),r(6),n()()),a&2){let e=m(2);c(6),k(e.afroshop.image?"Fehler beim Laden: "+e.afroshop.image:"Keine Bild-URL gespeichert")}}function ba(a,t){if(a&1&&(i(0,"div",31),r(1),n()),a&2){let e=m(2);c(),O(" \u{1F37D}\uFE0F ",e.afroshop.cuisine||"\u2014"," K\xFCche ")}}function va(a,t){if(a&1&&(i(0,"p")(1,"a",32),r(2),n()()),a&2){let e=m(2);c(),Rn("href","tel:",e.afroshop.phone,"",ne),c(),O(" ",e.afroshop.phone," ")}}function xa(a,t){a&1&&(i(0,"span",33),r(1,"Non renseign\xE9"),n())}function ya(a,t){if(a&1&&(i(0,"div",34)(1,"span",35),r(2),n(),i(3,"span",36),r(4),n()()),a&2){let e=t.$implicit;sn("closed",!e.isOpen)("open",e.isOpen),c(2),O("",e.day,":"),c(),sn("closed-text",!e.isOpen),c(),O(" ",e.hours," ")}}function Ca(a,t){if(a&1){let e=S();i(0,"div",4)(1,"div",5)(2,"button",6),_("click",function(){u(e);let s=m();return h(s.goBack())}),r(3," \u2190 Zur\xFCck zur \xDCbersicht "),n(),f(4,ha,2,0,"button",7),n(),i(5,"div",8)(6,"div",9),f(7,fa,2,2,"div",10)(8,_a,7,1,"ng-template",null,0,rt),i(10,"div",11),r(11),de(12,"titlecase"),n()(),i(13,"div",12)(14,"h1"),r(15),n(),i(16,"div",13)(17,"div",14),r(18),n(),f(19,ba,2,1,"div",15),n(),i(20,"div",16)(21,"div",17)(22,"strong"),r(23,"\u{1F4CD} Adresse:"),n(),i(24,"p"),r(25),n()(),i(26,"div",17)(27,"strong"),r(28,"\u{1F4DE} Telefon:"),n(),f(29,va,3,3,"p",10)(30,xa,2,0,"ng-template",null,1,rt),n(),i(32,"div",17)(33,"strong"),r(34,"\u{1F552} \xD6ffnungszeiten:"),n(),i(35,"div",18),f(36,ya,5,8,"div",19),n()()(),i(37,"div",20)(38,"h3"),r(39,"\xDCber uns"),n(),i(40,"p"),r(41),n()(),i(42,"div",21)(43,"button",22),_("click",function(){u(e);let s=m();return h(s.callPhone(s.afroshop.phone))}),r(44,"\u{1F4DE} Anrufen"),n(),i(45,"button",23),_("click",function(){u(e);let s=m();return h(s.openInMaps())}),r(46,"\u{1F5FA}\uFE0F Auf Karte anzeigen"),n(),i(47,"button",24),_("click",function(){u(e);let s=m();return h(s.getDirections())}),r(48,"\u{1F9ED} Route"),n(),i(49,"button",25),_("click",function(){u(e);let s=m();return h(s.goToShop())}),r(50,"\u{1F6D2} Einkaufen"),n(),i(51,"button",26),_("click",function(){u(e);let s=m();return h(s.goBack())}),r(52,"\u2190 Zur\xFCck"),n()()()()()}if(a&2){let e=Pe(9),o=Pe(31),s=m();c(4),p("ngIf",s.canEdit()),c(3),p("ngIf",s.afroshop.image)("ngIfElse",e),c(3),Te(s.afroshop.type),c(),Q(" ",s.getTypeIcon(s.afroshop.type)," ",qe(12,16,s.afroshop.type)," "),c(4),k(s.afroshop.name),c(3),Q(" \u2B50 ",s.afroshop.rating||"\u2014","/5 \u2022 ",s.getPriceLevel(s.afroshop.priceLevel||1)," "),c(),p("ngIf",s.afroshop.cuisine),c(6),k(s.afroshop.address),c(4),p("ngIf",s.afroshop.phone)("ngIfElse",o),c(7),p("ngForOf",s.formattedHours),c(5),k(s.afroshop.description)}}function Ma(a,t){if(a&1){let e=S();i(0,"div",37)(1,"h2"),r(2,"\u274C Gesch\xE4ft nicht gefunden"),n(),i(3,"p"),r(4,"Das gesuchte Gesch\xE4ft existiert nicht."),n(),i(5,"button",6),_("click",function(){u(e);let s=m();return h(s.goBack())}),r(6," \u2190 Zur\xFCck zur \xDCbersicht "),n()()}}var Rt=class a{constructor(t,e,o,s,l,d,g){this.route=t;this.router=e;this.afroshopService=o;this.firebaseService=s;this.authService=l;this.title=d;this.meta=g}afroshop;shopId="";formattedHours=[];cart=[];newProduct={id:"",name:"",price:0,image:"",category:"Lebensmittel"};isAdmin=!1;productImagePreview=null;productImageFile=null;editProducts(){this.router?.navigate(["/add-afroshop"],{queryParams:{afroshopId:this.shopId}})}ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&(this.shopId=t,console.log("\u{1F50D} Recherche Afroshop avec ID:",t),this.firebaseService.getAllAfroshops().subscribe({next:e=>{console.log("\u{1F50D} Afroshops disponibles:",e.map(o=>`${o.id}: ${o.name}`)),this.afroshop=e.find(o=>o.id===t||o.id===+t||o.id.toString()===t),this.afroshop?(console.log("\u2705 Afroshop trouv\xE9:",this.afroshop.name),console.log("\u{1F5BC}\uFE0F URL de l'image:",this.afroshop.image),console.log("\u{1F4E6} Donn\xE9es compl\xE8tes:",this.afroshop),this.parseOpeningHours(this.afroshop.hours||""),this.title.setTitle(`${this.afroshop.name} | AfroConnect`),this.meta.updateTag({name:"description",content:this.afroshop.description||""}),this.meta.updateTag({name:"keywords",content:`${this.afroshop.name}, ${this.afroshop.type}, ${this.afroshop.city}, AfroConnect`}),this.meta.updateTag({name:"keywords",content:`${this.afroshop.name}, ${this.afroshop.type}, ${this.afroshop.city}, AfroConnect, Alloco, Kochbanane, ignam, fufu, manioc, feuilles de patate, feuilles de manioc, okra, gombo, atti\xE9k\xE9, poisson fum\xE9, \xE9pices africaines, plantain, couscous de ma\xEFs, arachide, huile de palme, bissap, gingembre, ndol\xE9, maf\xE9, yassa, poulet DG, sauce graine, sauce feuille, sauce arachide, k\xE9dj\xE9nou, gari, tapioca, bouillon cube, piment africain`}),this.meta.updateTag({property:"og:title",content:`${this.afroshop.name} | AfroConnect`}),this.meta.updateTag({property:"og:description",content:this.afroshop.description||""}),this.meta.updateTag({property:"og:image",content:this.afroshop.image||""})):(console.log("\u274C Afroshop non trouv\xE9 avec ID:",t),console.log("\u274C Types des IDs:",e.map(o=>`${o.id} (${typeof o.id})`)))},error:e=>{console.error("Erreur lors du chargement Firebase:",e);let o=+t;this.afroshop=this.afroshopService.getAfroshopById(o),this.afroshop&&(this.title.setTitle(`${this.afroshop.name} | AfroConnect`),this.meta.updateTag({name:"description",content:this.afroshop.description||""}),this.meta.updateTag({name:"keywords",content:`${this.afroshop.name}, ${this.afroshop.type}, ${this.afroshop.city}, AfroConnect`}),this.meta.updateTag({name:"keywords",content:`${this.afroshop.name}, ${this.afroshop.type}, ${this.afroshop.city}, AfroConnect, Alloco, Kochbanane, ignam, fufu, manioc, feuilles de patate, feuilles de manioc, okra, gombo, atti\xE9k\xE9, poisson fum\xE9, \xE9pices africaines, plantain, couscous de ma\xEFs, arachide, huile de palme, bissap, gingembre, ndol\xE9, maf\xE9, yassa, poulet DG, sauce graine, sauce feuille, sauce arachide, k\xE9dj\xE9nou, gari, tapioca, bouillon cube, piment africain`}),this.meta.updateTag({property:"og:title",content:`${this.afroshop.name} | AfroConnect`}),this.meta.updateTag({property:"og:description",content:this.afroshop.description||""}),this.meta.updateTag({property:"og:image",content:this.afroshop.image||""}))}})),this.authService.user$.subscribe(e=>{e?.uid&&this.afroshop?this.isAdmin=this.afroshop&&this.afroshop.createdBy?e.uid===this.afroshop.createdBy:!1:this.isAdmin=!1})}goBack(){this.router.navigate(["/gallery"])}onImageError(t){console.error("\u274C Erreur chargement image:",t),console.error("\u274C URL qui a \xE9chou\xE9:",t.target?.src)}callPhone(t){window.open(`tel:${t}`,"_self")}openInMaps(){if(this.afroshop&&this.afroshop.address){let e=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(this.afroshop.address)}`;window.open(e,"_blank")}else if(this.afroshop&&this.afroshop.coordinates){let e=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${this.afroshop.coordinates.lat},${this.afroshop.coordinates.lng}`)}`;window.open(e,"_blank")}}getDirections(){if(this.afroshop&&this.afroshop.address){let e=`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(this.afroshop.address)}`;window.open(e,"_blank")}else if(this.afroshop&&this.afroshop.coordinates){let e=`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(`${this.afroshop.coordinates.lat},${this.afroshop.coordinates.lng}`)}`;window.open(e,"_blank")}}getTypeIcon(t){return t&&{restaurant:"\u{1F37D}\uFE0F",epicerie:"\u{1F6D2}",coiffeur:"\u2702\uFE0F",vetement:"\u{1F457}",services:"\u{1F3E6}"}[t]||""}getPriceLevel(t){return"\u20AC".repeat(t)}canEdit(){let t=this.authService.getCurrentUser();if(console.log("\u{1F50D} Debug canEdit:"),console.log("  - User connect\xE9:",t?.uid),console.log("  - Afroshop:",this.afroshop),console.log("  - CreatedBy:",this.afroshop?.createdBy),!t||!this.afroshop)return console.log("  \u274C Pas de user ou pas d'afroshop"),!1;let e=this.afroshop.createdBy===t.uid;return console.log("  \u2705 Peut \xE9diter:",e),e}parseOpeningHours(t){if(this.formattedHours=[],!t)return;let e={Mo:"Montag",Di:"Dienstag",Mi:"Mittwoch",Do:"Donnerstag",Fr:"Freitag",Sa:"Samstag",So:"Sonntag"},o=t.split(",").map(d=>d.trim()),s=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],l={};s.forEach(d=>{l[d]={isOpen:!1,hours:"Geschlossen"}}),o.forEach(d=>{let g=d.indexOf(":");if(g===-1)return;let b=d.substring(0,g).trim(),P=d.substring(g+1).trim();if(b.includes("-")){let[A,L]=b.split("-").map(H=>H.trim()),B=e[A],K=e[L];if(B&&K){let H=s.indexOf(B),ce=s.indexOf(K);if(H!==-1&&ce!==-1)if(H<=ce)for(let F=H;F<=ce;F++)l[s[F]]={isOpen:!0,hours:P};else{for(let F=H;F<s.length;F++)l[s[F]]={isOpen:!0,hours:P};for(let F=0;F<=ce;F++)l[s[F]]={isOpen:!0,hours:P}}}}else{let A=e[b];A&&(l[A]={isOpen:!0,hours:P})}}),s.forEach(d=>{this.formattedHours.push({day:d,hours:l[d].hours,isOpen:l[d].isOpen})})}editAfroshop(){this.canEdit()&&this.router.navigate(["/edit-afroshop",this.shopId])}goToShop(){this.router.navigate(["/shop",this.shopId])}static \u0275fac=function(e){return new(e||a)(M(ie),M(R),M(Re),M(W),M(T),M($n),M(Zn))};static \u0275cmp=E({type:a,selectors:[["app-image-detail"]],decls:2,vars:2,consts:[["noImage",""],["noPhone",""],["class","detail-container",4,"ngIf"],["class","error-container",4,"ngIf"],[1,"detail-container"],[1,"detail-header","flex-header"],[1,"back-button",3,"click"],["class","add-product-btn","title","Produkte hinzuf\xFCgen",3,"click",4,"ngIf"],[1,"detail-content"],[1,"image-section"],[4,"ngIf","ngIfElse"],[1,"type-badge-large"],[1,"info-section"],[1,"quick-info"],[1,"rating-info"],["class","cuisine-info",4,"ngIf"],[1,"contact-section"],[1,"contact-item"],[1,"opening-hours-display"],["class","day-row",3,"closed","open",4,"ngFor","ngForOf"],[1,"description"],[1,"actions"],[1,"action-btn","call",3,"click"],[1,"action-btn","maps",3,"click"],[1,"action-btn","route",3,"click"],["title","Zum Shop",1,"action-btn","cart",3,"click"],[1,"action-btn","secondary",3,"click"],["title","Produkte hinzuf\xFCgen",1,"add-product-btn",3,"click"],[1,"detail-image",3,"error","src","alt"],[1,"no-image-placeholder",2,"background","#f5f5f5","padding","2rem","text-align","center","border-radius","8px"],[2,"font-size","3rem"],[1,"cuisine-info"],[1,"phone-link",3,"href"],[2,"color","#888"],[1,"day-row"],[1,"day-name"],[1,"day-hours"],[1,"error-container"]],template:function(e,o){e&1&&f(0,Ca,53,18,"div",2)(1,Ma,7,0,"div",3),e&2&&(p("ngIf",o.afroshop),c(),p("ngIf",!o.afroshop))},dependencies:[I,Z,D,Ke,$],styles:[`.flex-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.add-product-btn{background:#1e88e5;color:#fff;border:none;border-radius:4px;padding:.5rem 1.2rem;font-size:1rem;cursor:pointer;transition:background .2s;display:flex;align-items:center;gap:.5rem}.add-product-btn:hover{background:#1565c0}.detail-container{background:pink!important}.detail-container{max-width:1200px;margin:0 auto;padding:var(--spacing-lg)}.detail-header{margin-bottom:var(--spacing-lg);display:flex;justify-content:space-between;align-items:center;gap:var(--spacing-md)}.back-button{background:var(--text-light);color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--border-radius);cursor:pointer;font-size:1rem;transition:all .3s ease}.back-button:hover{background:var(--primary-color);transform:translate(-5px)}.edit-button{background:linear-gradient(135deg,var(--accent-color),var(--accent-light));color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--border-radius);cursor:pointer;font-size:1rem;font-weight:600;transition:all var(--transition-normal);box-shadow:var(--shadow-sm);display:inline-flex;align-items:center;gap:var(--spacing-xs)}.edit-button:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}.detail-content{display:grid;grid-template-columns:1fr 1fr;gap:var(--spacing-xl);align-items:start}.image-section{position:sticky;top:var(--spacing-lg)}.detail-image{width:100%;height:auto;max-height:70vh;object-fit:cover;border-radius:var(--border-radius-lg);box-shadow:var(--shadow-md)}.info-section{padding:var(--spacing-md)}.info-section h1{color:var(--primary-color);font-size:2.5rem;margin-bottom:var(--spacing-sm);font-weight:300}.type-badge-large{position:absolute;top:var(--spacing-md);right:var(--spacing-md);background:#000c;color:#fff;padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--border-radius-lg);font-weight:500;font-size:1.1rem;text-transform:capitalize}.quick-info{margin-bottom:var(--spacing-lg)}.rating-info{font-size:1.3rem;color:var(--text-dark);margin-bottom:var(--spacing-xs);font-weight:500}.cuisine-info{color:var(--primary-color);font-weight:500;background:var(--background-light);padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--border-radius);display:inline-block}.contact-section{background:var(--background-light);padding:var(--spacing-lg);border-radius:var(--border-radius-lg);margin-bottom:var(--spacing-lg);border-left:4px solid var(--primary-color)}.contact-item{margin-bottom:var(--spacing-md)}.contact-item:last-child{margin-bottom:0}.contact-item strong{color:var(--text-dark);display:block;margin-bottom:var(--spacing-xs)}.contact-item p{color:var(--text-light);margin:0}.phone-link{color:var(--primary-color);text-decoration:none;font-weight:500;transition:color .3s ease}.phone-link:hover{color:var(--secondary-color)}.description{margin-bottom:var(--spacing-xl)}.description h3{color:var(--text-dark);font-size:1.5rem;margin-bottom:var(--spacing-sm);font-weight:500}.description p{color:var(--text-light);line-height:1.8;font-size:1.1rem}.actions{display:flex;gap:var(--spacing-sm)}.action-btn{padding:var(--spacing-sm) var(--spacing-lg);border:none;border-radius:var(--border-radius);cursor:pointer;font-size:1rem;transition:all .3s ease;font-weight:500}.action-btn.call{background:#27ae60;color:#fff}.action-btn.call:hover{background:#229954;transform:translateY(-2px);box-shadow:var(--shadow-md)}.action-btn.maps{background:#3498db;color:#fff}.action-btn.maps:hover{background:#2980b9;transform:translateY(-2px);box-shadow:var(--shadow-md)}.action-btn.route{background:#e67e22;color:#fff}.action-btn.route:hover{background:#d35400;transform:translateY(-2px);box-shadow:var(--shadow-md)}.action-btn.secondary{background:var(--text-light);color:#fff}.action-btn.secondary:hover{background:var(--primary-color);transform:translateY(-2px);box-shadow:var(--shadow-md)}.error-container{text-align:center;padding:var(--spacing-xl);max-width:600px;margin:0 auto}.error-container h2{color:#e74c3c;font-size:2rem;margin-bottom:var(--spacing-md)}.error-container p{color:var(--text-light);font-size:1.1rem;margin-bottom:var(--spacing-lg)}@media (max-width: 968px){.detail-content{grid-template-columns:1fr;gap:var(--spacing-lg)}}@media (max-width: 1024px){.detail-content{gap:var(--spacing-lg)}.image-section{position:static}.detail-image{max-height:50vh}.info-section h1{font-size:2rem}}@media (max-width: 768px){.detail-container{padding:var(--spacing-md);display:flex;flex-direction:column;align-items:center}.detail-header{flex-direction:column;align-items:center;gap:var(--spacing-sm);text-align:center}.detail-content{flex-direction:column;gap:var(--spacing-md);display:flex;align-items:center}.image-section{order:1;display:flex;justify-content:center;width:100%}.detail-image{margin:0 auto;display:block}.info-section{order:2;padding:var(--spacing-sm);width:100%;text-align:center;display:flex;flex-direction:column;align-items:center}.info-section h1{font-size:1.8rem;text-align:center}.quick-info{text-align:center;margin-bottom:var(--spacing-md)}.contact-section{margin-bottom:var(--spacing-lg);width:100%;text-align:center;display:flex;flex-direction:column;align-items:center}.contact-item{text-align:center;width:100%}.actions{justify-content:center;flex-wrap:wrap;gap:var(--spacing-sm);width:100%;display:flex;flex-direction:column;align-items:center}.action-btn{flex:1;min-width:120px;text-align:center;margin:0 auto;width:100%}.description p{font-size:1rem;line-height:1.6;text-align:center}}@media (max-width: 480px){.detail-container{padding:var(--spacing-sm)}.info-section h1{font-size:1.5rem}.quick-info{font-size:.9rem}.contact-item{margin-bottom:var(--spacing-md);padding:var(--spacing-sm);background:var(--background-light);border-radius:var(--border-radius)}.contact-item strong{display:block;margin-bottom:var(--spacing-xs);color:var(--primary-color)}.actions{flex-direction:column}.action-btn{width:100%;padding:var(--spacing-md);font-size:1rem}.back-button,.edit-button{width:100%;text-align:center;justify-content:center}}.opening-hours-display{margin-top:var(--spacing-sm);background:var(--surface-color);border-radius:var(--border-radius);padding:var(--spacing-md);border:1px solid var(--border-color)}.day-row{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-xs) 0;border-bottom:1px solid var(--border-light);transition:all var(--transition-normal)}.day-row:last-child{border-bottom:none}.day-row.open{background:linear-gradient(90deg,#4caf500d,#4caf5005)}.day-row.closed{background:linear-gradient(90deg,#f443360d,#f4433605)}.day-name{font-weight:600;color:var(--text-primary);min-width:100px;font-size:.95rem}.day-hours{color:#4caf50;font-weight:500;font-size:.95rem;text-align:right}.day-hours.closed-text{color:#f44336;font-style:italic}@media (max-width: 768px){.opening-hours-display{padding:var(--spacing-sm)}.day-row{padding:var(--spacing-xs)}.day-name{min-width:80px;font-size:.9rem}.day-hours{font-size:.9rem}}
`],encapsulation:2})};function wa(a,t){a&1&&(i(0,"a",79),r(1,"\u2699\uFE0F Param\xE8tre"),n())}function Sa(a,t){a&1&&(i(0,"span"),r(1,"\u{1F4E5} Importieren"),n())}function ka(a,t){a&1&&(i(0,"span"),r(1,"\u23F3 L\xE4dt..."),n())}function Pa(a,t){if(a&1&&(i(0,"div",80),r(1),n()),a&2){let e=m();c(),O(" \u2705 ",e.successMessage," ")}}function Oa(a,t){if(a&1&&(i(0,"div",81),r(1),n()),a&2){let e=m();c(),O(" \u274C ",e.errorMessage," ")}}function Ea(a,t){if(a&1&&(i(0,"div",82),r(1),n()),a&2){let e=m();c(),O(" \u26A0\uFE0F ",e.geocodingWarning||"Achtung: Die Adresse konnte nicht genau lokalisiert werden. Bitte \xFCberpr\xFCfen Sie die Eingabe."," ")}}function Ia(a,t){if(a&1&&(i(0,"option",83),r(1),n()),a&2){let e=t.$implicit;p("value",e.value),c(),Q(" ",e.icon," ",e.label," ")}}function Aa(a,t){a&1&&(i(0,"span"),r(1,"\u{1F4C1} Bild ausw\xE4hlen"),n())}function Da(a,t){a&1&&(i(0,"span"),r(1,"\u{1F504} Anderes Bild w\xE4hlen"),n())}function za(a,t){a&1&&(i(0,"span"),r(1,"\u23F3 Wird bearbeitet..."),n())}function Ta(a,t){a&1&&(i(0,"div",84)(1,"div",85),w(2,"div",86),n(),i(3,"small"),r(4,"Bild wird komprimiert und vorbereitet..."),n()())}function La(a,t){if(a&1){let e=S();i(0,"div",87),w(1,"img",88),i(2,"button",89),_("click",function(){u(e);let s=m(),l=Pe(48);return s.imagePreview=null,s.selectedFile=null,h(l.value="")}),r(3," \u2715 "),n()()}if(a&2){let e=m();c(),p("src",e.imagePreview,ne)}}function Fa(a,t){a&1&&(i(0,"div",90),r(1," \u{1F5FA}\uFE0F Adresse wird georeferenziert... "),n())}function Ra(a,t){if(a&1&&(i(0,"div",91),r(1),n()),a&2){let e=m();c(),Q(" \u2705 Standort gefunden: ",e.afroshop.coordinates.lat.toFixed(4),", ",e.afroshop.coordinates.lng.toFixed(4)," ")}}function Ba(a,t){if(a&1){let e=S();i(0,"div",11)(1,"label",92),r(2,"K\xFCche"),n(),i(3,"input",93),C("ngModelChange",function(s){u(e);let l=m();return y(l.afroshop.cuisine,s)||(l.afroshop.cuisine=s),h(s)}),n(),i(4,"small",33),r(5,"Spezifizieren Sie die Art der afrikanischen K\xFCche"),n()()}if(a&2){let e=m();c(3),x("ngModel",e.afroshop.cuisine)}}function Na(a,t){if(a&1){let e=S();i(0,"div",94)(1,"select",95),C("ngModelChange",function(s){u(e);let l=m();return y(l.openingHours.monday.open,s)||(l.openingHours.monday.open=s),h(s)}),i(2,"option",96),r(3,"06:00"),n(),i(4,"option",97),r(5,"07:00"),n(),i(6,"option",98),r(7,"08:00"),n(),i(8,"option",99),r(9,"09:00"),n(),i(10,"option",100),r(11,"10:00"),n(),i(12,"option",101),r(13,"11:00"),n(),i(14,"option",102),r(15,"12:00"),n(),i(16,"option",103),r(17,"13:00"),n(),i(18,"option",104),r(19,"14:00"),n(),i(20,"option",105),r(21,"15:00"),n(),i(22,"option",106),r(23,"16:00"),n(),i(24,"option",107),r(25,"17:00"),n(),i(26,"option",108),r(27,"18:00"),n(),i(28,"option",109),r(29,"19:00"),n(),i(30,"option",110),r(31,"20:00"),n(),i(32,"option",111),r(33,"21:00"),n(),i(34,"option",112),r(35,"22:00"),n(),i(36,"option",113),r(37,"23:00"),n()(),i(38,"span",114),r(39,"bis"),n(),i(40,"select",115),C("ngModelChange",function(s){u(e);let l=m();return y(l.openingHours.monday.close,s)||(l.openingHours.monday.close=s),h(s)}),i(41,"option",96),r(42,"06:00"),n(),i(43,"option",97),r(44,"07:00"),n(),i(45,"option",98),r(46,"08:00"),n(),i(47,"option",99),r(48,"09:00"),n(),i(49,"option",100),r(50,"10:00"),n(),i(51,"option",101),r(52,"11:00"),n(),i(53,"option",102),r(54,"12:00"),n(),i(55,"option",103),r(56,"13:00"),n(),i(57,"option",104),r(58,"14:00"),n(),i(59,"option",105),r(60,"15:00"),n(),i(61,"option",106),r(62,"16:00"),n(),i(63,"option",107),r(64,"17:00"),n(),i(65,"option",108),r(66,"18:00"),n(),i(67,"option",109),r(68,"19:00"),n(),i(69,"option",110),r(70,"20:00"),n(),i(71,"option",111),r(72,"21:00"),n(),i(73,"option",112),r(74,"22:00"),n(),i(75,"option",113),r(76,"23:00"),n()()()}if(a&2){let e=m();c(),x("ngModel",e.openingHours.monday.open),c(39),x("ngModel",e.openingHours.monday.close)}}function Ga(a,t){if(a&1){let e=S();i(0,"div",94)(1,"select",116),C("ngModelChange",function(s){u(e);let l=m();return y(l.openingHours.tuesday.open,s)||(l.openingHours.tuesday.open=s),h(s)}),i(2,"option",96),r(3,"06:00"),n(),i(4,"option",97),r(5,"07:00"),n(),i(6,"option",98),r(7,"08:00"),n(),i(8,"option",99),r(9,"09:00"),n(),i(10,"option",100),r(11,"10:00"),n(),i(12,"option",101),r(13,"11:00"),n(),i(14,"option",102),r(15,"12:00"),n(),i(16,"option",103),r(17,"13:00"),n(),i(18,"option",104),r(19,"14:00"),n(),i(20,"option",105),r(21,"15:00"),n(),i(22,"option",106),r(23,"16:00"),n(),i(24,"option",107),r(25,"17:00"),n(),i(26,"option",108),r(27,"18:00"),n(),i(28,"option",109),r(29,"19:00"),n(),i(30,"option",110),r(31,"20:00"),n(),i(32,"option",111),r(33,"21:00"),n(),i(34,"option",112),r(35,"22:00"),n(),i(36,"option",113),r(37,"23:00"),n()(),i(38,"span",114),r(39,"bis"),n(),i(40,"select",117),C("ngModelChange",function(s){u(e);let l=m();return y(l.openingHours.tuesday.close,s)||(l.openingHours.tuesday.close=s),h(s)}),i(41,"option",96),r(42,"06:00"),n(),i(43,"option",97),r(44,"07:00"),n(),i(45,"option",98),r(46,"08:00"),n(),i(47,"option",99),r(48,"09:00"),n(),i(49,"option",100),r(50,"10:00"),n(),i(51,"option",101),r(52,"11:00"),n(),i(53,"option",102),r(54,"12:00"),n(),i(55,"option",103),r(56,"13:00"),n(),i(57,"option",104),r(58,"14:00"),n(),i(59,"option",105),r(60,"15:00"),n(),i(61,"option",106),r(62,"16:00"),n(),i(63,"option",107),r(64,"17:00"),n(),i(65,"option",108),r(66,"18:00"),n(),i(67,"option",109),r(68,"19:00"),n(),i(69,"option",110),r(70,"20:00"),n(),i(71,"option",111),r(72,"21:00"),n(),i(73,"option",112),r(74,"22:00"),n(),i(75,"option",113),r(76,"23:00"),n()()()}if(a&2){let e=m();c(),x("ngModel",e.openingHours.tuesday.open),c(39),x("ngModel",e.openingHours.tuesday.close)}}function Va(a,t){if(a&1){let e=S();i(0,"div",94)(1,"select",118),C("ngModelChange",function(s){u(e);let l=m();return y(l.openingHours.wednesday.open,s)||(l.openingHours.wednesday.open=s),h(s)}),i(2,"option",96),r(3,"06:00"),n(),i(4,"option",97),r(5,"07:00"),n(),i(6,"option",98),r(7,"08:00"),n(),i(8,"option",99),r(9,"09:00"),n(),i(10,"option",100),r(11,"10:00"),n(),i(12,"option",101),r(13,"11:00"),n(),i(14,"option",102),r(15,"12:00"),n(),i(16,"option",103),r(17,"13:00"),n(),i(18,"option",104),r(19,"14:00"),n(),i(20,"option",105),r(21,"15:00"),n(),i(22,"option",106),r(23,"16:00"),n(),i(24,"option",107),r(25,"17:00"),n(),i(26,"option",108),r(27,"18:00"),n(),i(28,"option",109),r(29,"19:00"),n(),i(30,"option",110),r(31,"20:00"),n(),i(32,"option",111),r(33,"21:00"),n(),i(34,"option",112),r(35,"22:00"),n(),i(36,"option",113),r(37,"23:00"),n()(),i(38,"span",114),r(39,"bis"),n(),i(40,"select",119),C("ngModelChange",function(s){u(e);let l=m();return y(l.openingHours.wednesday.close,s)||(l.openingHours.wednesday.close=s),h(s)}),i(41,"option",96),r(42,"06:00"),n(),i(43,"option",97),r(44,"07:00"),n(),i(45,"option",98),r(46,"08:00"),n(),i(47,"option",99),r(48,"09:00"),n(),i(49,"option",100),r(50,"10:00"),n(),i(51,"option",101),r(52,"11:00"),n(),i(53,"option",102),r(54,"12:00"),n(),i(55,"option",103),r(56,"13:00"),n(),i(57,"option",104),r(58,"14:00"),n(),i(59,"option",105),r(60,"15:00"),n(),i(61,"option",106),r(62,"16:00"),n(),i(63,"option",107),r(64,"17:00"),n(),i(65,"option",108),r(66,"18:00"),n(),i(67,"option",109),r(68,"19:00"),n(),i(69,"option",110),r(70,"20:00"),n(),i(71,"option",111),r(72,"21:00"),n(),i(73,"option",112),r(74,"22:00"),n(),i(75,"option",113),r(76,"23:00"),n()()()}if(a&2){let e=m();c(),x("ngModel",e.openingHours.wednesday.open),c(39),x("ngModel",e.openingHours.wednesday.close)}}function Ua(a,t){if(a&1){let e=S();i(0,"div",94)(1,"select",120),C("ngModelChange",function(s){u(e);let l=m();return y(l.openingHours.thursday.open,s)||(l.openingHours.thursday.open=s),h(s)}),i(2,"option",96),r(3,"06:00"),n(),i(4,"option",97),r(5,"07:00"),n(),i(6,"option",98),r(7,"08:00"),n(),i(8,"option",99),r(9,"09:00"),n(),i(10,"option",100),r(11,"10:00"),n(),i(12,"option",101),r(13,"11:00"),n(),i(14,"option",102),r(15,"12:00"),n(),i(16,"option",103),r(17,"13:00"),n(),i(18,"option",104),r(19,"14:00"),n(),i(20,"option",105),r(21,"15:00"),n(),i(22,"option",106),r(23,"16:00"),n(),i(24,"option",107),r(25,"17:00"),n(),i(26,"option",108),r(27,"18:00"),n(),i(28,"option",109),r(29,"19:00"),n(),i(30,"option",110),r(31,"20:00"),n(),i(32,"option",111),r(33,"21:00"),n(),i(34,"option",112),r(35,"22:00"),n(),i(36,"option",113),r(37,"23:00"),n()(),i(38,"span",114),r(39,"bis"),n(),i(40,"select",121),C("ngModelChange",function(s){u(e);let l=m();return y(l.openingHours.thursday.close,s)||(l.openingHours.thursday.close=s),h(s)}),i(41,"option",96),r(42,"06:00"),n(),i(43,"option",97),r(44,"07:00"),n(),i(45,"option",98),r(46,"08:00"),n(),i(47,"option",99),r(48,"09:00"),n(),i(49,"option",100),r(50,"10:00"),n(),i(51,"option",101),r(52,"11:00"),n(),i(53,"option",102),r(54,"12:00"),n(),i(55,"option",103),r(56,"13:00"),n(),i(57,"option",104),r(58,"14:00"),n(),i(59,"option",105),r(60,"15:00"),n(),i(61,"option",106),r(62,"16:00"),n(),i(63,"option",107),r(64,"17:00"),n(),i(65,"option",108),r(66,"18:00"),n(),i(67,"option",109),r(68,"19:00"),n(),i(69,"option",110),r(70,"20:00"),n(),i(71,"option",111),r(72,"21:00"),n(),i(73,"option",112),r(74,"22:00"),n(),i(75,"option",113),r(76,"23:00"),n()()()}if(a&2){let e=m();c(),x("ngModel",e.openingHours.thursday.open),c(39),x("ngModel",e.openingHours.thursday.close)}}function Wa(a,t){if(a&1){let e=S();i(0,"div",94)(1,"select",122),C("ngModelChange",function(s){u(e);let l=m();return y(l.openingHours.friday.open,s)||(l.openingHours.friday.open=s),h(s)}),i(2,"option",96),r(3,"06:00"),n(),i(4,"option",97),r(5,"07:00"),n(),i(6,"option",98),r(7,"08:00"),n(),i(8,"option",99),r(9,"09:00"),n(),i(10,"option",100),r(11,"10:00"),n(),i(12,"option",101),r(13,"11:00"),n(),i(14,"option",102),r(15,"12:00"),n(),i(16,"option",103),r(17,"13:00"),n(),i(18,"option",104),r(19,"14:00"),n(),i(20,"option",105),r(21,"15:00"),n(),i(22,"option",106),r(23,"16:00"),n(),i(24,"option",107),r(25,"17:00"),n(),i(26,"option",108),r(27,"18:00"),n(),i(28,"option",109),r(29,"19:00"),n(),i(30,"option",110),r(31,"20:00"),n(),i(32,"option",111),r(33,"21:00"),n(),i(34,"option",112),r(35,"22:00"),n(),i(36,"option",113),r(37,"23:00"),n()(),i(38,"span",114),r(39,"bis"),n(),i(40,"select",123),C("ngModelChange",function(s){u(e);let l=m();return y(l.openingHours.friday.close,s)||(l.openingHours.friday.close=s),h(s)}),i(41,"option",96),r(42,"06:00"),n(),i(43,"option",97),r(44,"07:00"),n(),i(45,"option",98),r(46,"08:00"),n(),i(47,"option",99),r(48,"09:00"),n(),i(49,"option",100),r(50,"10:00"),n(),i(51,"option",101),r(52,"11:00"),n(),i(53,"option",102),r(54,"12:00"),n(),i(55,"option",103),r(56,"13:00"),n(),i(57,"option",104),r(58,"14:00"),n(),i(59,"option",105),r(60,"15:00"),n(),i(61,"option",106),r(62,"16:00"),n(),i(63,"option",107),r(64,"17:00"),n(),i(65,"option",108),r(66,"18:00"),n(),i(67,"option",99),r(68,"09:00"),n(),i(69,"option",110),r(70,"20:00"),n(),i(71,"option",111),r(72,"21:00"),n(),i(73,"option",112),r(74,"22:00"),n(),i(75,"option",113),r(76,"23:00"),n()()()}if(a&2){let e=m();c(),x("ngModel",e.openingHours.friday.open),c(39),x("ngModel",e.openingHours.friday.close)}}function ja(a,t){if(a&1){let e=S();i(0,"div",94)(1,"select",124),C("ngModelChange",function(s){u(e);let l=m();return y(l.openingHours.saturday.open,s)||(l.openingHours.saturday.open=s),h(s)}),i(2,"option",96),r(3,"06:00"),n(),i(4,"option",97),r(5,"07:00"),n(),i(6,"option",98),r(7,"08:00"),n(),i(8,"option",99),r(9,"09:00"),n(),i(10,"option",100),r(11,"10:00"),n(),i(12,"option",101),r(13,"11:00"),n(),i(14,"option",102),r(15,"12:00"),n(),i(16,"option",103),r(17,"13:00"),n(),i(18,"option",104),r(19,"14:00"),n(),i(20,"option",105),r(21,"15:00"),n(),i(22,"option",106),r(23,"16:00"),n(),i(24,"option",107),r(25,"17:00"),n(),i(26,"option",108),r(27,"18:00"),n(),i(28,"option",109),r(29,"19:00"),n(),i(30,"option",110),r(31,"20:00"),n(),i(32,"option",111),r(33,"21:00"),n(),i(34,"option",112),r(35,"22:00"),n(),i(36,"option",113),r(37,"23:00"),n()(),i(38,"span",114),r(39,"bis"),n(),i(40,"select",125),C("ngModelChange",function(s){u(e);let l=m();return y(l.openingHours.saturday.close,s)||(l.openingHours.saturday.close=s),h(s)}),i(41,"option",96),r(42,"06:00"),n(),i(43,"option",97),r(44,"07:00"),n(),i(45,"option",98),r(46,"08:00"),n(),i(47,"option",99),r(48,"09:00"),n(),i(49,"option",100),r(50,"10:00"),n(),i(51,"option",101),r(52,"11:00"),n(),i(53,"option",102),r(54,"12:00"),n(),i(55,"option",103),r(56,"13:00"),n(),i(57,"option",104),r(58,"14:00"),n(),i(59,"option",105),r(60,"15:00"),n(),i(61,"option",106),r(62,"16:00"),n(),i(63,"option",107),r(64,"17:00"),n(),i(65,"option",108),r(66,"18:00"),n(),i(67,"option",109),r(68,"19:00"),n(),i(69,"option",110),r(70,"20:00"),n(),i(71,"option",111),r(72,"21:00"),n(),i(73,"option",112),r(74,"22:00"),n(),i(75,"option",113),r(76,"23:00"),n()()()}if(a&2){let e=m();c(),x("ngModel",e.openingHours.saturday.open),c(39),x("ngModel",e.openingHours.saturday.close)}}function Ha(a,t){if(a&1){let e=S();i(0,"div",94)(1,"select",126),C("ngModelChange",function(s){u(e);let l=m();return y(l.openingHours.sunday.open,s)||(l.openingHours.sunday.open=s),h(s)}),i(2,"option",96),r(3,"06:00"),n(),i(4,"option",97),r(5,"07:00"),n(),i(6,"option",98),r(7,"08:00"),n(),i(8,"option",99),r(9,"09:00"),n(),i(10,"option",100),r(11,"10:00"),n(),i(12,"option",101),r(13,"11:00"),n(),i(14,"option",102),r(15,"12:00"),n(),i(16,"option",103),r(17,"13:00"),n(),i(18,"option",104),r(19,"14:00"),n(),i(20,"option",105),r(21,"15:00"),n(),i(22,"option",106),r(23,"16:00"),n(),i(24,"option",107),r(25,"17:00"),n(),i(26,"option",108),r(27,"18:00"),n(),i(28,"option",109),r(29,"19:00"),n(),i(30,"option",110),r(31,"20:00"),n(),i(32,"option",111),r(33,"21:00"),n(),i(34,"option",112),r(35,"22:00"),n(),i(36,"option",113),r(37,"23:00"),n()(),i(38,"span",114),r(39,"bis"),n(),i(40,"select",127),C("ngModelChange",function(s){u(e);let l=m();return y(l.openingHours.sunday.close,s)||(l.openingHours.sunday.close=s),h(s)}),i(41,"option",96),r(42,"06:00"),n(),i(43,"option",97),r(44,"07:00"),n(),i(45,"option",98),r(46,"08:00"),n(),i(47,"option",99),r(48,"09:00"),n(),i(49,"option",100),r(50,"10:00"),n(),i(51,"option",101),r(52,"11:00"),n(),i(53,"option",102),r(54,"12:00"),n(),i(55,"option",103),r(56,"13:00"),n(),i(57,"option",104),r(58,"14:00"),n(),i(59,"option",105),r(60,"15:00"),n(),i(61,"option",106),r(62,"16:00"),n(),i(63,"option",107),r(64,"17:00"),n(),i(65,"option",108),r(66,"18:00"),n(),i(67,"option",109),r(68,"19:00"),n(),i(69,"option",110),r(70,"20:00"),n(),i(71,"option",111),r(72,"21:00"),n(),i(73,"option",112),r(74,"22:00"),n(),i(75,"option",113),r(76,"23:00"),n()()()}if(a&2){let e=m();c(),x("ngModel",e.openingHours.sunday.open),c(39),x("ngModel",e.openingHours.sunday.close)}}function qa(a,t){a&1&&(i(0,"span"),r(1,"\u274C Abbrechen"),n())}function Ka(a,t){a&1&&(i(0,"span"),r(1,"\u23F3 Warten..."),n())}function Za(a,t){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=m();c(),k(e.isEditMode?"\u23F3 Wird aktualisiert...":"\u23F3 Wird hinzugef\xFCgt...")}}function $a(a,t){a&1&&(i(0,"span"),r(1,"\u{1F4E4} Bild wird hochgeladen..."),n())}function Ya(a,t){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=m();c(),k(e.isEditMode?"\u{1F4BE} \xC4nderungen speichern":"\u{1F3EA} Afroshop hinzuf\xFCgen")}}var ft=class a{constructor(t,e,o,s,l,d,g){this.firebaseService=t;this.authService=e;this.translationService=o;this.geocodingService=s;this.router=l;this.route=d;this.firestore=g}geocodingWarning="";initStreetAutocomplete(t){if(window.google&&window.google.maps)this.setupAutocomplete(t);else{let e=setInterval(()=>{window.google&&window.google.maps&&(clearInterval(e),this.setupAutocomplete(t))},300)}}setupAutocomplete(t){if(window.google&&window.google.maps&&window.google.maps.places.PlaceAutocompleteElement){let e=document.createElement("gmp-place-autocomplete");e.setAttribute("componentRestrictions",JSON.stringify({country:"DE"})),e.setAttribute("fields","address_components,formatted_address"),e.setAttribute("placeholder",t.placeholder||"Adresse"),e.setAttribute("inputMode","search"),t.parentNode?.replaceChild(e,t),e.addEventListener("gmp-place-autocomplete:place_changed",o=>{let s=o.detail;if(s&&s.address_components){let l="",d="",g="";for(let b of s.address_components)b.types.includes("route")&&(l=b.long_name),b.types.includes("street_number")&&(l+=" "+b.long_name),b.types.includes("locality")&&(d=b.long_name),b.types.includes("postal_code")&&(g=b.long_name);l.trim()&&!/^!+$/.test(l.trim())&&(this.afroshop.street=l.trim()),d&&(this.afroshop.city=d),g&&(this.afroshop.plz=g)}})}}afroshop={name:"",type:"restaurant",address:"",street:"",city:"",plz:"",coordinates:{lat:0,lng:0},phone:"",description:"",rating:4,image:"",cuisine:"",priceLevel:0,hours:"",website:""};openingHours={monday:{isOpen:!1,open:"09:00",close:"18:00"},tuesday:{isOpen:!1,open:"09:00",close:"18:00"},wednesday:{isOpen:!1,open:"09:00",close:"18:00"},thursday:{isOpen:!1,open:"09:00",close:"18:00"},friday:{isOpen:!1,open:"09:00",close:"18:00"},saturday:{isOpen:!1,open:"10:00",close:"16:00"},sunday:{isOpen:!1,open:"12:00",close:"16:00"}};isEditMode=!1;editingId=null;selectedFile=null;imagePreview=null;isUploadingImage=!1;importUrl="";isImporting=!1;isSubmitting=!1;isGeocoding=!1;isAdmin=!1;successMessage="";errorMessage="";ngOnInit(){return v(this,null,function*(){this.authService.user$.subscribe(e=>v(this,null,function*(){if(console.log("Mon UID:",e?.uid),e?.uid){let o=Ee(this.firestore,"roles/admins"),l=(yield Ze(o)).data();console.log("UIDs Firestore:",l?.uids),this.isAdmin=l?.uids?.includes(e.uid)??!1,console.log("isAdmin:",this.isAdmin)}else this.isAdmin=!1}));let t=this.route.snapshot.paramMap.get("id");t&&(this.isEditMode=!0,this.editingId=t,this.loadAfroshopForEdit(t))})}loadAfroshopForEdit(t){return v(this,null,function*(){try{let e=yield this.firebaseService.getAfroshopById(t);e?(this.afroshop={name:e.name||"",type:e.type||"restaurant",address:e.address||"",street:e.street||"",city:e.city||"",plz:e.plz||"",coordinates:e.coordinates||{lat:0,lng:0},phone:e.phone||"",description:e.description||"",rating:e.rating||4,image:e.image||"",cuisine:e.cuisine||"",priceLevel:e.priceLevel||2,hours:e.hours||"",website:e.website||""},this.imagePreview=e.image||null,this.parseOpeningHoursFromString(e.hours||"")):(this.errorMessage="Afroshop nicht gefunden",setTimeout(()=>this.router.navigate(["/"]),2e3))}catch(e){console.error("Fehler beim Laden:",e),this.errorMessage="Fehler beim Laden des Afroshops"}})}onFileSelected(t){return v(this,null,function*(){let e=t.target.files[0];if(this.errorMessage="",e){if(console.log("\u{1F4C1} Datei ausgew\xE4hlt:",e.name,`${(e.size/1024).toFixed(0)}KB`),!e.type.startsWith("image/")){this.errorMessage="Bitte w\xE4hlen Sie eine Bilddatei (JPG, PNG, GIF)";return}if(e.size>5*1024*1024){this.errorMessage="Bild ist zu gro\xDF (max 5MB)";return}try{this.isUploadingImage=!0,console.log("\u{1F5DC}\uFE0F Komprimierung startet...");let o=yield this.compressImage(e);this.selectedFile=o,console.log("\u2705 Komprimierung abgeschlossen");let s=new FileReader;s.onload=l=>{this.imagePreview=l.target.result,console.log("\u{1F441}\uFE0F Vorschau erstellt")},s.readAsDataURL(o)}catch(o){console.error("\u274C Komprimierungsfehler:",o),this.errorMessage="Fehler bei der Bildkomprimierung"}finally{this.isUploadingImage=!1}}})}testFirebaseConnection(){return v(this,null,function*(){console.log("\u{1F525} Test Firebase Storage...");try{console.log("\u{1F50D} Storage service:",this.firebaseService),console.log("\u{1F50D} Storage instance:",this.firebaseService.storage);let t=document.createElement("canvas");t.width=100,t.height=100;let e=t.getContext("2d");e&&(e.fillStyle="#FF6B6B",e.fillRect(0,0,100,100),e.fillStyle="white",e.font="16px Arial",e.fillText("Test",30,55));let o=yield new Promise(d=>{t.toBlob(g=>d(g),"image/jpeg",.8)}),s=new File([o],"test-image.jpg",{type:"image/jpeg"});console.log("\u{1F9EA} Test upload avec image g\xE9n\xE9r\xE9e...",s.size,"bytes");let l=yield this.firebaseService.uploadImage(s);console.log("\u2705 Test r\xE9ussi! URL:",l),this.successMessage="Firebase Storage fonctionne correctement! Image upload\xE9e."}catch(t){console.error("\u274C Test \xE9chou\xE9:",t),t instanceof Error?t.message.includes("CORS")?this.errorMessage="Erreur CORS: V\xE9rifiez les r\xE8gles Firebase Storage et l'authentification.":t.message.includes("permission-denied")?this.errorMessage="Permission refus\xE9e: Connectez-vous et v\xE9rifiez les r\xE8gles Firebase.":t.message.includes("network")?this.errorMessage="Erreur r\xE9seau: V\xE9rifiez votre connexion internet.":this.errorMessage=`Erreur Firebase: ${t.message}`:this.errorMessage="Erreur inconnue lors du test Firebase Storage."}})}compressImage(t){return new Promise((e,o)=>{let s=new FileReader;s.readAsDataURL(t),s.onload=l=>{let d=new Image;d.src=l.target.result,d.onload=()=>{let g=document.createElement("canvas"),b=g.getContext("2d"),P=1200,A=1200,L=d.width,B=d.height;L>B?L>P&&(B*=P/L,L=P):B>A&&(L*=A/B,B=A),g.width=L,g.height=B,b?.drawImage(d,0,0,L,B),g.toBlob(K=>{if(K){let H=new File([K],t.name,{type:"image/jpeg",lastModified:Date.now()});console.log(`\u2705 Image compress\xE9e: ${(t.size/1024).toFixed(0)}KB \u2192 ${(H.size/1024).toFixed(0)}KB`),e(H)}else o(new Error("Compression \xE9chou\xE9e"))},"image/jpeg",.8)},d.onerror=()=>o(new Error("Erreur de chargement de l'image"))},s.onerror=()=>o(new Error("Erreur de lecture du fichier"))})}uploadImage(){return v(this,null,function*(){if(!this.selectedFile)return console.log("\u{1F4DD} Kein neues Bild, behalte das vorhandene"),this.afroshop.image;this.isUploadingImage=!0,console.log(`\u{1F4E4} Upload l\xE4uft... Gr\xF6\xDFe: ${(this.selectedFile.size/1024).toFixed(0)}KB`),console.log("\u{1F4C1} Datei:",this.selectedFile.name,this.selectedFile.type);try{console.log("\u{1F525} Service Firebase:",this.firebaseService);let t=yield this.firebaseService.uploadImage(this.selectedFile);return console.log("\u2705 Upload erfolgreich! URL:",t),this.afroshop.image=t,t}catch(t){throw console.error("\u274C Detaillierter Upload-Fehler:",t),console.error("\u274C Fehlertyp:",typeof t),console.error("\u274C Nachricht:",t instanceof Error?t.message:"Unbekannter Fehler"),t instanceof Error?this.errorMessage=`Upload-Fehler: ${t.message}`:this.errorMessage="Unbekannter Upload-Fehler",t}finally{this.isUploadingImage=!1}})}onSubmit(){return v(this,null,function*(){if(this.validateForm()){this.isSubmitting=!0,this.errorMessage="",this.successMessage="";try{let t=this.authService.getCurrentUser();if(!t){this.errorMessage="Sie m\xFCssen angemeldet sein";return}this.selectedFile&&(this.afroshop.image=yield this.uploadImage()),(!this.afroshop.priceLevel||this.afroshop.priceLevel===0)&&(this.afroshop.priceLevel=2),this.afroshop.website=this.afroshop.website?.trim()||"",this.afroshop.cuisine=this.afroshop.cuisine?.trim()||"",this.afroshop.hours=this.convertOpeningHoursToString();let e=this.extractCityFromAddress(this.afroshop.address);if(console.log("\u{1F4DD} Donn\xE9es soumises:",JSON.stringify(this.afroshop)),console.log("\u{1F5FA}\uFE0F Coordonn\xE9es:",this.afroshop.coordinates),console.log("\u{1F3D9}\uFE0F Ville extraite:",e),console.log("\u{1F6E3}\uFE0F Adresse:",this.afroshop.address),this.isEditMode&&this.editingId){let o=V(N({},this.afroshop),{city:e,updatedBy:t.uid,updatedByName:t.displayName||t.email,updatedAt:new Date});console.log("\u{1F504} Mise \xE0 jour Afroshop:",o),yield this.firebaseService.updateAfroshop(this.editingId,o),this.successMessage="\u2705 Afroshop erfolgreich aktualisiert!"}else{let o=V(N({},this.afroshop),{verified:!1,city:e,createdBy:t.uid,createdByName:t.displayName||t.email,createdAt:new Date});console.log("\u2795 Cr\xE9ation Afroshop:",o);let s=yield this.firebaseService.addAfroshop(o);this.successMessage="\u2705 Afroshop erfolgreich hinzugef\xFCgt! ID: "+s}this.resetForm(),console.log("\u{1F500} Navigation vers la galerie..."),setTimeout(()=>{this.router.navigate(["/gallery"])},2e3)}catch(t){console.error("Fehler:",t),this.errorMessage=this.isEditMode?"Fehler beim Aktualisieren des Afroshops":"Fehler beim Hinzuf\xFCgen des Afroshops"}finally{this.isSubmitting=!1}}})}validateForm(){return this.afroshop.name.trim()?this.afroshop.address.trim()?this.geocodingService.isValidCoordinates(this.afroshop.coordinates.lat,this.afroshop.coordinates.lng)?this.afroshop.phone.trim()?this.afroshop.description.trim()?this.afroshop.website&&this.afroshop.website.trim()&&!/^https?:\/\/.+/.test(this.afroshop.website)?(this.errorMessage="Website URL muss mit http:// oder https:// beginnen",!1):(this.setCoordinatesFromAddress(),!0):(this.errorMessage="Beschreibung ist erforderlich",!1):(this.errorMessage="Telefonnummer ist erforderlich",!1):(this.errorMessage="Adresse konnte nicht georeferenziert werden. Bitte \xFCberpr\xFCfen Sie die Adresse.",console.warn("\u274C Coordonn\xE9es invalides:",this.afroshop.coordinates),!1):(this.errorMessage="Adresse ist erforderlich",!1):(this.errorMessage="Name ist erforderlich",!1)}onAddressChange(){if(console.log("\u{1F4DD} Stra\xDFeneingabe:",this.afroshop.street),/^!+$/.test(this.afroshop.street)){this.geocodingWarning="Ung\xFCltige Eingabe: Bitte geben Sie eine g\xFCltige Stra\xDFe ein.";return}this.geocodeTimeout&&clearTimeout(this.geocodeTimeout),this.geocodeTimeout=setTimeout(()=>{this.setCoordinatesFromAddress()},1e3)}geocodeTimeout=null;setCoordinatesFromAddress(){let t=this.afroshop.street?this.afroshop.street.trim():"",e=this.afroshop.plz?this.afroshop.plz.trim():"",o=this.afroshop.city?this.afroshop.city.trim():"";if(!t||t.length<3){this.geocodingWarning="Bitte geben Sie eine g\xFCltige Stra\xDFe ein (mindestens 3 Zeichen).",console.warn("\u274C Stra\xDFe zu kurz oder leer, Geocodierung abgebrochen.");return}t=t.replace(/([a-zA-Z]+)(\d+)/,"$1 $2"),t=t.replace(/\bStr\.?\b/g,"Stra\xDFe"),t=t.replace(/\bPl\.?\b/g,"Platz"),t=t.replace(/\bDr\.?\b/g,"Doktor"),t=t.replace(/\b([a-z])([a-z]*)/gi,(l,d,g)=>d.toUpperCase()+g.toLowerCase()),o=o.replace(/\b([a-z])([a-z]*)/gi,(l,d,g)=>d.toUpperCase()+g.toLowerCase()),t=t.replace(//g,"ss").replace(/[]/gi,"e").replace(/[]/gi,"a").replace(/[]/gi,"i").replace(/[]/gi,"o").replace(/[]/gi,"u").replace(//gi,"c"),o=o.replace(//g,"ss").replace(/[]/gi,"e").replace(/[]/gi,"a").replace(/[]/gi,"i").replace(/[]/gi,"o").replace(/[]/gi,"u").replace(//gi,"c");let s=`${t}, ${e} ${o}`.trim();if(this.afroshop.address=s,console.log("\u{1F5FA}\uFE0F Adresse normalis\xE9e pour g\xE9ocodage:",s),!s||s.length===0){console.log("\u274C Adresse vide, impossible de g\xE9ocoder"),this.isGeocoding=!1;return}if(this.geocodingService.isValidCoordinates(this.afroshop.coordinates.lat,this.afroshop.coordinates.lng)){console.log("\u2705 Coordonn\xE9es d\xE9j\xE0 valides:",this.afroshop.coordinates),this.isGeocoding=!1;return}console.log("\u{1F5FA}\uFE0F D\xE9marrage du g\xE9ocodage pour:",s),this.isGeocoding=!0,this.geocodingService.geocodeAddress(s).subscribe({next:l=>{if(this.isGeocoding=!1,this.geocodingWarning="",l&&l.lat&&l.lng&&(l.lat!==0||l.lng!==0))this.afroshop.coordinates={lat:l.lat,lng:l.lng},console.log("\u2705 G\xE9ocodage r\xE9ussi:",{address:this.afroshop.address,coordinates:this.afroshop.coordinates,formatted_address:l.formatted_address}),l.accuracy==="APPROXIMATE"&&(this.geocodingWarning="Attention : la localisation est impr\xE9cise, veuillez v\xE9rifier l'adresse."),l.formatted_address&&this.afroshop.city&&!l.formatted_address.toLowerCase().includes(this.afroshop.city.toLowerCase())&&(this.geocodingWarning="Attention : la ville trouv\xE9e ne correspond pas \xE0 celle saisie."),l.formatted_address&&l.accuracy!=="APPROXIMATE"&&(this.afroshop.address=l.formatted_address);else{console.warn("\u274C Premi\xE8re tentative \xE9chou\xE9e, essai avec adresse brute:",this.afroshop.street,this.afroshop.plz,this.afroshop.city);let d=`${this.afroshop.street}, ${this.afroshop.plz} ${this.afroshop.city}`.trim();d+=", Deutschland",this.geocodingService.geocodeAddress(d).subscribe({next:g=>{console.log("\u{1F5FA}\uFE0F R\xE9ponse brute API g\xE9ocodage (fallback):",g),g&&g.lat&&g.lng&&(g.lat!==0||g.lng!==0)?(this.afroshop.coordinates={lat:g.lat,lng:g.lng},console.log("\u2705 Coordonn\xE9es trouv\xE9es (fallback):",g),g.formatted_address&&g.accuracy!=="APPROXIMATE"&&(this.afroshop.address=g.formatted_address)):(this.afroshop.coordinates={lat:0,lng:0},console.log("\u274C Coordonn\xE9es invalides apr\xE8s fallback:",g),this.geocodingWarning="Adresse non reconnue, veuillez v\xE9rifier.")},error:g=>{this.afroshop.coordinates={lat:0,lng:0},this.geocodingWarning="Erreur lors du g\xE9ocodage.",console.error("\u274C Erreur lors du g\xE9ocodage (fallback):",g)}})}},error:l=>{this.isGeocoding=!1,this.geocodingWarning="Erreur lors du g\xE9ocodage.",console.error("\u274C Erreur lors du g\xE9ocodage:",l),this.afroshop.coordinates={lat:0,lng:0}}})}resetForm(){this.afroshop={name:"",type:"restaurant",address:"",street:"",city:"",plz:"",coordinates:{lat:0,lng:0},phone:"",description:"",rating:4,image:"",cuisine:"",priceLevel:2,hours:"",website:""}}extractCityFromAddress(t){let e=["berlin","hamburg","m\xFCnchen","k\xF6ln","frankfurt","dortmund"],o=t.toLowerCase();for(let s of e)if(o.includes(s))return s;return"unknown"}importFromUrl(){return v(this,null,function*(){if(!this.importUrl.trim()){this.errorMessage="Bitte geben Sie eine g\xFCltige URL ein";return}this.isImporting=!0,this.errorMessage="",this.successMessage="";try{this.importUrl.includes("google.com/maps")||this.importUrl.includes("goo.gl/maps")?yield this.importFromGoogleMaps():this.importUrl.includes("nextdoor.")?yield this.importFromNextdoor():this.importUrl.includes("facebook.com")||this.importUrl.includes("fb.com")?yield this.importFromFacebook():yield this.importFromGenericWebsite(),this.successMessage="Informationen erfolgreich importiert! \xDCberpr\xFCfen Sie die Felder und erg\xE4nzen Sie bei Bedarf."}catch(t){console.error("Import error:",t),this.errorMessage="Fehler beim Importieren der Daten. Bitte versuchen Sie es manuell."}finally{this.isImporting=!1}})}importFromGoogleMaps(){return v(this,null,function*(){let t=this.extractPlaceNameFromGoogleMapsUrl(this.importUrl);t&&(this.afroshop.name=t,this.afroshop.description="Afrikanisches Gesch\xE4ft/Restaurant gefunden auf Google Maps")})}importFromNextdoor(){return v(this,null,function*(){let e=this.importUrl.split("/").find(o=>o.includes("-"))?.replace(/-/g," ")||"";if(e){this.afroshop.name=this.capitalizeWords(e),this.afroshop.description="Afrikanisches Gesch\xE4ft gefunden auf Nextdoor";let o=e.match(/(berlin|hamburg|mnchen|kln|frankfurt|dortmund|essen|dsseldorf)/i);o&&(this.afroshop.address=o[1])}})}importFromFacebook(){return v(this,null,function*(){try{let t=this.importUrl.split("/"),e="",o=t.findIndex(s=>s==="p");if(o!==-1&&t[o+1])e=t[o+1].split("-").slice(0,-1).join(" ");else{let s=t.find(l=>l&&l!=="www.facebook.com"&&l!=="facebook.com"&&l!=="p"&&!l.match(/^\d+$/)&&l.length>2);s&&(e=s.replace(/-/g," "))}if(e){this.afroshop.name=this.capitalizeWords(e),this.afroshop.description="Afrikanisches Gesch\xE4ft gefunden auf Facebook",this.afroshop.website=this.importUrl,this.afroshop.type="services";let s=e.toLowerCase();s.includes("restaurant")||s.includes("food")||s.includes("cuisine")?this.afroshop.type="restaurant":s.includes("shop")||s.includes("store")||s.includes("market")?this.afroshop.type="epicerie":s.includes("hair")||s.includes("coiffeur")||s.includes("salon")?this.afroshop.type="coiffeur":(s.includes("mode")||s.includes("fashion")||s.includes("clothing"))&&(this.afroshop.type="vetement"),console.log("Facebook import successful:",e)}else throw new Error("Impossible d'extraire le nom depuis l'URL Facebook")}catch(t){console.error("Erreur lors de l'import Facebook:",t),this.afroshop.website=this.importUrl,this.afroshop.description="Afrikanisches Gesch\xE4ft gefunden auf Facebook",this.afroshop.name="Facebook Business"}})}importFromGenericWebsite(){return v(this,null,function*(){try{let e=new URL(this.importUrl).hostname.replace("www.",""),o=e.split(".")[0];o=this.capitalizeWords(o.replace(/[-_]/g," ")),this.afroshop.name=o,this.afroshop.website=this.importUrl,this.afroshop.description=`Afrikanisches Gesch\xE4ft gefunden auf ${e}`,this.afroshop.type="services";let s=e.toLowerCase();s.includes("restaurant")||s.includes("food")||s.includes("cuisine")?this.afroshop.type="restaurant":s.includes("shop")||s.includes("store")||s.includes("market")?this.afroshop.type="epicerie":s.includes("hair")||s.includes("coiffeur")||s.includes("salon")?this.afroshop.type="coiffeur":(s.includes("mode")||s.includes("fashion")||s.includes("clothing"))&&(this.afroshop.type="vetement"),console.log(`Site web g\xE9n\xE9rique import\xE9: ${o} (${e})`)}catch(t){console.error("Erreur lors de l'import du site web:",t),this.afroshop.website=this.importUrl,this.afroshop.description="Site web afrikanisches Gesch\xE4ft",this.afroshop.name="Nouveau Afroshop"}})}extractPlaceNameFromGoogleMapsUrl(t){let e=t.match(/place\/([^\/]+)/);return e?decodeURIComponent(e[1]).replace(/\+/g," "):""}capitalizeWords(t){return t.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}convertOpeningHoursToString(){let t=[{key:"monday",name:"Mo"},{key:"tuesday",name:"Di"},{key:"wednesday",name:"Mi"},{key:"thursday",name:"Do"},{key:"friday",name:"Fr"},{key:"saturday",name:"Sa"},{key:"sunday",name:"So"}],e=[];return t.forEach(o=>{let s=this.openingHours[o.key];s.isOpen&&e.push(`${o.name}: ${s.open}-${s.close}`)}),e.length>0?e.join(", "):"\xD6ffnungszeiten nicht angegeben"}parseOpeningHoursFromString(t){if(!t||t==="\xD6ffnungszeiten nicht angegeben")return;this.openingHours.monday.isOpen=!1,this.openingHours.tuesday.isOpen=!1,this.openingHours.wednesday.isOpen=!1,this.openingHours.thursday.isOpen=!1,this.openingHours.friday.isOpen=!1,this.openingHours.saturday.isOpen=!1,this.openingHours.sunday.isOpen=!1,t.split(",").forEach(o=>{let l=o.trim().match(/^(\w+):\s*(\d{2}:\d{2})-(\d{2}:\d{2})$/);if(l){let[,d,g,b]=l;switch(d.toLowerCase()){case"mo":this.openingHours.monday={isOpen:!0,open:g,close:b};break;case"di":this.openingHours.tuesday={isOpen:!0,open:g,close:b};break;case"mi":this.openingHours.wednesday={isOpen:!0,open:g,close:b};break;case"do":this.openingHours.thursday={isOpen:!0,open:g,close:b};break;case"fr":this.openingHours.friday={isOpen:!0,open:g,close:b};break;case"sa":this.openingHours.saturday={isOpen:!0,open:g,close:b};break;case"so":this.openingHours.sunday={isOpen:!0,open:g,close:b};break}}})}goBack(){this.router.navigate(["/"])}getAllBusinessTypes(){return this.translationService.getAllBusinessTypes()}getBusinessTypeName(t){return this.translationService.getBusinessTypeName(t)}onAddProducts(){this.router.navigate(["/add-product"])}static \u0275fac=function(e){return new(e||a)(M(W),M(T),M(Me),M(Be),M(R),M(ie),M(_e))};static \u0275cmp=E({type:a,selectors:[["app-add-afroshop"]],decls:186,vars:50,consts:[["fileInput",""],["streetInput",""],[1,"add-afroshop-container"],[1,"form-header"],[1,"header-content"],[1,"header-text"],[1,"header-actions"],["routerLink","/gallery",1,"back-btn"],["routerLink","/admin","class","back-btn",4,"ngIf"],[1,"afroshop-form",3,"ngSubmit"],[1,"auto-import-section"],[1,"form-group"],["for","importUrl"],[1,"url-input-group"],["type","url","id","importUrl","name","importUrl","placeholder","https://www.facebook.com/business... oder https://www.google.com/maps/place/...",1,"form-input","url-input",3,"ngModelChange","ngModel"],["type","button",1,"import-btn",3,"click","disabled"],[4,"ngIf"],[1,"divider"],["class","message success",4,"ngIf"],["class","message error",4,"ngIf"],["class","message warning",4,"ngIf"],["for","name"],["type","text","id","name","name","name","placeholder","z.B. Mama Afrika Restaurant","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","type"],["id","type","name","type","required","",1,"form-select",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","image"],[1,"image-upload-section"],["type","file","id","image","accept","image/*",1,"file-input",3,"change"],["type","button",1,"upload-btn",3,"click","disabled"],["class","upload-progress",4,"ngIf"],["class","image-preview-container",4,"ngIf"],[1,"form-hint"],["for","street"],["type","text","id","street","name","street","placeholder","z.B. M\xFCllerstra\xDFe 123","required","",1,"form-input",3,"ngModelChange","focus","input","ngModel"],["for","plz"],["type","text","id","plz","name","plz","placeholder","z.B. 13349","required","","pattern","\\d{5}","maxlength","5",1,"form-input",3,"ngModelChange","input","ngModel"],["for","city"],["type","text","id","city","name","city","placeholder","z.B. Berlin","required","","pattern","[A-Za-z\xE4\xF6\xFC\xC4\xD6\xDC\xDF\\-\\s]+",1,"form-input",3,"ngModelChange","input","ngModel"],["class","geocoding-indicator",4,"ngIf"],["class","geocoding-success",4,"ngIf"],["for","phone"],["type","tel","id","phone","name","phone","placeholder","+49 30 12345678","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","description"],["id","description","name","description","placeholder","Beschreiben Sie das Gesch\xE4ft, Spezialit\xE4ten, Atmosph\xE4re...","required","","rows","4",1,"form-textarea",3,"ngModelChange","ngModel"],["class","form-group",4,"ngIf"],[1,"opening-hours-container"],[1,"day-hours"],[1,"day-label"],[1,"hours-controls"],["type","checkbox","id","mon-open","name","mon-open",3,"ngModelChange","ngModel"],["for","mon-open",1,"checkbox-label"],["class","time-selectors",4,"ngIf"],["type","checkbox","id","tue-open","name","tue-open",3,"ngModelChange","ngModel"],["for","tue-open",1,"checkbox-label"],["type","checkbox","id","wed-open","name","wed-open",3,"ngModelChange","ngModel"],["for","wed-open",1,"checkbox-label"],["type","checkbox","id","thu-open","name","thu-open",3,"ngModelChange","ngModel"],["for","thu-open",1,"checkbox-label"],["type","checkbox","id","fri-open","name","fri-open",3,"ngModelChange","ngModel"],["for","fri-open",1,"checkbox-label"],["type","checkbox","id","sat-open","name","sat-open",3,"ngModelChange","ngModel"],["for","sat-open",1,"checkbox-label"],["type","checkbox","id","sun-open","name","sun-open",3,"ngModelChange","ngModel"],["for","sun-open",1,"checkbox-label"],["for","website"],["type","url","id","website","name","website","placeholder","https://www.beispiel.com",1,"form-input",3,"ngModelChange","ngModel"],["for","priceLevel"],["id","priceLevel","name","priceLevel",1,"form-select",3,"ngModelChange","ngModel"],["value","1"],["value","2"],["value","3"],["value","4"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"info-text"],["type","button",1,"btn","btn-success",3,"click"],["routerLink","/admin",1,"back-btn"],[1,"message","success"],[1,"message","error"],[1,"message","warning"],[3,"value"],[1,"upload-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"image-preview-container"],["alt","Preview",1,"image-preview",3,"src"],["type","button","title","Bild entfernen",1,"remove-image-btn",3,"click"],[1,"geocoding-indicator"],[1,"geocoding-success"],["for","cuisine"],["type","text","id","cuisine","name","cuisine","placeholder","z.B. Westafrikanische, \xC4thiopische, Nigerianische, Senegalesische",1,"form-input",3,"ngModelChange","ngModel"],[1,"time-selectors"],["name","mon-open-time",1,"time-select",3,"ngModelChange","ngModel"],["value","06:00"],["value","07:00"],["value","08:00"],["value","09:00"],["value","10:00"],["value","11:00"],["value","12:00"],["value","13:00"],["value","14:00"],["value","15:00"],["value","16:00"],["value","17:00"],["value","18:00"],["value","19:00"],["value","20:00"],["value","21:00"],["value","22:00"],["value","23:00"],[1,"time-separator"],["name","mon-close-time",1,"time-select",3,"ngModelChange","ngModel"],["name","tue-open-time",1,"time-select",3,"ngModelChange","ngModel"],["name","tue-close-time",1,"time-select",3,"ngModelChange","ngModel"],["name","wed-open-time",1,"time-select",3,"ngModelChange","ngModel"],["name","wed-close-time",1,"time-select",3,"ngModelChange","ngModel"],["name","thu-open-time",1,"time-select",3,"ngModelChange","ngModel"],["name","thu-close-time",1,"time-select",3,"ngModelChange","ngModel"],["name","fri-open-time",1,"time-select",3,"ngModelChange","ngModel"],["name","fri-close-time",1,"time-select",3,"ngModelChange","ngModel"],["name","sat-open-time",1,"time-select",3,"ngModelChange","ngModel"],["name","sat-close-time",1,"time-select",3,"ngModelChange","ngModel"],["name","sun-open-time",1,"time-select",3,"ngModelChange","ngModel"],["name","sun-close-time",1,"time-select",3,"ngModelChange","ngModel"]],template:function(e,o){if(e&1){let s=S();i(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h2"),r(5),n(),i(6,"p"),r(7),n()(),i(8,"div",6)(9,"a",7),r(10,"\u2190 Galerie"),n(),f(11,wa,2,0,"a",8),n()(),i(12,"form",9),_("ngSubmit",function(){return u(s),h(o.onSubmit())}),i(13,"div",10)(14,"h3"),r(15,"\u{1F517} Schnell hinzuf\xFCgen"),n(),i(16,"p"),r(17,"F\xFCgen Sie einen Link ein, um Informationen automatisch zu laden"),n(),i(18,"div",11)(19,"label",12),r(20,"Google Maps, Facebook, Nextdoor oder Website URL"),n(),i(21,"div",13)(22,"input",14),C("ngModelChange",function(d){return u(s),y(o.importUrl,d)||(o.importUrl=d),h(d)}),n(),i(23,"button",15),_("click",function(){return u(s),h(o.importFromUrl())}),f(24,Sa,2,0,"span",16)(25,ka,2,0,"span",16),n()()(),i(26,"div",17)(27,"span"),r(28,"oder manuell eingeben"),n()()(),f(29,Pa,2,1,"div",18)(30,Oa,2,1,"div",19)(31,Ea,2,1,"div",20),i(32,"div",11)(33,"label",21),r(34,"Name des Gesch\xE4fts *"),n(),i(35,"input",22),C("ngModelChange",function(d){return u(s),y(o.afroshop.name,d)||(o.afroshop.name=d),h(d)}),n()(),i(36,"div",11)(37,"label",23),r(38,"Typ *"),n(),i(39,"select",24),C("ngModelChange",function(d){return u(s),y(o.afroshop.type,d)||(o.afroshop.type=d),h(d)}),i(40,"option",25),r(41,"Typ ausw\xE4hlen"),n(),f(42,Ia,2,3,"option",26),n()(),i(43,"div",11)(44,"label",27),r(45,"\u{1F4F8} Bild hochladen"),n(),i(46,"div",28)(47,"input",29,0),_("change",function(d){return u(s),h(o.onFileSelected(d))}),n(),i(49,"button",30),_("click",function(){u(s);let d=Pe(48);return h(d.click())}),f(50,Aa,2,0,"span",16)(51,Da,2,0,"span",16)(52,za,2,0,"span",16),n(),f(53,Ta,5,0,"div",31)(54,La,4,1,"div",32),i(55,"small",33),r(56,"Max. 5MB - Wird automatisch komprimiert und optimiert"),n()()(),i(57,"div",11)(58,"label",34),r(59,"Stra\xDFe und Hausnr. *"),n(),i(60,"input",35,1),C("ngModelChange",function(d){return u(s),y(o.afroshop.street,d)||(o.afroshop.street=d),h(d)}),_("focus",function(){u(s);let d=Pe(61);return h(o.initStreetAutocomplete(d))})("input",function(){return u(s),h(o.onAddressChange())}),n(),i(62,"small",33),r(63,"Adresse wird automatisch vorgeschlagen (Google Maps Autocomplete)"),n()(),i(64,"div",11)(65,"label",36),r(66,"PLZ *"),n(),i(67,"input",37),C("ngModelChange",function(d){return u(s),y(o.afroshop.plz,d)||(o.afroshop.plz=d),h(d)}),_("input",function(){return u(s),h(o.onAddressChange())}),n(),i(68,"small",33),r(69,"5-stellige Postleitzahl"),n()(),i(70,"div",11)(71,"label",38),r(72,"Stadt *"),n(),i(73,"input",39),C("ngModelChange",function(d){return u(s),y(o.afroshop.city,d)||(o.afroshop.city=d),h(d)}),_("input",function(){return u(s),h(o.onAddressChange())}),n(),i(74,"small",33),r(75,"Nur Buchstaben und Bindestriche"),n()(),i(76,"div",11)(77,"small"),r(78,"Bitte geben Sie Stra\xDFe, PLZ und Stadt an"),n(),f(79,Fa,2,0,"div",40)(80,Ra,2,2,"div",41),n(),i(81,"div",11)(82,"label",42),r(83,"Telefon *"),n(),i(84,"input",43),C("ngModelChange",function(d){return u(s),y(o.afroshop.phone,d)||(o.afroshop.phone=d),h(d)}),n()(),i(85,"div",11)(86,"label",44),r(87,"Beschreibung *"),n(),i(88,"textarea",45),C("ngModelChange",function(d){return u(s),y(o.afroshop.description,d)||(o.afroshop.description=d),h(d)}),n()(),f(89,Ba,6,1,"div",46),i(90,"div",11)(91,"label"),r(92,"\xD6ffnungszeiten"),n(),i(93,"div",47)(94,"div",48)(95,"div",49),r(96,"Montag:"),n(),i(97,"div",50)(98,"input",51),C("ngModelChange",function(d){return u(s),y(o.openingHours.monday.isOpen,d)||(o.openingHours.monday.isOpen=d),h(d)}),n(),i(99,"label",52),r(100,"Ge\xF6ffnet"),n(),f(101,Na,77,2,"div",53),n()(),i(102,"div",48)(103,"div",49),r(104,"Dienstag:"),n(),i(105,"div",50)(106,"input",54),C("ngModelChange",function(d){return u(s),y(o.openingHours.tuesday.isOpen,d)||(o.openingHours.tuesday.isOpen=d),h(d)}),n(),i(107,"label",55),r(108,"Ge\xF6ffnet"),n(),f(109,Ga,77,2,"div",53),n()(),i(110,"div",48)(111,"div",49),r(112,"Mittwoch:"),n(),i(113,"div",50)(114,"input",56),C("ngModelChange",function(d){return u(s),y(o.openingHours.wednesday.isOpen,d)||(o.openingHours.wednesday.isOpen=d),h(d)}),n(),i(115,"label",57),r(116,"Ge\xF6ffnet"),n(),f(117,Va,77,2,"div",53),n()(),i(118,"div",48)(119,"div",49),r(120,"Donnerstag:"),n(),i(121,"div",50)(122,"input",58),C("ngModelChange",function(d){return u(s),y(o.openingHours.thursday.isOpen,d)||(o.openingHours.thursday.isOpen=d),h(d)}),n(),i(123,"label",59),r(124,"Ge\xF6ffnet"),n(),f(125,Ua,77,2,"div",53),n()(),i(126,"div",48)(127,"div",49),r(128,"Freitag:"),n(),i(129,"div",50)(130,"input",60),C("ngModelChange",function(d){return u(s),y(o.openingHours.friday.isOpen,d)||(o.openingHours.friday.isOpen=d),h(d)}),n(),i(131,"label",61),r(132,"Ge\xF6ffnet"),n(),f(133,Wa,77,2,"div",53),n()(),i(134,"div",48)(135,"div",49),r(136,"Samstag:"),n(),i(137,"div",50)(138,"input",62),C("ngModelChange",function(d){return u(s),y(o.openingHours.saturday.isOpen,d)||(o.openingHours.saturday.isOpen=d),h(d)}),n(),i(139,"label",63),r(140,"Ge\xF6ffnet"),n(),f(141,ja,77,2,"div",53),n()(),i(142,"div",48)(143,"div",49),r(144,"Sonntag:"),n(),i(145,"div",50)(146,"input",64),C("ngModelChange",function(d){return u(s),y(o.openingHours.sunday.isOpen,d)||(o.openingHours.sunday.isOpen=d),h(d)}),n(),i(147,"label",65),r(148,"Ge\xF6ffnet"),n(),f(149,Ha,77,2,"div",53),n()(),i(150,"small",33),r(151,"W\xE4hlen Sie f\xFCr jeden Tag, ob das Gesch\xE4ft ge\xF6ffnet ist und die \xD6ffnungszeiten"),n()()(),i(152,"div",11)(153,"label",66),r(154,"Website"),n(),i(155,"input",67),C("ngModelChange",function(d){return u(s),y(o.afroshop.website,d)||(o.afroshop.website=d),h(d)}),n(),i(156,"small",33),r(157,"Optional: Offizielle Website oder Social Media Profil"),n()(),i(158,"div",11)(159,"label",68),r(160,"Preisstufe"),n(),i(161,"select",69),C("ngModelChange",function(d){return u(s),y(o.afroshop.priceLevel,d)||(o.afroshop.priceLevel=d),h(d)}),i(162,"option",25),r(163,"-- Bitte w\xE4hlen --"),n(),i(164,"option",70),r(165,"\u20AC - G\xFCnstig (unter 10\u20AC)"),n(),i(166,"option",71),r(167,"\u20AC\u20AC - Moderat (10-20\u20AC)"),n(),i(168,"option",72),r(169,"\u20AC\u20AC\u20AC - Gehoben (20-40\u20AC)"),n(),i(170,"option",73),r(171,"\u20AC\u20AC\u20AC\u20AC - Hochpreisig (\xFCber 40\u20AC)"),n()()(),i(172,"div",74)(173,"button",75),_("click",function(){return u(s),h(o.goBack())}),f(174,qa,2,0,"span",16)(175,Ka,2,0,"span",16),n(),i(176,"button",76),f(177,Za,2,1,"span",16)(178,$a,2,0,"span",16)(179,Ya,2,1,"span",16),n()(),i(180,"div",74)(181,"div",77)(182,"span"),r(183,"Wenn Sie eine E-Commerce Seite erstellen m\xF6chten, dann klicken Sie auf den Button hier unter."),n()(),i(184,"button",78),_("click",function(){return u(s),h(o.onAddProducts())}),r(185," \u{1F6D2} Produkte hinzuf\xFCgen "),n()()()()()}e&2&&(c(5),k(o.isEditMode?"\u270F\uFE0F Afroshop bearbeiten":"\u{1F3EA} Neuen Afroshop hinzuf\xFCgen"),c(2),k(o.isEditMode?"Aktualisieren Sie die Informationen":"Teilen Sie Ihren Lieblings-Afroshop mit der Community!"),c(4),p("ngIf",o.isAdmin),c(11),x("ngModel",o.importUrl),c(),p("disabled",!o.importUrl||o.isImporting),c(),p("ngIf",!o.isImporting),c(),p("ngIf",o.isImporting),c(4),p("ngIf",o.successMessage),c(),p("ngIf",o.errorMessage),c(),p("ngIf",o.geocodingWarning),c(4),x("ngModel",o.afroshop.name),c(4),x("ngModel",o.afroshop.type),c(3),p("ngForOf",o.getAllBusinessTypes()),c(7),p("disabled",o.isUploadingImage),c(),p("ngIf",!o.imagePreview&&!o.isUploadingImage),c(),p("ngIf",o.imagePreview&&!o.isUploadingImage),c(),p("ngIf",o.isUploadingImage),c(),p("ngIf",o.isUploadingImage),c(),p("ngIf",o.imagePreview),c(6),x("ngModel",o.afroshop.street),c(7),x("ngModel",o.afroshop.plz),c(6),x("ngModel",o.afroshop.city),c(6),p("ngIf",o.isGeocoding),c(),p("ngIf",o.afroshop.coordinates.lat!==0&&o.afroshop.coordinates.lng!==0),c(4),x("ngModel",o.afroshop.phone),c(4),x("ngModel",o.afroshop.description),c(),p("ngIf",o.afroshop.type==="restaurant"),c(9),x("ngModel",o.openingHours.monday.isOpen),c(3),p("ngIf",o.openingHours.monday.isOpen),c(5),x("ngModel",o.openingHours.tuesday.isOpen),c(3),p("ngIf",o.openingHours.tuesday.isOpen),c(5),x("ngModel",o.openingHours.wednesday.isOpen),c(3),p("ngIf",o.openingHours.wednesday.isOpen),c(5),x("ngModel",o.openingHours.thursday.isOpen),c(3),p("ngIf",o.openingHours.thursday.isOpen),c(5),x("ngModel",o.openingHours.friday.isOpen),c(3),p("ngIf",o.openingHours.friday.isOpen),c(5),x("ngModel",o.openingHours.saturday.isOpen),c(3),p("ngIf",o.openingHours.saturday.isOpen),c(5),x("ngModel",o.openingHours.sunday.isOpen),c(3),p("ngIf",o.openingHours.sunday.isOpen),c(6),x("ngModel",o.afroshop.website),c(6),x("ngModel",o.afroshop.priceLevel),c(12),p("disabled",o.isSubmitting||o.isUploadingImage),c(),p("ngIf",!o.isSubmitting&&!o.isUploadingImage),c(),p("ngIf",o.isSubmitting||o.isUploadingImage),c(),p("disabled",o.isSubmitting||o.isUploadingImage),c(),p("ngIf",o.isSubmitting&&!o.isUploadingImage),c(),p("ngIf",o.isUploadingImage),c(),p("ngIf",!o.isSubmitting&&!o.isUploadingImage))},dependencies:[I,Z,D,$,xe,Ye,Xe,ae,Bi,$e,se,be,ye,Vi,Ui,le,ve,re,oe],styles:['.message.error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb;padding:10px 16px;border-radius:6px;margin-bottom:12px;font-weight:500}.auto-import-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff7b00,#ff5722);color:#fff;padding:20px;border-radius:12px;margin-bottom:30px;box-shadow:0 4px 15px #ff57224d}.auto-import-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:1.3em;font-weight:600}.auto-import-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px;opacity:.9;font-size:.95em}.url-input-group[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.url-input[_ngcontent-%COMP%]{flex:1;padding:12px 15px;border:2px solid rgba(255,255,255,.5);background:#ffffffe6;color:#333;border-radius:8px;font-size:14px}.url-input[_ngcontent-%COMP%]::placeholder{color:#666}.url-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#fff;background:#fff;color:#333}.geocoding-indicator[_ngcontent-%COMP%]{margin-top:8px;padding:8px 12px;background:#e3f2fd;color:#1976d2;border-radius:6px;font-size:.9em;border-left:4px solid #2196f3;animation:_ngcontent-%COMP%_pulse 1.5s infinite}.geocoding-success[_ngcontent-%COMP%]{margin-top:8px;padding:8px 12px;background:#e8f5e8;color:#2e7d32;border-radius:6px;font-size:.9em;border-left:4px solid #4caf50}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.7}to{opacity:1}}.import-btn[_ngcontent-%COMP%]{padding:12px 20px;background:#fff3;color:#fff;border:2px solid rgba(255,255,255,.3);border-radius:8px;cursor:pointer;font-weight:600;transition:all .3s ease;white-space:nowrap;backdrop-filter:blur(10px)}.import-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffffff4d;border-color:#ffffff80;transform:translateY(-2px)}.import-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.divider[_ngcontent-%COMP%]{text-align:center;margin:25px 0;position:relative}.divider[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:#ffffff4d}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff7b00,#ff5722);padding:0 15px;font-size:.9em;opacity:.8}@media (max-width: 600px){.url-input-group[_ngcontent-%COMP%]{flex-direction:column}.url-input[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.import-btn[_ngcontent-%COMP%]{width:100%;margin-bottom:0}}.add-afroshop-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:var(--spacing-lg)}.form-header[_ngcontent-%COMP%]{margin-bottom:var(--spacing-xl);padding:2rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:15px;box-shadow:0 10px 30px #667eea4d}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:20px}.header-text[_ngcontent-%COMP%]{text-align:center;flex:1}.header-actions[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.back-btn[_ngcontent-%COMP%]{background:#fff3;color:#fff;padding:8px 15px;border-radius:6px;text-decoration:none;font-size:14px;font-weight:500;transition:all .3s ease;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3)}.back-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:translateY(-1px);text-decoration:none;color:#fff}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;margin-bottom:var(--spacing-sm)}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffe6;font-size:1.1rem}.afroshop-form[_ngcontent-%COMP%]{background:#fff;padding:var(--spacing-xl);border-radius:var(--border-radius);box-shadow:var(--shadow-soft)}.form-group[_ngcontent-%COMP%]{margin-bottom:var(--spacing-lg)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:var(--spacing-xs);color:var(--text-primary)}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{width:100%;padding:var(--spacing-sm);border:2px solid #ff7b00;border-radius:var(--border-radius);font-size:1rem;background:#fff;box-shadow:0 2px 8px #00000012;transition:border-color .3s ease,box-shadow .3s ease}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#ff5722;box-shadow:0 4px 16px #ff57221a}.form-textarea[_ngcontent-%COMP%]{min-height:100px;resize:vertical}.form-actions[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:flex-start;margin-bottom:.5rem}.form-actions[_ngcontent-%COMP%]:first-of-type{justify-content:flex-start}.form-actions[_ngcontent-%COMP%] + .form-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:center;margin-top:1.2rem}.info-text[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:1.05em;color:#1976d2;background:#e3f2fd;border-radius:8px;padding:10px 18px;margin-bottom:.7rem;font-weight:500;box-shadow:0 2px 8px #1976d212}.form-actions[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{min-width:200px;font-size:1.08em;padding:12px 28px;border-radius:8px;margin:0 auto;display:block}.btn[_ngcontent-%COMP%]{padding:16px 32px;border:none;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);text-decoration:none;display:inline-flex;align-items:center;justify-content:center;text-align:center;min-width:160px;position:relative;overflow:hidden;-webkit-user-select:none;user-select:none;transform:translateY(0)}.btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.btn[_ngcontent-%COMP%]:hover:before{left:100%}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff7b00,#ff5722,#e64a19);color:#fff;box-shadow:0 6px 20px #ff7b0066;border:2px solid transparent}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ff8f00,#ff6f00,#f57c00);transform:translateY(-3px);box-shadow:0 12px 30px #ff7b0080}.btn-primary[_ngcontent-%COMP%]:active{transform:translateY(-1px);box-shadow:0 4px 15px #ff7b0099}.btn-primary[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#bdbdbd,#9e9e9e);color:#fff;cursor:not-allowed;transform:none;box-shadow:0 2px 8px #0000001a;opacity:.7;animation:none}.btn-primary[_ngcontent-%COMP%]:disabled:before{display:none}.btn-primary[_ngcontent-%COMP%]:not(:disabled){animation:_ngcontent-%COMP%_gentle-pulse 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_gentle-pulse{0%,to{box-shadow:0 6px 20px #ff7b0066}50%{box-shadow:0 6px 25px #ff7b0099}}.btn-primary[_ngcontent-%COMP%]:hover{animation:none}.btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);color:#495057;box-shadow:0 4px 15px #0000001a;border:2px solid #dee2e6}.btn-secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#e9ecef,#dee2e6);transform:translateY(-2px);box-shadow:0 8px 25px #00000026;border-color:#adb5bd}.btn-secondary[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 10px #0003}.alert[_ngcontent-%COMP%]{padding:var(--spacing-sm);border-radius:var(--border-radius);margin-bottom:var(--spacing-md)}.alert-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724;border:1px solid #c3e6cb}.alert-error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.image-upload-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.file-input[_ngcontent-%COMP%]{display:none}.upload-btn[_ngcontent-%COMP%]{padding:12px 24px;background:linear-gradient(135deg,var(--accent-color),var(--accent-light));color:#fff;border:none;border-radius:var(--border-radius);cursor:pointer;font-weight:600;transition:all var(--transition-normal);box-shadow:var(--shadow-sm);display:inline-flex;align-items:center;justify-content:center;gap:8px;width:fit-content}.upload-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}.upload-btn[_ngcontent-%COMP%]:disabled{background:#bdc3c7;cursor:not-allowed;transform:none}.upload-btn[_ngcontent-%COMP%]:disabled:hover{transform:none;box-shadow:var(--shadow-sm)}.upload-progress[_ngcontent-%COMP%]{margin-top:var(--spacing-sm);text-align:center}.progress-bar[_ngcontent-%COMP%]{width:100%;height:4px;background:#ecf0f1;border-radius:2px;overflow:hidden;margin-bottom:var(--spacing-xs)}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,var(--accent-color),var(--secondary-color));border-radius:2px;animation:_ngcontent-%COMP%_progress 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_progress{0%{width:0%}50%{width:100%}to{width:0%}}.upload-progress[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-muted);font-style:italic}.image-preview-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:400px;border-radius:var(--border-radius);overflow:hidden;box-shadow:var(--shadow-md);animation:_ngcontent-%COMP%_scaleIn .3s ease-out}.image-preview[_ngcontent-%COMP%]{width:100%;height:auto;max-height:300px;object-fit:cover;display:block}.remove-image-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:32px;height:32px;border-radius:50%;background:#e74c3ce6;color:#fff;border:none;cursor:pointer;font-size:1.2rem;display:flex;align-items:center;justify-content:center;transition:all var(--transition-fast);box-shadow:0 2px 8px #0000004d}.remove-image-btn[_ngcontent-%COMP%]:hover{background:#c0392b;transform:scale(1.1)}.form-hint[_ngcontent-%COMP%]{color:var(--text-light);font-size:.85rem;display:block;margin-top:5px}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@media (max-width: 768px){.add-afroshop-container[_ngcontent-%COMP%]{padding:var(--spacing-md);max-width:100%;display:flex;flex-direction:column;align-items:center}.afroshop-form[_ngcontent-%COMP%]{padding:var(--spacing-lg);display:flex;flex-direction:column;align-items:center}.form-header[_ngcontent-%COMP%]{text-align:center}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;text-align:center}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.url-input-group[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-sm);align-items:center}.url-input[_ngcontent-%COMP%]{width:100%;margin:0 auto}.import-btn[_ngcontent-%COMP%]{width:100%;justify-content:center;margin:0 auto}.form-actions[_ngcontent-%COMP%]{flex-direction:column;gap:15px;padding:20px 0;align-items:center}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{width:100%;font-size:16px;padding:18px 24px;min-width:auto;margin:0 auto}}@media (max-width: 480px){.add-afroshop-container[_ngcontent-%COMP%]{padding:var(--spacing-sm);display:flex;flex-direction:column;align-items:center}.afroshop-form[_ngcontent-%COMP%]{padding:var(--spacing-md);display:flex;flex-direction:column;align-items:center}.form-header[_ngcontent-%COMP%]{text-align:center}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;text-align:center}.auto-import-section[_ngcontent-%COMP%]{padding:var(--spacing-md);margin-bottom:var(--spacing-lg);text-align:center}.auto-import-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;text-align:center}.form-input[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{font-size:16px;margin:0 auto}.upload-btn[_ngcontent-%COMP%]{width:100%;text-align:center;margin:0 auto}.image-preview-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto}.image-preview[_ngcontent-%COMP%]{max-height:200px;margin:0 auto}}.opening-hours-container[_ngcontent-%COMP%]{background:#f8f9fa;border:2px solid #e9ecef;border-radius:12px;padding:20px;margin-top:10px}.day-hours[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px;padding:12px;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000000d}.day-hours[_ngcontent-%COMP%]:last-child{margin-bottom:0}.day-label[_ngcontent-%COMP%]{width:100px;font-weight:600;color:#495057;flex-shrink:0}.hours-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;flex:1}.checkbox-label[_ngcontent-%COMP%]{font-size:14px;color:#6c757d;cursor:pointer;margin:0;padding:0}.time-selectors[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-left:10px}.time-select[_ngcontent-%COMP%]{padding:8px 12px;border:2px solid #dee2e6;border-radius:6px;background:#fff;color:#495057;font-size:14px;cursor:pointer;transition:all .2s}.time-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#ff7b00;box-shadow:0 0 0 3px #ff7b001a}.time-separator[_ngcontent-%COMP%]{color:#6c757d;font-weight:500;margin:0 5px}@media (max-width: 768px){.day-hours[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}.day-label[_ngcontent-%COMP%]{width:auto;margin-bottom:5px}.hours-controls[_ngcontent-%COMP%]{width:100%;flex-direction:column;align-items:flex-start;gap:10px}.time-selectors[_ngcontent-%COMP%]{margin-left:0;justify-content:flex-start}}@media (max-width: 480px){.opening-hours-container[_ngcontent-%COMP%]{padding:15px}.time-selectors[_ngcontent-%COMP%]{flex-direction:column;gap:8px;align-items:flex-start}.time-separator[_ngcontent-%COMP%]{display:none}}@media (max-width: 360px){.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem}.auto-import-section[_ngcontent-%COMP%], .afroshop-form[_ngcontent-%COMP%]{padding:var(--spacing-sm)}}.form-actions[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]{font-size:.95em;padding:6px 14px;min-width:0;border-radius:6px;max-width:180px;white-space:nowrap}']})};function Xa(a,t){if(a&1&&(i(0,"div",16),r(1),n()),a&2){let e=m();c(),O(" ",e.errorMessage," ")}}function Ja(a,t){a&1&&(i(0,"span"),r(1,"Anmelden"),n())}function Qa(a,t){a&1&&(i(0,"span"),r(1,"\u23F3 Anmeldung..."),n())}function es(a,t){a&1&&(i(0,"span"),r(1,"\u{1F50D} Mit Google fortfahren"),n())}function ts(a,t){a&1&&(i(0,"span"),r(1,"\u23F3 Google-Anmeldung..."),n())}var Bt=class a{constructor(t,e,o){this.authService=t;this.router=e;this.route=o}email="";password="";isLoading=!1;errorMessage="";onSubmit(){return v(this,null,function*(){if(!this.email||!this.password){this.errorMessage="Bitte f\xFCllen Sie alle Felder aus";return}this.isLoading=!0,this.errorMessage="";try{yield this.authService.login(this.email,this.password);let t=this.route.snapshot.queryParams.returnUrl||"/gallery";this.router.navigate([t])}catch(t){this.errorMessage=t.message}finally{this.isLoading=!1}})}loginWithGoogle(){return v(this,null,function*(){this.isLoading=!0,this.errorMessage="";try{console.log("\u{1F510} Tentative de connexion Google...");let t=yield this.authService.loginWithGoogle();console.log("\u2705 Connexion Google r\xE9ussie:",t);let e=this.route.snapshot.queryParams.returnUrl||"/gallery";this.router.navigate([e])}catch(t){console.error("\u274C Erreur connexion Google:",t);let e=t.message;t instanceof Error&&(console.log("Type d'erreur:",t.name),console.log("Code d'erreur:",t.code),console.log("Message complet:",t.message)),e.includes("annul\xE9e")||e.includes("Connexion annul\xE9e")||e.includes("popup-closed-by-user")||e.includes("cancelled")?this.showGoogleLoginDialog():e.includes("bloqu\xE9e")||e.includes("popup")||e.includes("popup-blocked")?this.showPopupBlockedDialog():this.errorMessage=`Erreur de connexion: ${e}`}finally{this.isLoading=!1}})}showGoogleLoginDialog(){confirm(`\u{1F510} Connexion Google interrompue

\u2022 La popup de connexion a \xE9t\xE9 ferm\xE9e avant la fin
\u2022 Souhaitez-vous r\xE9essayer?

Conseils:
\u2713 Gardez la popup ouverte pendant la connexion
\u2713 V\xE9rifiez que les popups ne sont pas bloqu\xE9es
\u2713 Utilisez votre compte Google habituel

R\xE9essayer maintenant?`)&&setTimeout(()=>{this.loginWithGoogle()},500)}showPopupBlockedDialog(){confirm(`\u{1F6AB} Popups bloqu\xE9es par le navigateur

\u2022 Votre navigateur bloque les popups d'AfroConnect
\u2022 Pour vous connecter avec Google, vous devez:

Instructions:
1. Cliquez sur l'ic\xF4ne \u{1F6E1}\uFE0F dans la barre d'adresse
2. Autorisez les popups pour ce site
3. Rechargez la page si n\xE9cessaire

R\xE9essayer maintenant?`)?setTimeout(()=>{this.loginWithGoogle()},1e3):this.errorMessage="Utilisez la connexion par email/mot de passe en attendant"}static \u0275fac=function(e){return new(e||a)(M(T),M(R),M(ie))};static \u0275cmp=E({type:a,selectors:[["app-login"]],decls:31,vars:11,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-header"],[1,"auth-form",3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","placeholder","ihre@email.com","required","",3,"ngModelChange","ngModel","disabled"],["for","password"],["type","password","id","password","name","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",3,"ngModelChange","ngModel","disabled"],["class","error-message",4,"ngIf"],["type","submit",1,"auth-btn",3,"disabled"],[4,"ngIf"],[1,"divider"],[1,"google-btn",3,"click","disabled"],[1,"auth-footer"],["routerLink","/register",1,"auth-link"],[1,"error-message"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),r(4,"\u{1F510} Anmeldung"),n(),i(5,"p"),r(6,"Melden Sie sich bei Ihrem AfroConnect-Konto an"),n()(),i(7,"form",3),_("ngSubmit",function(){return o.onSubmit()}),i(8,"div",4)(9,"label",5),r(10,"E-Mail-Adresse"),n(),i(11,"input",6),C("ngModelChange",function(l){return y(o.email,l)||(o.email=l),l}),n()(),i(12,"div",4)(13,"label",7),r(14,"Passwort"),n(),i(15,"input",8),C("ngModelChange",function(l){return y(o.password,l)||(o.password=l),l}),n()(),f(16,Xa,2,1,"div",9),i(17,"button",10),f(18,Ja,2,0,"span",11)(19,Qa,2,0,"span",11),n()(),i(20,"div",12)(21,"span"),r(22,"oder"),n()(),i(23,"button",13),_("click",function(){return o.loginWithGoogle()}),f(24,es,2,0,"span",11)(25,ts,2,0,"span",11),n(),i(26,"div",14)(27,"p"),r(28,"Noch kein Konto? "),i(29,"a",15),r(30,"Registrieren"),n()()()()()),e&2&&(c(11),x("ngModel",o.email),p("disabled",o.isLoading),c(4),x("ngModel",o.password),p("disabled",o.isLoading),c(),p("ngIf",o.errorMessage),c(),p("disabled",o.isLoading||!o.email||!o.password),c(),p("ngIf",!o.isLoading),c(),p("ngIf",o.isLoading),c(4),p("disabled",o.isLoading),c(),p("ngIf",!o.isLoading),c(),p("ngIf",o.isLoading))},dependencies:[I,D,$,xe,ae,se,be,ye,le,ve,re,oe],styles:['.auth-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));padding:var(--spacing-md)}.auth-card[_ngcontent-%COMP%]{background:var(--background-white);padding:var(--spacing-xl);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-lg);width:100%;max-width:400px}.auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--spacing-xl)}.auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-dark);margin-bottom:var(--spacing-sm);font-size:1.8rem}.auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);font-size:.9rem}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md)}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:var(--text-dark);font-size:.9rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:var(--spacing-md);border:2px solid #e0e0e0;border-radius:var(--border-radius);font-size:1rem;transition:all .3s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #667eea1a}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;cursor:not-allowed}.error-message[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:var(--spacing-sm);border-radius:var(--border-radius);border:1px solid #f5c6cb;font-size:.9rem;text-align:center}.auth-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));color:#fff;border:none;padding:var(--spacing-md);border-radius:var(--border-radius);font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;margin-top:var(--spacing-sm)}.auth-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:var(--shadow-md)}.auth-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.auth-footer[_ngcontent-%COMP%]{text-align:center;margin-top:var(--spacing-lg);padding-top:var(--spacing-lg);border-top:1px solid #e0e0e0}.auth-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);font-size:.9rem}.auth-link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:500;transition:color .3s ease}.auth-link[_ngcontent-%COMP%]:hover{color:var(--secondary-color);text-decoration:underline}.divider[_ngcontent-%COMP%]{text-align:center;margin:var(--spacing-lg) 0;position:relative}.divider[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:#e0e0e0}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:var(--background-white);color:var(--text-light);padding:0 var(--spacing-md);font-size:.9rem}.google-btn[_ngcontent-%COMP%]{width:100%;background:#4285f4;color:#fff;border:none;padding:var(--spacing-md);border-radius:var(--border-radius);font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:var(--spacing-xs)}.google-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#3367d6;transform:translateY(-2px);box-shadow:var(--shadow-md)}.google-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}']})};function ns(a,t){if(a&1&&(i(0,"div",20),r(1),n()),a&2){let e=m();c(),O(" ",e.errorMessage," ")}}function is(a,t){a&1&&(i(0,"span"),r(1,"Registrieren"),n())}function os(a,t){a&1&&(i(0,"span"),r(1,"\u23F3 Registrierung..."),n())}function rs(a,t){a&1&&(i(0,"span"),r(1,"\u{1F50D} Mit Google fortfahren"),n())}function as(a,t){a&1&&(i(0,"span"),r(1,"\u23F3 Google-Anmeldung..."),n())}var Nt=class a{constructor(t,e){this.authService=t;this.router=e}email="";password="";confirmPassword="";displayName="";isLoading=!1;errorMessage="";onSubmit(){return v(this,null,function*(){if(!this.email||!this.password||!this.confirmPassword||!this.displayName){this.errorMessage="Bitte f\xFCllen Sie alle Felder aus";return}if(this.password!==this.confirmPassword){this.errorMessage="Die Passw\xF6rter stimmen nicht \xFCberein";return}if(this.password.length<6){this.errorMessage="Das Passwort muss mindestens 6 Zeichen enthalten";return}this.isLoading=!0,this.errorMessage="";try{yield this.authService.register(this.email,this.password,this.displayName),this.router.navigate(["/gallery"])}catch(t){this.errorMessage=t.message}finally{this.isLoading=!1}})}loginWithGoogle(){return v(this,null,function*(){this.isLoading=!0,this.errorMessage="";try{yield this.authService.loginWithGoogle(),this.router.navigate(["/gallery"])}catch(t){let e=t.message;e.includes("annul\xE9e")||e.includes("Connexion annul\xE9e")?this.showGoogleLoginDialog():e.includes("bloqu\xE9e")||e.includes("popup")?this.showPopupBlockedDialog():this.errorMessage=e}finally{this.isLoading=!1}})}showGoogleLoginDialog(){confirm(`\u{1F510} Connexion Google interrompue

\u2022 La popup de connexion a \xE9t\xE9 ferm\xE9e avant la fin
\u2022 Souhaitez-vous r\xE9essayer?

Conseils:
\u2713 Gardez la popup ouverte pendant la connexion
\u2713 V\xE9rifiez que les popups ne sont pas bloqu\xE9es
\u2713 Utilisez votre compte Google habituel

R\xE9essayer maintenant?`)&&setTimeout(()=>{this.loginWithGoogle()},500)}showPopupBlockedDialog(){confirm(`\u{1F6AB} Popups bloqu\xE9es par le navigateur

\u2022 Votre navigateur bloque les popups d'AfroConnect
\u2022 Pour vous connecter avec Google, vous devez:

Instructions:
1. Cliquez sur l'ic\xF4ne \u{1F6E1}\uFE0F dans la barre d'adresse
2. Autorisez les popups pour ce site
3. Rechargez la page si n\xE9cessaire

R\xE9essayer maintenant?`)?setTimeout(()=>{this.loginWithGoogle()},1e3):this.errorMessage="Utilisez la connexion par email/mot de passe en attendant"}static \u0275fac=function(e){return new(e||a)(M(T),M(R))};static \u0275cmp=E({type:a,selectors:[["app-register"]],decls:39,vars:15,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-header"],[1,"auth-form",3,"ngSubmit"],[1,"form-group"],["for","displayName"],["type","text","id","displayName","name","displayName","placeholder","Ihr Name","required","",3,"ngModelChange","ngModel","disabled"],["for","email"],["type","email","id","email","name","email","placeholder","ihre@email.com","required","",3,"ngModelChange","ngModel","disabled"],["for","password"],["type","password","id","password","name","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",3,"ngModelChange","ngModel","disabled"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",3,"ngModelChange","ngModel","disabled"],["class","error-message",4,"ngIf"],["type","submit",1,"auth-btn",3,"disabled"],[4,"ngIf"],[1,"divider"],[1,"google-btn",3,"click","disabled"],[1,"auth-footer"],["routerLink","/login",1,"auth-link"],[1,"error-message"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),r(4,"\u{1F4DD} Registrierung"),n(),i(5,"p"),r(6,"Erstellen Sie Ihr AfroConnect-Konto"),n()(),i(7,"form",3),_("ngSubmit",function(){return o.onSubmit()}),i(8,"div",4)(9,"label",5),r(10,"Anzeigename"),n(),i(11,"input",6),C("ngModelChange",function(l){return y(o.displayName,l)||(o.displayName=l),l}),n()(),i(12,"div",4)(13,"label",7),r(14,"E-Mail-Adresse"),n(),i(15,"input",8),C("ngModelChange",function(l){return y(o.email,l)||(o.email=l),l}),n()(),i(16,"div",4)(17,"label",9),r(18,"Passwort"),n(),i(19,"input",10),C("ngModelChange",function(l){return y(o.password,l)||(o.password=l),l}),n()(),i(20,"div",4)(21,"label",11),r(22,"Passwort best\xE4tigen"),n(),i(23,"input",12),C("ngModelChange",function(l){return y(o.confirmPassword,l)||(o.confirmPassword=l),l}),n()(),f(24,ns,2,1,"div",13),i(25,"button",14),f(26,is,2,0,"span",15)(27,os,2,0,"span",15),n()(),i(28,"div",16)(29,"span"),r(30,"oder"),n()(),i(31,"button",17),_("click",function(){return o.loginWithGoogle()}),f(32,rs,2,0,"span",15)(33,as,2,0,"span",15),n(),i(34,"div",18)(35,"p"),r(36,"Bereits ein Konto? "),i(37,"a",19),r(38,"Anmelden"),n()()()()()),e&2&&(c(11),x("ngModel",o.displayName),p("disabled",o.isLoading),c(4),x("ngModel",o.email),p("disabled",o.isLoading),c(4),x("ngModel",o.password),p("disabled",o.isLoading),c(4),x("ngModel",o.confirmPassword),p("disabled",o.isLoading),c(),p("ngIf",o.errorMessage),c(),p("disabled",o.isLoading||!o.email||!o.password||!o.confirmPassword||!o.displayName),c(),p("ngIf",!o.isLoading),c(),p("ngIf",o.isLoading),c(4),p("disabled",o.isLoading),c(),p("ngIf",!o.isLoading),c(),p("ngIf",o.isLoading))},dependencies:[I,D,$,xe,ae,se,be,ye,le,ve,re,oe],styles:['.auth-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));padding:var(--spacing-md)}.auth-card[_ngcontent-%COMP%]{background:var(--background-white);padding:var(--spacing-xl);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-lg);width:100%;max-width:400px}.auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--spacing-xl)}.auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-dark);margin-bottom:var(--spacing-sm);font-size:1.8rem}.auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);font-size:.9rem}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md)}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:var(--text-dark);font-size:.9rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:var(--spacing-md);border:2px solid #e0e0e0;border-radius:var(--border-radius);font-size:1rem;transition:all .3s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #667eea1a}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;cursor:not-allowed}.error-message[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:var(--spacing-sm);border-radius:var(--border-radius);border:1px solid #f5c6cb;font-size:.9rem;text-align:center}.auth-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));color:#fff;border:none;padding:var(--spacing-md);border-radius:var(--border-radius);font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;margin-top:var(--spacing-sm)}.auth-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:var(--shadow-md)}.auth-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.auth-footer[_ngcontent-%COMP%]{text-align:center;margin-top:var(--spacing-lg);padding-top:var(--spacing-lg);border-top:1px solid #e0e0e0}.auth-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);font-size:.9rem}.auth-link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:500;transition:color .3s ease}.auth-link[_ngcontent-%COMP%]:hover{color:var(--secondary-color);text-decoration:underline}.divider[_ngcontent-%COMP%]{text-align:center;margin:var(--spacing-lg) 0;position:relative}.divider[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:#e0e0e0}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:var(--background-white);color:var(--text-light);padding:0 var(--spacing-md);font-size:.9rem}.google-btn[_ngcontent-%COMP%]{width:100%;background:#4285f4;color:#fff;border:none;padding:var(--spacing-md);border-radius:var(--border-radius);font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:var(--spacing-xs)}.google-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#3367d6;transform:translateY(-2px);box-shadow:var(--shadow-md)}.google-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}']})};var Gt=class a{currentDate=new Date().toLocaleDateString("de-DE");static \u0275fac=function(e){return new(e||a)};static \u0275cmp=E({type:a,selectors:[["app-privacy"]],decls:128,vars:1,consts:[[1,"legal-container"],[1,"legal-content"],[1,"last-updated"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),r(3,"Datenschutzerkl\xE4rung"),n(),i(4,"p",2),r(5),n(),i(6,"section")(7,"h2"),r(8,"1. Verantwortlicher"),n(),i(9,"p")(10,"strong"),r(11,"AfroConnect"),n(),w(12,"br"),r(13," Kapuzinerring 26"),w(14,"br"),r(15," 59457 Werl"),w(16,"br"),r(17," Deutschland"),w(18,"br")(19,"br"),r(20," E-Mail: lamaid0502@gmail.com"),w(21,"br")(22,"br"),r(23," Der Verantwortliche im Sinne der Datenschutz-Grundverordnung (DSGVO) und anderer nationaler Datenschutzgesetze der Mitgliedsstaaten sowie sonstiger datenschutzrechtlicher Bestimmungen ist die oben genannte Person. "),n()(),i(24,"section")(25,"h2"),r(26,"2. Erhobene Daten"),n(),i(27,"h3"),r(28,"2.1 Nutzungsdaten"),n(),i(29,"ul")(30,"li"),r(31,"IP-Adresse"),n(),i(32,"li"),r(33,"Browser-Informationen"),n(),i(34,"li"),r(35,"Zugriffszeitpunkt"),n(),i(36,"li"),r(37,"Besuchte Seiten"),n()(),i(38,"h3"),r(39,"2.2 Standortdaten"),n(),i(40,"p"),r(41," Mit Ihrer Einwilligung nutzen wir Ihren Standort, um Ihnen Afroshops in Ihrer N\xE4he anzuzeigen. Die Standortdaten werden nicht gespeichert. "),n(),i(42,"h3"),r(43,"2.3 Registrierungsdaten"),n(),i(44,"ul")(45,"li"),r(46,"E-Mail-Adresse"),n(),i(47,"li"),r(48,"Benutzername"),n(),i(49,"li"),r(50,"Passwort (verschl\xFCsselt)"),n()()(),i(51,"section")(52,"h2"),r(53,"3. Zweck der Datenverarbeitung"),n(),i(54,"ul")(55,"li"),r(56,"Bereitstellung der App-Funktionen"),n(),i(57,"li"),r(58,"Benutzerauthentifizierung"),n(),i(59,"li"),r(60,"Anzeige lokaler Afroshops"),n(),i(61,"li"),r(62,"Verbesserung der Nutzererfahrung"),n()()(),i(63,"section")(64,"h2"),r(65,"4. Rechtsgrundlage"),n(),i(66,"p"),r(67," Die Verarbeitung erfolgt auf Grundlage von: "),n(),i(68,"ul")(69,"li"),r(70,"Art. 6 Abs. 1 lit. a DSGVO (Einwilligung)"),n(),i(71,"li"),r(72,"Art. 6 Abs. 1 lit. b DSGVO (Vertragserf\xFCllung)"),n(),i(73,"li"),r(74,"Art. 6 Abs. 1 lit. f DSGVO (berechtigte Interessen)"),n()()(),i(75,"section")(76,"h2"),r(77,"5. Datenweitergabe"),n(),i(78,"p"),r(79," Ihre Daten werden nicht an Dritte weitergegeben, au\xDFer: "),n(),i(80,"ul")(81,"li"),r(82,"Google Firebase (Hosting und Datenbank)"),n(),i(83,"li"),r(84,"Bei gesetzlicher Verpflichtung"),n()()(),i(85,"section")(86,"h2"),r(87,"6. Speicherdauer"),n(),i(88,"p"),r(89," Daten werden gespeichert, solange Ihr Konto aktiv ist oder zur Erf\xFCllung rechtlicher Verpflichtungen erforderlich. "),n()(),i(90,"section")(91,"h2"),r(92,"7. Ihre Rechte"),n(),i(93,"ul")(94,"li"),r(95,"Auskunft \xFCber gespeicherte Daten"),n(),i(96,"li"),r(97,"Berichtigung falscher Daten"),n(),i(98,"li"),r(99,"L\xF6schung Ihrer Daten"),n(),i(100,"li"),r(101,"Einschr\xE4nkung der Verarbeitung"),n(),i(102,"li"),r(103,"Daten\xFCbertragbarkeit"),n(),i(104,"li"),r(105,"Widerspruch gegen Verarbeitung"),n()()(),i(106,"section")(107,"h2"),r(108,"8. Kontakt"),n(),i(109,"p")(110,"strong"),r(111,"Verantwortlicher f\xFCr den Datenschutz:"),n(),w(112,"br")(113,"br"),i(114,"strong"),r(115,"AfroConnect"),n(),w(116,"br"),r(117," Kapuzinerring 26"),w(118,"br"),r(119," 59457 Werl"),w(120,"br"),r(121," Deutschland"),w(122,"br")(123,"br"),r(124," E-Mail: lamaid0502@gmail.com"),w(125,"br")(126,"br"),r(127," Bei Fragen zum Datenschutz oder zur Aus\xFCbung Ihrer Rechte kontaktieren Sie uns gerne \xFCber die oben genannten Kontaktdaten. "),n()()()()),e&2&&(c(5),O("Letzte Aktualisierung: ",o.currentDate,""))},styles:[".legal-container[_ngcontent-%COMP%]{max-width:700px;margin:2rem auto;padding:1.5rem;background:#f9f9f9;border-radius:12px;box-shadow:0 2px 12px #3182ce14}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#3182ce;margin-bottom:1rem}.last-updated[_ngcontent-%COMP%]{font-size:.98rem;color:#4a5568;margin-bottom:1.5rem}p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{font-size:1.08rem;margin-bottom:1rem}ul[_ngcontent-%COMP%]{padding-left:1.2rem}section[_ngcontent-%COMP%]{margin-bottom:2rem}"]})};var Vt=class a{currentDate=new Date().toLocaleDateString("de-DE");static \u0275fac=function(e){return new(e||a)};static \u0275cmp=E({type:a,selectors:[["app-terms"]],decls:101,vars:1,consts:[[1,"legal-container"],[1,"legal-content"],[1,"last-updated"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),r(3,"Allgemeine Gesch\xE4ftsbedingungen (AGB)"),n(),i(4,"p",2),r(5),n(),i(6,"section")(7,"h2"),r(8,"\xA7 1 Geltungsbereich"),n(),i(9,"p"),r(10," Diese Allgemeinen Gesch\xE4ftsbedingungen gelten f\xFCr die Nutzung der AfroConnect-App und aller damit verbundenen Dienste. "),n()(),i(11,"section")(12,"h2"),r(13,"\xA7 2 Beschreibung der Dienstleistung"),n(),i(14,"p"),r(15," AfroConnect ist eine Plattform zur Entdeckung afrikanischer Gesch\xE4fte, Restaurants und Dienstleistungen in Deutschland. "),n(),i(16,"h3"),r(17,"2.1 Funktionen"),n(),i(18,"ul")(19,"li"),r(20,"Suche nach Afroshops in der N\xE4he"),n(),i(21,"li"),r(22,"Detailinformationen zu Gesch\xE4ften"),n(),i(23,"li"),r(24,"Bewertungen und Kommentare"),n(),i(25,"li"),r(26,"Kartenansicht und Navigation"),n()()(),i(27,"section")(28,"h2"),r(29,"\xA7 3 Nutzerkonto"),n(),i(30,"h3"),r(31,"3.1 Registrierung"),n(),i(32,"p"),r(33," F\xFCr bestimmte Funktionen ist eine Registrierung erforderlich. Sie verpflichten sich, wahrheitsgem\xE4\xDFe Angaben zu machen. "),n(),i(34,"h3"),r(35,"3.2 Passwort und Sicherheit"),n(),i(36,"p"),r(37," Sie sind f\xFCr die Geheimhaltung Ihres Passworts verantwortlich und haften f\xFCr alle Aktivit\xE4ten unter Ihrem Konto. "),n()(),i(38,"section")(39,"h2"),r(40,"\xA7 4 Nutzungsregeln"),n(),i(41,"p"),r(42,"Bei der Nutzung von AfroConnect verpflichten Sie sich:"),n(),i(43,"ul")(44,"li"),r(45,"Keine rechtswidrigen Inhalte zu ver\xF6ffentlichen"),n(),i(46,"li"),r(47,"Keine beleidigenden oder diskriminierenden Inhalte"),n(),i(48,"li"),r(49,"Nur wahrheitsgem\xE4\xDFe Informationen anzugeben"),n(),i(50,"li"),r(51,"Die Rechte Dritter zu respektieren"),n()()(),i(52,"section")(53,"h2"),r(54,"\xA7 5 Inhalte und Urheberrecht"),n(),i(55,"h3"),r(56,"5.1 Nutzergenerierte Inhalte"),n(),i(57,"p"),r(58," Durch das Hochladen von Inhalten gew\xE4hren Sie AfroConnect das Recht, diese Inhalte zu nutzen, zu bearbeiten und zu ver\xF6ffentlichen. "),n(),i(59,"h3"),r(60,"5.2 Verantwortung"),n(),i(61,"p"),r(62," Sie sind allein verantwortlich f\xFCr die von Ihnen hochgeladenen Inhalte und deren Rechtm\xE4\xDFigkeit. "),n()(),i(63,"section")(64,"h2"),r(65,"\xA7 6 Haftung"),n(),i(66,"p"),r(67," AfroConnect haftet nur f\xFCr Sch\xE4den, die auf vors\xE4tzlichem oder grob fahrl\xE4ssigem Verhalten beruhen. "),n()(),i(68,"section")(69,"h2"),r(70,"\xA7 7 \xC4nderungen der AGB"),n(),i(71,"p"),r(72," Wir behalten uns vor, diese AGB jederzeit zu \xE4ndern. \xC4nderungen werden per E-Mail mitgeteilt. "),n()(),i(73,"section")(74,"h2"),r(75,"\xA7 8 K\xFCndigung"),n(),i(76,"p"),r(77," Sie k\xF6nnen Ihr Konto jederzeit l\xF6schen. Wir k\xF6nnen Konten bei Verst\xF6\xDFen gegen diese AGB sperren oder l\xF6schen. "),n()(),i(78,"section")(79,"h2"),r(80,"\xA7 9 Anwendbares Recht"),n(),i(81,"p"),r(82," Es gilt deutsches Recht. Gerichtsstand ist Werl, Deutschland. "),n()(),i(83,"section")(84,"h2"),r(85,"\xA7 10 Kontakt"),n(),i(86,"p")(87,"strong"),r(88,"AfroConnect"),n(),w(89,"br"),r(90," Kapuzinerring 26"),w(91,"br"),r(92," 59457 Werl"),w(93,"br"),r(94," Deutschland"),w(95,"br")(96,"br"),r(97," E-Mail: lamaid0502@gmail.com"),w(98,"br")(99,"br"),r(100," Bei Fragen zu diesen AGB oder zur Nutzung der App kontaktieren Sie uns gerne \xFCber die oben genannten Kontaktdaten. "),n()()()()),e&2&&(c(5),O("Letzte Aktualisierung: ",o.currentDate,""))},styles:[".legal-container[_ngcontent-%COMP%]{max-width:700px;margin:2rem auto;padding:1.5rem;background:#f9f9f9;border-radius:12px;box-shadow:0 2px 12px #3182ce14}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#3182ce;margin-bottom:1rem}.last-updated[_ngcontent-%COMP%]{font-size:.98rem;color:#4a5568;margin-bottom:1.5rem}p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{font-size:1.08rem;margin-bottom:1rem}ul[_ngcontent-%COMP%]{padding-left:1.2rem}section[_ngcontent-%COMP%]{margin-bottom:2rem}"]})};var Ut=class a{static \u0275fac=function(e){return new(e||a)};static \u0275cmp=E({type:a,selectors:[["app-impressum"]],decls:37,vars:0,consts:[[1,"legal-container"],["href","mailto:lamaid0502@gmail.com"]],template:function(e,o){e&1&&(i(0,"h2"),r(1,"Impressum"),n(),i(2,"p")(3,"strong"),r(4,"Angaben gem\xE4\xDF \xA7 5 TMG:"),n()(),i(5,"div",0)(6,"h2"),r(7,"Impressum"),n(),i(8,"p")(9,"strong"),r(10,"Angaben gem\xE4\xDF \xA7 5 TMG:"),n()(),i(11,"p"),r(12," Youssouf Diallo"),w(13,"br"),r(14," Kapuzinerring 26"),w(15,"br"),r(16," 59457 Werl"),w(17,"br"),r(18," Deutschland "),n(),i(19,"p")(20,"strong"),r(21,"Kontakt:"),n()(),i(22,"p"),r(23," E-Mail: "),i(24,"a",1),r(25,"lamaid0502@gmail.com"),n()(),i(26,"p")(27,"strong"),r(28,"Verantwortlich f\xFCr den Inhalt nach \xA7 55 Abs. 2 RStV:"),n()(),i(29,"p"),r(30," Youssouf Diallo"),w(31,"br"),r(32," Kapuzinerring 26"),w(33,"br"),r(34," 59457 Werl"),w(35,"br"),r(36," Deutschland "),n()())},dependencies:[I],styles:[".legal-container[_ngcontent-%COMP%]{max-width:600px;margin:2rem auto;padding:1.5rem;background:#f9f9f9;border-radius:12px;box-shadow:0 2px 12px #3182ce14}h2[_ngcontent-%COMP%]{color:#3182ce;margin-bottom:1rem}p[_ngcontent-%COMP%]{font-size:1.08rem;margin-bottom:1rem}a[_ngcontent-%COMP%]{color:#3182ce;text-decoration:underline}"]})};var Wt=class a{constructor(t){this.firebaseService=t}getExistingAfroshops(){return v(this,null,function*(){return new Promise(t=>{this.firebaseService.getAllAfroshops().subscribe({next:e=>t(e),error:e=>{console.warn("Erreur lors de la r\xE9cup\xE9ration des donn\xE9es existantes:",e),t([])}})})})}cleanDuplicates(){return v(this,null,function*(){try{console.log("\u{1F9F9} Nettoyage des doublons en cours...");let t=yield this.getExistingAfroshops();console.log(`\u{1F4CA} ${t.length} Afroshops trouv\xE9s en base`);let e=new Map;t.forEach(l=>{let d=`${l.name}|${l.address}`;e.has(d)||e.set(d,[]),e.get(d).push(l)});let o=0,s=0;for(let[l,d]of e)if(d.length>1){console.log(`\u{1F50D} Doublon trouv\xE9: ${d[0].name} (${d.length} copies)`),s++;for(let g=1;g<d.length;g++)try{yield this.firebaseService.deleteAfroshop(d[g].id),o++,console.log(`\u{1F5D1}\uFE0F Supprim\xE9: ${d[g].name} (ID: ${d[g].id})`),yield this.delay(100)}catch(b){console.error(`\u274C Erreur suppression ${d[g].id}:`,b)}}else s++;return console.log(`\u2705 Nettoyage termin\xE9: ${o} supprim\xE9s, ${s} conserv\xE9s`),{removed:o,kept:s}}catch(t){throw console.error("\u274C Erreur lors du nettoyage:",t),t}})}afroshopsData=[{name:"Mama Afrika Restaurant",type:"restaurant",address:"M\xFCllerstra\xDFe 123, 13349 Berlin",coordinates:{lat:52.52,lng:13.405},phone:"+49 30 12345678",description:"Authentisches westafrikanisches Restaurant mit traditionellen Gerichten aus Ghana und Nigeria. Spezialit\xE4ten: Jollof Rice, Fufu, Kelewele.",rating:4.5,image:"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800&h=600&fit=crop",cuisine:"Westafrikanische",priceLevel:2,hours:"Mo-Fr: 12:00-22:00, Sa: 14:00-23:00, So: 14:00-21:00",website:"https://mama-afrika-berlin.de"},{name:"Ethiopian Queen Restaurant",type:"restaurant",address:"Kreuzbergstra\xDFe 45, 10965 Berlin",coordinates:{lat:52.4995,lng:13.3883},phone:"+49 30 23456789",description:"Traditionelle \xE4thiopische K\xFCche in gem\xFCtlicher Atmosph\xE4re. Injera, Doro Wat und vegetarische Optionen.",rating:4.3,image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop",cuisine:"\xC4thiopische",priceLevel:2,hours:"Mo-So: 17:00-23:00",website:"https://ethiopian-queen.de"},{name:"Afro Hair Salon Berlin",type:"coiffeur",address:"Hermannstra\xDFe 89, 12049 Berlin",coordinates:{lat:52.4755,lng:13.4324},phone:"+49 30 34567890",description:"Spezialist f\xFCr afroamerikanische Haarpflege. Braids, Weaves, Natural Hair Care und chemische Behandlungen.",rating:4.7,image:"https://images.unsplash.com/photo-1562322140-8baeececf3df?w=800&h=600&fit=crop",cuisine:"",priceLevel:3,hours:"Mo-Fr: 09:00-19:00, Sa: 09:00-17:00",website:""},{name:"Afrika Market Berlin",type:"epicerie",address:"Turmstra\xDFe 234, 10551 Berlin",coordinates:{lat:52.5252,lng:13.3415},phone:"+49 30 45678901",description:"Gr\xF6\xDFter afrikanischer Supermarkt in Berlin. Yams, Kochbananen, Palm\xF6l, Gew\xFCrze und Fleischspezialit\xE4ten.",rating:4.2,image:"https://images.unsplash.com/photo-1578916171728-46686eac8d58?w=800&h=600&fit=crop",cuisine:"",priceLevel:2,hours:"Mo-Sa: 08:00-20:00, So: 10:00-18:00",website:"https://afrika-market-berlin.de"},{name:"Senegal Restaurant Hamburg",type:"restaurant",address:"Reeperbahn 456, 20359 Hamburg",coordinates:{lat:53.5511,lng:9.9937},phone:"+49 40 12345678",description:"Authentische senegalesische K\xFCche. Thieboudienne, Yassa Poulet und frische Meeresfr\xFCchte.",rating:4.4,image:"https://images.unsplash.com/photo-1547592180-85f173990554?w=800&h=600&fit=crop",cuisine:"Senegalesische",priceLevel:3,hours:"Mo-Fr: 18:00-24:00, Sa-So: 17:00-01:00",website:"https://senegal-restaurant-hh.de"},{name:"Afro Style Hamburg",type:"coiffeur",address:"Steindamm 123, 20099 Hamburg",coordinates:{lat:53.553,lng:10.0061},phone:"+49 40 23456789",description:"Moderner Afro-Friseursalon mit internationalen Stylisten. Cuts, Farben und Extensions.",rating:4.6,image:"https://images.unsplash.com/photo-1521490878783-35eb2c52f3b7?w=800&h=600&fit=crop",cuisine:"",priceLevel:3,hours:"Mo-Fr: 10:00-20:00, Sa: 09:00-18:00",website:""},{name:"Kamerun Eck M\xFCnchen",type:"restaurant",address:"Maximilianstra\xDFe 78, 80539 M\xFCnchen",coordinates:{lat:48.1351,lng:11.582},phone:"+49 89 12345678",description:"Kamerunische Spezialit\xE4ten in bayerischer Atmosph\xE4re. Ndol\xE9, Poulet DG und Kochbananen.",rating:4.1,image:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=800&h=600&fit=crop",cuisine:"Kamerunische",priceLevel:2,hours:"Mo-Sa: 11:30-22:00",website:""},{name:"Nigerianisches Restaurant K\xF6ln",type:"restaurant",address:"Z\xFClpicher Stra\xDFe 234, 50937 K\xF6ln",coordinates:{lat:50.9375,lng:6.9603},phone:"+49 221 12345678",description:"Authentische nigerianische K\xFCche. Jollof Rice, Suya, Pounded Yam und Egusi Soup.",rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=800&h=600&fit=crop",cuisine:"Nigerianische",priceLevel:2,hours:"Mo-Fr: 12:00-21:00, Sa-So: 14:00-22:00",website:"https://nigerian-restaurant-koeln.de"},{name:"Eritrea Restaurant Frankfurt",type:"restaurant",address:"Berger Stra\xDFe 145, 60316 Frankfurt am Main",coordinates:{lat:50.1109,lng:8.6821},phone:"+49 69 12345678",description:"Eritreische und \xE4thiopische K\xFCche. Injera, Zigni und traditionelle Kaffeezeremonie.",rating:4.5,image:"https://images.unsplash.com/photo-1554978991-33ef7f31d658?w=800&h=600&fit=crop",cuisine:"Eritreische",priceLevel:2,hours:"Mo-So: 17:00-23:00",website:""},{name:"Afrika Laden Stuttgart",type:"epicerie",address:"K\xF6nigstra\xDFe 89, 70173 Stuttgart",coordinates:{lat:48.7758,lng:9.1829},phone:"+49 711 12345678",description:"Afrikanische Lebensmittel und Gew\xFCrze. Maniok, Kochbananen, Palm\xF6l und traditionelle Snacks.",rating:4,image:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=800&h=600&fit=crop",cuisine:"",priceLevel:2,hours:"Mo-Fr: 09:00-19:00, Sa: 09:00-17:00",website:""},{name:"Marokkanisches Restaurant D\xFCsseldorf",type:"restaurant",address:"Immermannstra\xDFe 23, 40210 D\xFCsseldorf",coordinates:{lat:51.2277,lng:6.7735},phone:"+49 211 12345678",description:"Nordafrikanische K\xFCche. Tajine, Couscous, Pastilla und marokkanische Tees.",rating:4.2,image:"https://images.unsplash.com/photo-1539353130027-9532750e7146?w=800&h=600&fit=crop",cuisine:"Marokkanische",priceLevel:3,hours:"Mo-So: 17:00-24:00",website:"https://marokko-restaurant-dus.de"},{name:"Afro Palace Dortmund",type:"restaurant",address:"Kampstra\xDFe 45, 44137 Dortmund",coordinates:{lat:51.5136,lng:7.4653},phone:"+49 231 12345678",description:"Westafrikanische und zentralafrikanische K\xFCche in modernem Ambiente.",rating:4.1,image:"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=800&h=600&fit=crop",cuisine:"Westafrikanische",priceLevel:2,hours:"Mo-Sa: 12:00-22:00",website:""},{name:"African Beauty Salon Essen",type:"coiffeur",address:"Kettwiger Stra\xDFe 67, 45127 Essen",coordinates:{lat:51.4556,lng:7.0116},phone:"+49 201 12345678",description:"Kompletter Service f\xFCr afrikanisches Haar. Relaxer, Braids, Weaves und Naturhaar-Styling.",rating:4.4,image:"https://images.unsplash.com/photo-1560066984-138dadb4c035?w=800&h=600&fit=crop",cuisine:"",priceLevel:3,hours:"Mo-Fr: 09:00-18:00, Sa: 08:00-16:00",website:""},{name:"\xC4thiopisches Restaurant Leipzig",type:"restaurant",address:"Karl-Liebknecht-Stra\xDFe 123, 04107 Leipzig",coordinates:{lat:51.3397,lng:12.3731},phone:"+49 341 12345678",description:"Traditionelle \xE4thiopische Gerichte in famili\xE4rer Atmosph\xE4re.",rating:4.3,image:"https://images.unsplash.com/photo-1574894709920-11b28e7367e3?w=800&h=600&fit=crop",cuisine:"\xC4thiopische",priceLevel:2,hours:"Mo-Sa: 17:00-22:00",website:""},{name:"Afrika Shop Bremen",type:"epicerie",address:"Osterstra\xDFe 234, 28199 Bremen",coordinates:{lat:53.0793,lng:8.8017},phone:"+49 421 12345678",description:"Afrikanische Spezialit\xE4ten und Kosmetik. Shea-Butter, schwarze Seife und exotische Fr\xFCchte.",rating:4.1,image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop",cuisine:"",priceLevel:2,hours:"Mo-Fr: 10:00-19:00, Sa: 10:00-17:00",website:""},{name:"Sudanesisches Restaurant Dresden",type:"restaurant",address:"Prager Stra\xDFe 89, 01069 Dresden",coordinates:{lat:51.0504,lng:13.7373},phone:"+49 351 12345678",description:"Sudanesische und ostafriikanische K\xFCche. Ful Medames, Kisra und Bamya.",rating:4,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=800&h=600&fit=crop",cuisine:"Sudanesische",priceLevel:2,hours:"Mo-Fr: 12:00-21:00, Sa: 14:00-22:00",website:""},{name:"African Fashion Hannover",type:"vetement",address:"Georgstra\xDFe 156, 30159 Hannover",coordinates:{lat:52.3759,lng:9.732},phone:"+49 511 12345678",description:"Afrikanische Mode und Accessoires. Dashiki, Kente-Stoffe und handgemachter Schmuck.",rating:4.2,image:"https://images.unsplash.com/photo-1558769132-cb1aea458c5e?w=800&h=600&fit=crop",cuisine:"",priceLevel:3,hours:"Mo-Fr: 10:00-19:00, Sa: 10:00-18:00",website:"https://african-fashion-hannover.de"},{name:"Westafrica N\xFCrnberg",type:"restaurant",address:"K\xF6nigstra\xDFe 234, 90402 N\xFCrnberg",coordinates:{lat:49.4521,lng:11.0767},phone:"+49 911 12345678",description:"Ghanaische und ivorische K\xFCche. Banku, Atti\xE9k\xE9 und Palm Nut Soup.",rating:4.4,image:"https://images.unsplash.com/photo-1551218808-94e220e084d2?w=800&h=600&fit=crop",cuisine:"Ghanaische",priceLevel:2,hours:"Mo-Sa: 11:00-22:00",website:""}];kleinestadtAfroshops=[{name:"Afrika Imbiss Soest",type:"restaurant",address:"Thom\xE4stra\xDFe 12, 59494 Soest",coordinates:{lat:51.5671,lng:8.1067},phone:"+49 2921 123456",description:"Kleiner gem\xFCtlicher Imbiss mit westafrikanischen Spezialit\xE4ten. Hausgemachtes Jollof Rice.",rating:4.2,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=800&h=600&fit=crop",cuisine:"Westafrikanische",priceLevel:1,hours:"Mo-Fr: 11:00-20:00, Sa: 12:00-21:00",website:""},{name:"Afro Hair Werl",type:"coiffeur",address:"Hammer Stra\xDFe 34, 59457 Werl",coordinates:{lat:51.5531,lng:7.9119},phone:"+49 2922 234567",description:"Spezialisiert auf afrikanische Frisuren in ruhiger Kleinstadt-Atmosph\xE4re.",rating:4.5,image:"https://images.unsplash.com/photo-1562322140-8baeececf3df?w=800&h=600&fit=crop",cuisine:"",priceLevel:2,hours:"Mo-Fr: 09:00-18:00, Sa: 09:00-15:00",website:""}];seedDatabase(){return v(this,null,function*(){try{console.log("\u{1F331} D\xE9but du peuplement de la base de donn\xE9es...");let t=yield this.getExistingAfroshops();console.log(`\u{1F4CA} ${t.length} Afroshops d\xE9j\xE0 en base`);let o=[...this.afroshopsData,...this.kleinestadtAfroshops].filter(d=>!t.some(g=>g.name===d.name&&g.address===d.address));if(console.log(`\u2728 ${o.length} nouveaux Afroshops \xE0 ajouter`),o.length===0)throw new Error("\u26A0\uFE0F Tous les Afroshops sont d\xE9j\xE0 en base ! Aucun nouvel ajout n\xE9cessaire.");let s=0,l=0;for(let d of o)try{let g=V(N({},d),{city:this.extractCityFromAddress(d.address),verified:!0,createdBy:"system",createdByName:"System Import",views:Math.floor(Math.random()*100)+10,likes:Math.floor(Math.random()*20)+5});yield this.firebaseService.addAfroshop(g),s++,console.log(`\u2705 ${d.name} ajout\xE9 avec succ\xE8s`),yield this.delay(100)}catch(g){l++,console.error(`\u274C Erreur lors de l'ajout de ${d.name}:`,g)}console.log(`\u{1F389} Import termin\xE9: ${s} ajout\xE9s, ${l} erreurs`)}catch(t){console.error("\u{1F4A5} Erreur g\xE9n\xE9rale lors du seeding:",t)}})}extractCityFromAddress(t){let e=t.split(",");if(e.length>=2){let o=e[e.length-1].trim(),s=o.match(/\d+\s+(.+)/);return s?s[1].toLowerCase():o.toLowerCase()}return""}delay(t){return new Promise(e=>setTimeout(e,t))}static \u0275fac=function(e){return new(e||a)(X(W))};static \u0275prov=G({token:a,factory:a.\u0275fac,providedIn:"root"})};ht();var jt=class a{constructor(){}isAdminUser(t){return!t||!t.email?!1:De.production?(console.warn("\u{1F6AB} Admin check disabled in production - use server-side verification"),!1):[].includes(t.email)}getSecurityMessage(){return De.production?"Administration d\xE9sactiv\xE9e en production pour des raisons de s\xE9curit\xE9. Contactez l'administrateur syst\xE8me.":"Mode d\xE9veloppement - Acc\xE8s admin disponible."}shouldHideAdminInterface(){return De.production}static \u0275fac=function(e){return new(e||a)};static \u0275prov=G({token:a,factory:a.\u0275fac,providedIn:"root"})};function cs(a,t){a&1&&(i(0,"span"),r(1,"\u{1F9F9} Doublons entfernen"),n())}function ds(a,t){a&1&&(i(0,"span"),r(1,"\u23F3 Nettoyage l\xE4uft..."),n())}function ps(a,t){a&1&&(i(0,"div",21),w(1,"div",22),i(2,"p"),r(3,"Afroshops werden hinzugef\xFCgt... Bitte warten."),n()())}function ms(a,t){a&1&&(i(0,"div",21),w(1,"div",22),i(2,"p"),r(3,"Doublons werden entfernt... Bitte warten."),n()())}function gs(a,t){if(a&1&&(i(0,"div",23),r(1),n()),a&2){let e=m(2);Te(e.seedingMessage.includes("\u274C")?"error":"success"),c(),O(" ",e.seedingMessage," ")}}function us(a,t){if(a&1&&(i(0,"div",23),r(1),n()),a&2){let e=m(2);Te(e.cleaningMessage.includes("\u274C")?"error":"success"),c(),O(" ",e.cleaningMessage," ")}}function hs(a,t){a&1&&(i(0,"span"),r(1,"\u{1F504} Actualiser"),n())}function fs(a,t){a&1&&(i(0,"span"),r(1,"\u23F3 Chargement..."),n())}function _s(a,t){if(a&1){let e=S();i(0,"div",28)(1,"div",29)(2,"div",30)(3,"h4"),r(4),n(),i(5,"p",31),r(6),n(),i(7,"p",32),r(8),n()(),i(9,"div",33)(10,"span",34),r(11),n()()(),i(12,"div",35)(13,"button",36),_("click",function(){let s=u(e).$implicit,l=m(3);return h(l.editAfroshop(s))}),r(14," \u270F\uFE0F Bearbeiten "),n(),i(15,"button",37),_("click",function(){let s=u(e).$implicit,l=m(3);return h(l.confirmDelete(s))}),r(16," \u{1F5D1}\uFE0F L\xF6schen "),n()()()}if(a&2){let e=t.$implicit,o=m(3);c(4),k(e.name),c(2),k(o.getGermanBusinessType(e.type)),c(2),O("\u{1F4CD} ",e.address,""),c(3),O("ID: ",e.id,""),c(4),p("disabled",o.isDeleting)}}function bs(a,t){if(a&1){let e=S();i(0,"div",24)(1,"div",25)(2,"h3"),r(3),n(),i(4,"button",26),_("click",function(){u(e);let s=m(2);return h(s.loadAfroshops())}),f(5,hs,2,0,"span",10)(6,fs,2,0,"span",10),n()(),f(7,_s,17,5,"div",27),n()}if(a&2){let e=m(2);c(3),O("\u{1F4CB} Liste des Afroshops (",e.afroshops.length,")"),c(),p("disabled",e.isLoading),c(),p("ngIf",!e.isLoading),c(),p("ngIf",e.isLoading),c(),p("ngForOf",e.afroshops)("ngForTrackBy",e.trackByAfroshop)}}function vs(a,t){a&1&&(i(0,"span"),r(1,"\u{1F4CB} Afroshops anzeigen"),n())}function xs(a,t){a&1&&(i(0,"span"),r(1,"\u23F3 Wird geladen..."),n())}function ys(a,t){if(a&1){let e=S();i(0,"div",38)(1,"button",39),_("click",function(){u(e);let s=m(2);return h(s.loadAfroshops())}),f(2,vs,2,0,"span",10)(3,xs,2,0,"span",10),n()()}if(a&2){let e=m(2);c(),p("disabled",e.isLoading),c(),p("ngIf",!e.isLoading),c(),p("ngIf",e.isLoading)}}function Cs(a,t){if(a&1&&(i(0,"div",23),r(1),n()),a&2){let e=m(2);Te(e.deleteMessage.includes("\u274C")?"error":"success"),c(),O(" ",e.deleteMessage," ")}}function Ms(a,t){if(a&1){let e=S();i(0,"div",4)(1,"h1"),r(2,"Admin works!"),n(),i(3,"div",5)(4,"div",6)(5,"h2"),r(6,"\u{1F331} Peuplement de la base de donn\xE9es"),n()(),i(7,"div",7)(8,"h3"),r(9,"\u{1F4CA} Donn\xE9es incluses:"),n(),i(10,"ul")(11,"li"),r(12,"\u{1F3D9}\uFE0F "),i(13,"strong"),r(14,"Grandes villes:"),n(),r(15," Berlin, Hamburg, M\xFCnchen, K\xF6ln, Frankfurt, Stuttgart, D\xFCsseldorf, Dortmund, Essen"),n(),i(16,"li"),r(17,"\u{1F3D8}\uFE0F "),i(18,"strong"),r(19,"Villes moyennes:"),n(),r(20," Leipzig, Bremen, Dresden, Hannover, N\xFCrnberg"),n(),i(21,"li"),r(22,"\u{1F3E1} "),i(23,"strong"),r(24,"Petites villes & Kreise:"),n(),r(25," Soest, Werl (Kreis Soest) et autres"),n(),i(26,"li"),r(27,"\u{1F37D}\uFE0F "),i(28,"strong"),r(29,"Types:"),n(),r(30," Restaurants, Friseure, Lebensmittelgesch\xE4fte, Mode, Services"),n(),i(31,"li"),r(32,"\u{1F30D} "),i(33,"strong"),r(34,"Cuisines:"),n(),r(35," Westafrikanische, \xC4thiopische, Senegalesische, Kamerunische, Nigerianische, etc."),n()()(),i(36,"div",8)(37,"button",9),_("click",function(){u(e);let s=m();return h(s.cleanDuplicates())}),f(38,cs,2,0,"span",10)(39,ds,2,0,"span",10),n(),f(40,ps,4,0,"div",11)(41,ms,4,0,"div",11),n(),f(42,gs,2,3,"div",12)(43,us,2,3,"div",12),n(),i(44,"div",13)(45,"div",6)(46,"h2"),r(47,"\u{1F5D1}\uFE0F Gestion des Afroshops"),n(),i(48,"p"),r(49,"Supprimer individuellement des Afroshops de la base de donn\xE9es"),n()(),f(50,bs,8,6,"div",14)(51,ys,4,3,"div",15)(52,Cs,2,3,"div",12),n(),i(53,"div",16)(54,"div",6)(55,"h2"),r(56,"\u{1F527} Diagnostic Technique"),n(),i(57,"p"),r(58,"Outils de diagnostic pour r\xE9soudre les probl\xE8mes de g\xE9ocodage et coordonn\xE9es"),n()(),i(59,"div",8)(60,"a",17),r(61," \u{1F5FA}\uFE0F Diagnostic du G\xE9ocodage "),n(),i(62,"p",18),r(63," Testez le syst\xE8me de coordonn\xE9es, auditez les Afroshops existants et corrigez les probl\xE8mes de g\xE9olocalisation. "),n()()(),i(64,"div",19)(65,"button",20),_("click",function(){u(e);let s=m();return h(s.goToGallery())}),r(66," \u{1F3EA} Voir la galerie "),n()()()}if(a&2){let e=m();c(37),p("disabled",e.isCleaning||e.isSeeding),c(),p("ngIf",!e.isCleaning),c(),p("ngIf",e.isCleaning),c(),p("ngIf",e.isSeeding),c(),p("ngIf",e.isCleaning),c(),p("ngIf",e.seedingMessage),c(),p("ngIf",e.cleaningMessage),c(7),p("ngIf",e.afroshops.length>0),c(),p("ngIf",e.afroshops.length===0),c(),p("ngIf",e.deleteMessage)}}function ws(a,t){a&1&&(i(0,"div",40)(1,"h2"),r(2,"\u{1F510} Authentification requise"),n(),i(3,"p"),r(4,"Vous devez \xEAtre connect\xE9 pour acc\xE9der aux outils d'administration."),n()())}var Ht=class a{constructor(t,e,o,s,l,d){this.dataSeedingService=t;this.authService=e;this.firebaseAfroshopService=o;this.translationService=s;this.adminSecurity=l;this.router=d;this.authService.user$.subscribe(g=>v(this,null,function*(){if(!g){this.router.navigate(["/login"]);return}let{doc:b,getDoc:P}=yield import("./chunk-3QEQPCIO.js"),A=this.firebaseAfroshopService.firestore||window.firestore,L=b(A,"roles/admins"),K=(yield P(L)).data();this.isAuthenticated=K?.uids?.includes(g.uid)??!1,this.isAuthenticated||(console.warn("\u{1F6AB} Acc\xE8s admin refus\xE9: UID non autoris\xE9"),this.router.navigate(["/gallery"]))}))}isSeeding=!1;isCleaning=!1;seedingMessage="";cleaningMessage="";isAuthenticated=!1;afroshops=[];isLoading=!1;isDeleting=!1;deleteMessage="";seedDatabase(){return v(this,null,function*(){if(!this.isAuthenticated){this.seedingMessage="\u274C Vous devez \xEAtre connect\xE9 pour effectuer cette action";return}if(!(this.isSeeding||!confirm(`\u{1F6A8} ACHTUNG!

Diese Aktion wird etwa 50+ neue Afroshops in die Datenbank hinzuf\xFCgen.

\u{1F50D} Bereits vorhandene Gesch\xE4fte werden automatisch \xFCbersprungen.

M\xF6chten Sie fortfahren?`))){this.isSeeding=!0,this.seedingMessage="\u{1F331} Import l\xE4uft... Dies kann einige Minuten dauern.";try{yield this.dataSeedingService.seedDatabase(),this.seedingMessage="\u2705 Datenbank erfolgreich mit neuen Afroshops gef\xFCllt!"}catch(e){console.error("Fehler beim Seeding:",e),this.seedingMessage="\u274C Fehler beim Import. Konsole f\xFCr Details \xFCberpr\xFCfen."}finally{this.isSeeding=!1}}})}editAfroshop(t){this.router.navigate(["/edit-afroshop",t.id])}goToGallery(){this.router.navigate(["/gallery"])}cleanDuplicates(){return v(this,null,function*(){if(!this.isAuthenticated){this.cleaningMessage="\u274C Sie m\xFCssen angemeldet sein, um diese Aktion durchzuf\xFChren";return}if(!(this.isCleaning||!confirm(`\u{1F9F9} DOUBLONS NETTOYAGE

Diese Aktion wird alle doppelten Afroshops l\xF6schen.

\u26A0\uFE0F Nur das erste Exemplar jedes Gesch\xE4fts wird beibehalten.

M\xF6chten Sie fortfahren?`))){this.isCleaning=!0,this.cleaningMessage="\u{1F9F9} Doublons werden entfernt... Bitte warten.";try{let e=yield this.dataSeedingService.cleanDuplicates();this.cleaningMessage=`\u2705 Nettoyage abgeschlossen! ${e.removed} Doublons entfernt, ${e.kept} Afroshops beibehalten.`}catch(e){console.error("Fehler beim Nettoyage:",e),this.cleaningMessage="\u274C Fehler beim Nettoyage. Konsole f\xFCr Details \xFCberpr\xFCfen."}finally{this.isCleaning=!1}}})}loadAfroshops(){return v(this,null,function*(){this.isLoading=!0,this.deleteMessage="";try{this.firebaseAfroshopService.getAllAfroshops().subscribe({next:t=>{this.afroshops=t.sort((e,o)=>e.name.localeCompare(o.name)),this.isLoading=!1},error:t=>{console.error("Erreur lors du chargement:",t),this.deleteMessage="\u274C Fehler beim Laden der Afroshops.",this.isLoading=!1}})}catch(t){console.error("Erreur lors du chargement:",t),this.deleteMessage="\u274C Fehler beim Laden der Afroshops.",this.isLoading=!1}})}confirmDelete(t){return v(this,null,function*(){confirm(`\u{1F5D1}\uFE0F Afroshop l\xF6schen

Name: ${t.name}
Typ: ${this.getGermanBusinessType(t.type)}
Adresse: ${t.address}

\u26A0\uFE0F Diese Aktion kann nicht r\xFCckg\xE4ngig gemacht werden!

M\xF6chten Sie "${t.name}" wirklich l\xF6schen?`)&&(yield this.deleteAfroshop(t))})}deleteAfroshop(t){return v(this,null,function*(){this.isDeleting=!0,this.deleteMessage=`\u{1F5D1}\uFE0F "${t.name}" wird gel\xF6scht...`;try{yield this.firebaseAfroshopService.deleteAfroshop(t.id.toString()),this.afroshops=this.afroshops.filter(e=>e.id!==t.id),this.deleteMessage=`\u2705 "${t.name}" wurde erfolgreich gel\xF6scht.`,setTimeout(()=>{this.deleteMessage=""},3e3)}catch(e){console.error("Erreur lors de la suppression:",e),this.deleteMessage=`\u274C Fehler beim L\xF6schen von "${t.name}". Details in der Konsole.`}finally{this.isDeleting=!1}})}getGermanBusinessType(t){return this.translationService.getBusinessTypeName(t)}formatDate(t){if(!t)return"Datum unbekannt";try{let e;return t.toDate?e=t.toDate():t.seconds?e=new Date(t.seconds*1e3):e=new Date(t),e.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Erreur formatage date:",e),"Datum fehler"}}trackByAfroshop(t,e){return e.id}static \u0275fac=function(e){return new(e||a)(M(Wt),M(T),M(W),M(Me),M(jt),M(R))};static \u0275cmp=E({type:a,selectors:[["app-admin"]],decls:8,vars:2,consts:[[1,"admin-container"],[1,"admin-header"],["class","admin-panel",4,"ngIf"],["class","auth-required",4,"ngIf"],[1,"admin-panel"],[1,"seeding-section"],[1,"section-header"],[1,"data-info"],[1,"action-section"],[1,"clean-btn",3,"click","disabled"],[4,"ngIf"],["class","progress-indicator",4,"ngIf"],["class","message",3,"class",4,"ngIf"],[1,"management-section"],["class","afroshops-list",4,"ngIf"],["class","load-button",4,"ngIf"],[1,"diagnostic-section"],["routerLink","/geocoding-diagnostic",1,"diagnostic-btn"],[1,"diagnostic-desc"],[1,"navigation-section"],[1,"nav-btn",3,"click"],[1,"progress-indicator"],[1,"spinner"],[1,"message"],[1,"afroshops-list"],[1,"list-header"],[1,"refresh-btn",3,"click","disabled"],["class","afroshop-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"afroshop-item"],[1,"afroshop-info"],[1,"basic-info"],[1,"type"],[1,"location"],[1,"meta-info"],[1,"id"],[1,"actions"],["title","Afroshop bearbeiten",1,"edit-btn",3,"click"],["title","Afroshop l\xF6schen",1,"delete-btn",3,"click","disabled"],[1,"load-button"],[1,"load-btn",3,"click","disabled"],[1,"auth-required"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),r(3,"\u{1F527} AfroConnect - Administration"),n(),i(4,"p"),r(5,"Outils pour g\xE9rer la base de donn\xE9es d'Afroshops"),n()(),f(6,Ms,67,10,"div",2)(7,ws,5,0,"div",3),n()),e&2&&(c(6),p("ngIf",o.isAuthenticated),c(),p("ngIf",!o.isAuthenticated))},dependencies:[I,Z,D,re,oe],styles:[".admin-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:2rem;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.admin-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.admin-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2c3e50;font-size:2.5rem;margin-bottom:.5rem}.admin-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;font-size:1.1rem}.admin-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);border:2px solid #e9ecef;border-radius:16px;padding:2rem;box-shadow:0 8px 32px #00000014}.seeding-section[_ngcontent-%COMP%]{margin-bottom:2rem}.section-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#27ae60;font-size:1.8rem;margin-bottom:.5rem}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d}.data-info[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #dee2e6;border-radius:12px;padding:1.5rem;margin-bottom:2rem}.data-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#495057;margin-bottom:1rem}.data-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.data-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.5rem 0;border-bottom:1px solid #e9ecef}.data-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.action-section[_ngcontent-%COMP%]{text-align:center;margin:2rem 0;display:flex;flex-direction:column;gap:1rem}.seed-btn[_ngcontent-%COMP%], .clean-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#27ae60,#2ecc71);color:#fff;border:none;padding:1rem 2rem;border-radius:12px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 6px 20px #27ae604d;min-width:300px;margin:0 auto}.clean-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e74c3c,#c0392b);box-shadow:0 6px 20px #e74c3c4d}.seed-btn[_ngcontent-%COMP%]:hover:not(:disabled), .clean-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 12px 30px #27ae6066}.clean-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 12px 30px #e74c3c66}.seed-btn[_ngcontent-%COMP%]:disabled, .clean-btn[_ngcontent-%COMP%]:disabled{background:#bdc3c7;cursor:not-allowed;transform:none;box-shadow:0 2px 8px #0000001a}.progress-indicator[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;flex-direction:column;align-items:center;gap:1rem}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #27ae60;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.message[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-radius:8px;margin-top:1.5rem;font-weight:500}.message.success[_ngcontent-%COMP%]{background:#d4edda;color:#155724;border:1px solid #c3e6cb}.message.error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.diagnostic-section[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1.5rem;background:#f1f8ff;border:1px solid #d1ecf1;border-radius:12px}.diagnostic-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#06c;font-size:1.6rem}.diagnostic-btn[_ngcontent-%COMP%]{display:inline-block;background:linear-gradient(135deg,#17a2b8,#138496);color:#fff;padding:.8rem 1.5rem;border-radius:10px;text-decoration:none;font-weight:500;transition:all .3s ease;border:none;cursor:pointer}.diagnostic-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #17a2b84d;text-decoration:none;color:#fff}.diagnostic-desc[_ngcontent-%COMP%]{margin-top:.8rem;color:#6c757d;font-size:.9rem;line-height:1.4}.navigation-section[_ngcontent-%COMP%]{text-align:center;padding-top:2rem;border-top:1px solid #e9ecef}.nav-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3498db,#2980b9);color:#fff;border:none;padding:.8rem 1.5rem;border-radius:10px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;text-decoration:none;display:inline-block}.nav-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #3498db4d}.auth-required[_ngcontent-%COMP%]{text-align:center;padding:3rem;background:#fff3cd;border:1px solid #ffeaa7;border-radius:12px;color:#856404}.auth-required[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#856404;margin-bottom:1rem}@media (max-width: 768px){.admin-container[_ngcontent-%COMP%]{padding:1rem}.admin-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.admin-panel[_ngcontent-%COMP%]{padding:1.5rem}.seed-btn[_ngcontent-%COMP%]{min-width:auto;width:100%;padding:1rem}.data-info[_ngcontent-%COMP%]{padding:1rem}}.management-section[_ngcontent-%COMP%]{margin-top:3rem;padding-top:2rem;border-top:2px solid #e9ecef}.management-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#e74c3c;font-size:1.8rem}.afroshops-list[_ngcontent-%COMP%]{background:#fff;border-radius:12px;border:1px solid #dee2e6;overflow:hidden;margin-top:1rem}.list-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);padding:1rem 1.5rem;border-bottom:1px solid #dee2e6;display:flex;justify-content:space-between;align-items:center}.list-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#495057;margin:0;font-size:1.2rem}.refresh-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#17a2b8,#138496);color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-size:.9rem;transition:all .3s ease}.refresh-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #17a2b84d}.refresh-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.afroshop-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem;border-bottom:1px solid #f1f3f4;transition:background-color .3s ease}.afroshop-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.afroshop-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.afroshop-info[_ngcontent-%COMP%]{flex:1}.basic-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#2c3e50;margin:0 0 .25rem;font-size:1.1rem}.basic-info[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem;margin:0 0 .25rem;font-weight:600}.basic-info[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{color:#495057;font-size:.85rem;margin:0}.meta-info[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:.5rem}.meta-info[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{background:#e9ecef;color:#495057;padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-family:monospace}.actions[_ngcontent-%COMP%]{margin-left:1rem;display:flex;gap:.5rem;align-items:center}.edit-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#218838);color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-size:.9rem;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.edit-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #28a7454d;background:linear-gradient(135deg,#218838,#1e7e34)}.delete-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333);color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-size:.9rem;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.delete-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #dc35454d;background:linear-gradient(135deg,#c82333,#a71e2a)}.delete-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.load-button[_ngcontent-%COMP%]{text-align:center;padding:2rem}.load-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#5a6268);color:#fff;border:none;padding:1rem 2rem;border-radius:8px;cursor:pointer;font-size:1rem;transition:all .3s ease}.load-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #6c757d4d}.load-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media (max-width: 768px){.management-section[_ngcontent-%COMP%]{margin-top:2rem;padding-top:1.5rem}.list-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.afroshop-item[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.actions[_ngcontent-%COMP%]{margin-left:0;width:100%}.delete-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.meta-info[_ngcontent-%COMP%]{justify-content:center}}"]})};function Ss(a,t){a&1&&(i(0,"span"),r(1,"\u{1F5FA}\uFE0F Tester"),n())}function ks(a,t){a&1&&(i(0,"span"),r(1,"\u23F3 Test..."),n())}function Ps(a,t){if(a&1&&(i(0,"div",21)(1,"h4"),r(2,"\u2705 G\xE9ocodage R\xE9ussi"),n(),i(3,"p")(4,"strong"),r(5,"Coordonn\xE9es:"),n(),r(6),n(),i(7,"p")(8,"strong"),r(9,"Adresse format\xE9e:"),n(),r(10),n(),i(11,"p")(12,"strong"),r(13,"Pr\xE9cision:"),n(),r(14),n()()),a&2){let e=m(3);c(6),Q(" ",e.testResult.lat,", ",e.testResult.lng,""),c(4),O(" ",e.testResult.formatted_address,""),c(4),O(" ",e.testResult.accuracy,"")}}function Os(a,t){a&1&&(i(0,"div",22)(1,"h4"),r(2,"\u274C G\xE9ocodage \xC9chou\xE9"),n(),i(3,"p"),r(4,"L'adresse n'a pas pu \xEAtre g\xE9ocod\xE9e."),n(),i(5,"p")(6,"em"),r(7,"V\xE9rifiez que l'adresse contient une ville allemande connue."),n()()())}function Es(a,t){if(a&1&&(i(0,"div",18),f(1,Ps,15,4,"div",19)(2,Os,8,0,"div",20),n()),a&2){let e=m(2);c(),p("ngIf",e.testResult.success),c(),p("ngIf",!e.testResult.success)}}function Is(a,t){a&1&&(i(0,"span"),r(1,"\u{1F50D} Auditer tous les Afroshops"),n())}function As(a,t){a&1&&(i(0,"span"),r(1,"\u23F3 Audit en cours..."),n())}function Ds(a,t){if(a&1){let e=S();i(0,"div",31)(1,"strong"),r(2),n(),w(3,"br"),i(4,"small"),r(5),n(),w(6,"br"),i(7,"span",32),r(8),n(),i(9,"button",33),_("click",function(){let s=u(e).$implicit,l=m(4);return h(l.regeocodeAfroshop(s))}),r(10," \u{1F504} Re-g\xE9ocoder "),n()()}if(a&2){let e=t.$implicit,o=m(4);c(2),k(e.name),c(3),k(e.address),c(3),Q("Coordonn\xE9es: ",e.coordinates.lat,", ",e.coordinates.lng,""),c(),p("disabled",o.isRegeocoding)}}function zs(a,t){if(a&1&&(i(0,"div",29)(1,"h5"),r(2,"\u26A0\uFE0F Afroshops avec Coordonn\xE9es Invalides"),n(),f(3,Ds,11,5,"div",30),n()),a&2){let e=m(3);c(3),p("ngForOf",e.invalidAfroshops)}}function Ts(a,t){if(a&1&&(i(0,"div",23)(1,"h4"),r(2,"R\xE9sultats de l'Audit"),n(),i(3,"div",24)(4,"div",25)(5,"span",26),r(6),n(),i(7,"span",27),r(8,"Coordonn\xE9es Valides"),n()(),i(9,"div",25)(10,"span",26),r(11),n(),i(12,"span",27),r(13,"Coordonn\xE9es Invalides"),n()()(),f(14,zs,4,1,"div",28),n()),a&2){let e=m(2);c(6),k(e.validCoordinates),c(5),k(e.invalidCoordinates),c(3),p("ngIf",e.invalidAfroshops.length>0)}}function Ls(a,t){if(a&1){let e=S();i(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2"),r(4,"\u{1F527} Diagnostic du G\xE9ocodage"),n(),i(5,"a",5),r(6," \u2190 Zur\xFCck zur Admin-Seite "),n()()(),i(7,"div",6)(8,"h3"),r(9,"Test d'Adresse"),n(),i(10,"div",7)(11,"input",8),C("ngModelChange",function(s){u(e);let l=m();return y(l.testAddress,s)||(l.testAddress=s),h(s)}),n(),i(12,"button",9),_("click",function(){u(e);let s=m();return h(s.testSingleAddress())}),f(13,Ss,2,0,"span",10)(14,ks,2,0,"span",10),n()(),f(15,Es,3,2,"div",11),n(),i(16,"div",6)(17,"h3"),r(18,"Audit des Coordonn\xE9es"),n(),i(19,"button",12),_("click",function(){u(e);let s=m();return h(s.auditAfroshops())}),f(20,Is,2,0,"span",10)(21,As,2,0,"span",10),n(),f(22,Ts,15,3,"div",13),n(),i(23,"div",6)(24,"h3"),r(25,"Configuration Syst\xE8me"),n(),i(26,"div",14)(27,"div",15)(28,"strong"),r(29,"Mode de g\xE9ocodage:"),n(),i(30,"span",16),r(31),n()(),i(32,"div",15)(33,"strong"),r(34,"Villes support\xE9es:"),n(),i(35,"span"),r(36),n()(),i(37,"div",15)(38,"strong"),r(39,"Estimation par code postal:"),n(),i(40,"span",17),r(41,"\u2705 Activ\xE9e"),n()()()()()}if(a&2){let e=m();c(11),x("ngModel",e.testAddress),c(),p("disabled",e.isGeocoding),c(),p("ngIf",!e.isGeocoding),c(),p("ngIf",e.isGeocoding),c(),p("ngIf",e.testResult),c(4),p("disabled",e.isAuditing),c(),p("ngIf",!e.isAuditing),c(),p("ngIf",e.isAuditing),c(),p("ngIf",e.auditResults.length>0),c(9),k(e.geocodingMode),c(5),O("",e.supportedCitiesCount," villes")}}function Fs(a,t){a&1&&(i(0,"div",34),r(1," \u{1F512} Acc\xE8s r\xE9serv\xE9 aux administrateurs "),n())}var qt=class a{constructor(t,e,o){this.geocodingService=t;this.firebaseService=e;this.authService=o;this.authService.user$.subscribe(s=>{this.isAdmin=s?.email==="youssoufdiamaldiallo@gmail.com"})}isAdmin=!1;testAddress="";isGeocoding=!1;isAuditing=!1;isRegeocoding=!1;testResult=null;auditResults=[];invalidAfroshops=[];get validCoordinates(){return this.auditResults.filter(t=>this.geocodingService.isValidCoordinates(t.coordinates.lat,t.coordinates.lng)).length}get invalidCoordinates(){return this.auditResults.length-this.validCoordinates}get geocodingMode(){return"Fallback (Villes pr\xE9d\xE9finies)"}get supportedCitiesCount(){return 50}testSingleAddress(){return v(this,null,function*(){if(this.testAddress.trim()){this.isGeocoding=!0,this.testResult=null;try{this.geocodingService.geocodeAddress(this.testAddress).subscribe({next:t=>{this.isGeocoding=!1,t?this.testResult={success:!0,lat:t.lat,lng:t.lng,formatted_address:t.formatted_address,accuracy:t.accuracy}:this.testResult={success:!1}},error:t=>{this.isGeocoding=!1,this.testResult={success:!1,error:t.message},console.error("Erreur test g\xE9ocodage:",t)}})}catch(t){this.isGeocoding=!1,this.testResult={success:!1},console.error("Erreur test g\xE9ocodage:",t)}}})}auditAfroshops(){return v(this,null,function*(){this.isAuditing=!0,this.auditResults=[],this.invalidAfroshops=[];try{this.firebaseService.getAllAfroshops().subscribe({next:t=>{this.auditResults=t,this.invalidAfroshops=t.filter(e=>!this.geocodingService.isValidCoordinates(e.coordinates.lat,e.coordinates.lng)),console.log(`Audit termin\xE9: ${this.validCoordinates}/${this.auditResults.length} coordonn\xE9es valides`),this.isAuditing=!1},error:t=>{console.error("Erreur audit:",t),this.isAuditing=!1}})}catch(t){console.error("Erreur audit:",t),this.isAuditing=!1}})}regeocodeAfroshop(t){return v(this,null,function*(){this.isRegeocoding=!0;try{this.geocodingService.geocodeAddress(t.address).subscribe({next:e=>v(this,null,function*(){if(e){let o={coordinates:{lat:e.lat,lng:e.lng}};yield this.firebaseService.updateAfroshop(t.id,o);let s=this.invalidAfroshops.findIndex(l=>l.id===t.id);s>=0&&(this.invalidAfroshops[s].coordinates=o.coordinates),console.log(`\u2705 Re-g\xE9ocodage r\xE9ussi pour ${t.name}`)}else console.warn(`\u274C Re-g\xE9ocodage \xE9chou\xE9 pour ${t.name}`);this.isRegeocoding=!1}),error:e=>{console.error(`Erreur re-g\xE9ocodage ${t.name}:`,e),this.isRegeocoding=!1}})}catch(e){console.error(`Erreur re-g\xE9ocodage ${t.name}:`,e),this.isRegeocoding=!1}})}static \u0275fac=function(e){return new(e||a)(M(Be),M(W),M(T))};static \u0275cmp=E({type:a,selectors:[["app-geocoding-diagnostic"]],decls:2,vars:2,consts:[["class","diagnostic-container",4,"ngIf"],["class","no-access",4,"ngIf"],[1,"diagnostic-container"],[1,"diagnostic-header"],[1,"header-content"],["routerLink","/admin",1,"back-to-admin-btn"],[1,"test-section"],[1,"input-group"],["type","text","placeholder","Saisissez une adresse allemande...",1,"test-input",3,"ngModelChange","ngModel"],[1,"test-btn",3,"click","disabled"],[4,"ngIf"],["class","result-box",4,"ngIf"],[1,"audit-btn",3,"click","disabled"],["class","audit-results",4,"ngIf"],[1,"config-info"],[1,"config-item"],[1,"mode-indicator"],[1,"feature-enabled"],[1,"result-box"],["class","success-result",4,"ngIf"],["class","error-result",4,"ngIf"],[1,"success-result"],[1,"error-result"],[1,"audit-results"],[1,"stats"],[1,"stat-item"],[1,"stat-number"],[1,"stat-label"],["class","invalid-list",4,"ngIf"],[1,"invalid-list"],["class","invalid-item",4,"ngFor","ngForOf"],[1,"invalid-item"],[1,"coordinates"],[1,"regeocode-btn",3,"click","disabled"],[1,"no-access"]],template:function(e,o){e&1&&f(0,Ls,42,11,"div",0)(1,Fs,2,0,"div",1),e&2&&(p("ngIf",o.isAdmin),c(),p("ngIf",!o.isAdmin))},dependencies:[I,Z,D,$,ae,se,le,re,oe],styles:[".diagnostic-container[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:20px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.diagnostic-header[_ngcontent-%COMP%]{margin-bottom:30px;padding-bottom:15px;border-bottom:2px solid #e9ecef}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:15px}.header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333}.back-to-admin-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#5a6268);color:#fff;padding:8px 16px;border-radius:6px;text-decoration:none;font-size:14px;font-weight:500;transition:all .3s ease;display:flex;align-items:center;gap:5px}.back-to-admin-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a6268,#495057);transform:translateY(-1px);text-decoration:none;color:#fff}.test-section[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:20px;margin-bottom:20px;box-shadow:0 2px 4px #0000001a}.test-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#333;border-bottom:2px solid #007bff;padding-bottom:8px}.input-group[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:15px}.test-input[_ngcontent-%COMP%]{flex:1;padding:10px;border:2px solid #ddd;border-radius:4px;font-size:14px}.test-btn[_ngcontent-%COMP%], .audit-btn[_ngcontent-%COMP%]{padding:10px 20px;background:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-weight:600}.test-btn[_ngcontent-%COMP%]:hover, .audit-btn[_ngcontent-%COMP%]:hover{background:#0056b3}.test-btn[_ngcontent-%COMP%]:disabled, .audit-btn[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed}.result-box[_ngcontent-%COMP%]{margin-top:15px;padding:15px;border-radius:6px}.success-result[_ngcontent-%COMP%]{background:#d4edda;border:1px solid #c3e6cb;color:#155724}.error-result[_ngcontent-%COMP%]{background:#f8d7da;border:1px solid #f5c6cb;color:#721c24}.stats[_ngcontent-%COMP%]{display:flex;gap:20px;margin:15px 0}.stat-item[_ngcontent-%COMP%]{text-align:center;padding:15px;background:#fff;border-radius:6px;box-shadow:0 1px 3px #0000001a}.stat-number[_ngcontent-%COMP%]{display:block;font-size:24px;font-weight:700;color:#007bff}.stat-label[_ngcontent-%COMP%]{display:block;font-size:12px;color:#666;margin-top:5px}.invalid-item[_ngcontent-%COMP%]{background:#fff;padding:15px;margin:10px 0;border-radius:6px;border-left:4px solid #ffc107}.coordinates[_ngcontent-%COMP%]{color:#666;font-family:monospace}.regeocode-btn[_ngcontent-%COMP%]{margin-top:8px;padding:5px 10px;background:#28a745;color:#fff;border:none;border-radius:3px;font-size:12px;cursor:pointer}.config-info[_ngcontent-%COMP%]{background:#fff;padding:15px;border-radius:6px}.config-item[_ngcontent-%COMP%]{margin:10px 0;display:flex;justify-content:space-between}.mode-indicator[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;padding:2px 8px;border-radius:12px;font-size:14px}.feature-enabled[_ngcontent-%COMP%]{color:#28a745}.no-access[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666;font-size:18px}"]})};var We=class a{constructor(t,e){this.authService=t;this.router=e}canActivate(){return this.authService.user$.pipe(He(1),me(t=>t?!0:(this.router.navigate(["/login"],{queryParams:{returnUrl:this.router.url}}),!1)))}static \u0275fac=function(e){return new(e||a)(X(T),X(R))};static \u0275prov=G({token:a,factory:a.\u0275fac,providedIn:"root"})};var _t=class a{constructor(t,e,o){this.authService=t;this.firestore=e;this.router=o}canActivate(){return xt([!0])}static \u0275fac=function(e){return new(e||a)(X(T),X(_e),X(R))};static \u0275prov=G({token:a,factory:a.\u0275fac,providedIn:"root"})};function Rs(a,t){if(a&1&&(i(0,"div",17),w(1,"img",18),n()),a&2){let e=m();c(),p("src",e.productImagePreview,ne)}}function Bs(a,t){if(a&1&&(i(0,"div",26)(1,"strong"),r(2),n()()),a&2){let e=m(2);c(2),k(e.bankSuccessMessage)}}function Ns(a,t){if(a&1){let e=S();i(0,"div",19)(1,"h3"),r(2,"Bankverbindung f\xFCr den Shop angeben"),n(),i(3,"label",20),r(4,"IBAN"),n(),i(5,"input",21),C("ngModelChange",function(s){u(e);let l=m();return y(l.iban,s)||(l.iban=s),h(s)}),n(),i(6,"label",22),r(7,"BIC"),n(),i(8,"input",23),C("ngModelChange",function(s){u(e);let l=m();return y(l.bic,s)||(l.bic=s),h(s)}),n(),i(9,"button",24),_("click",function(){u(e);let s=m();return h(s.saveBankData())}),r(10,"Speichern"),n(),f(11,Bs,3,1,"div",25),n()}if(a&2){let e=m();c(5),x("ngModel",e.iban),c(3),x("ngModel",e.bic),c(3),p("ngIf",e.bankSuccessMessage)}}var Kt=class a{constructor(t,e,o){this.firebaseService=t;this.router=e;this.route=o}showBankForm=!1;bankSuccessMessage=null;iban="";bic="";afroshopId="";productAdded=new Se;newProduct={id:"",name:"",price:0,image:"",category:"Lebensmittel"};productImagePreview=null;productImageFile=null;productIdToEdit=null;ngOnInit(){return v(this,null,function*(){this.route.queryParams.subscribe(t=>v(this,null,function*(){if(console.log("[AddProduct] QueryParams:",t),t.afroshopId){this.afroshopId=t.afroshopId,console.log("[AddProduct] afroshopId re\xE7u:",this.afroshopId);let e=yield this.firebaseService.getAfroshopById(this.afroshopId);!e?.iban||!e?.bic?this.showBankForm=!0:this.showBankForm=!1}else console.warn("[AddProduct] Aucun afroshopId re\xE7u dans les queryParams");t.productId&&(this.productIdToEdit=t.productId,this.newProduct={id:t.productId,name:t.name||"",price:t.price?Number(t.price):0,image:t.image||"",category:t.category||"Lebensmittel"},this.productImagePreview=t.image||null)}))})}onProductImageSelected(t){return v(this,null,function*(){let e=t.target.files[0];if(!e)return;let o=new FileReader;o.onload=s=>{this.productImagePreview=s.target.result},o.readAsDataURL(e),this.productImageFile=e;try{let s=yield this.firebaseService.uploadImage(e);this.newProduct.image=s}catch(s){console.error("Erreur upload image produit:",s)}})}addProduct(){return v(this,null,function*(){if(this.showBankForm){this.bankSuccessMessage=null;return}if(!this.newProduct.name||!this.newProduct.price||!this.newProduct.image)return;let t=N({},this.newProduct);if(this.productIdToEdit&&this.afroshopId){let o=(yield this.firebaseService.getAfroshopById(this.afroshopId))?.products||[];o=o.map(s=>s.id===this.productIdToEdit?t:s),yield this.firebaseService.updateAfroshop(this.afroshopId,{products:o}),this.router.navigate(["/shop",this.afroshopId])}else this.afroshopId&&(t.id=Date.now().toString(),yield this.firebaseService.updateAfroshop(this.afroshopId,{products:zi(t)}),this.router.navigate(["/shop",this.afroshopId]));this.productAdded.emit(t),this.newProduct={id:"",name:"",price:0,image:"",category:"Lebensmittel"},this.productImagePreview=null,this.productImageFile=null,this.productIdToEdit=null})}saveBankData(){return v(this,null,function*(){if(!this.iban||!this.bic||!this.afroshopId)return;yield this.firebaseService.updateAfroshop(this.afroshopId,{iban:this.iban,bic:this.bic}),this.showBankForm=!1,this.bankSuccessMessage=`Bankverbindung erfolgreich hinzugef\xFCgt!
IBAN: ${this.iban}
BIC: ${this.bic}`;let t=this.afroshopId;this.iban="",this.bic="",setTimeout(()=>{this.router.navigate(["/payment"],{queryParams:{shopId:t}})},1500)})}goToShop(){console.log("Redirection vers le shop avec afroshopId:",this.afroshopId),this.afroshopId?this.router.navigate(["/shop",this.afroshopId]):console.warn("Aucun afroshopId trouv\xE9 pour la redirection !")}goToGallery(){this.router.navigate(["/gallery"])}static \u0275fac=function(e){return new(e||a)(M(W),M(R),M(ie))};static \u0275cmp=E({type:a,selectors:[["app-add-product"]],inputs:{afroshopId:"afroshopId"},outputs:{productAdded:"productAdded"},decls:28,vars:6,consts:[[1,"add-product-form"],[3,"ngSubmit"],["for","name"],["type","text","name","name","id","name","placeholder","Name des Produkts","required","",3,"ngModelChange","ngModel"],["for","category"],["name","category","id","category","required","",3,"ngModelChange","ngModel"],["value","Lebensmittel"],["value","Getr\xE4nke"],["for","price"],["type","number","step","0.01","name","price","id","price","placeholder","Preis in Euro","required","",3,"ngModelChange","ngModel"],["for","image"],["type","file","id","image",3,"change"],["class","image-preview-container",4,"ngIf"],["type","submit",1,"modern-btn",3,"disabled"],["type","button",1,"modern-btn","secondary",3,"click"],["type","button",1,"modern-btn","shop",3,"click"],["class","bank-form",4,"ngIf"],[1,"image-preview-container"],["alt","Bildvorschau",1,"preview",3,"src"],[1,"bank-form"],["for","iban"],["type","text","id","iban","name","iban","placeholder","IBAN","required","",3,"ngModelChange","ngModel"],["for","bic"],["type","text","id","bic","name","bic","placeholder","BIC","required","",3,"ngModelChange","ngModel"],[1,"modern-btn",3,"click"],["class","bank-success-message",4,"ngIf"],[1,"bank-success-message"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"h2"),r(2,"Produkt hinzuf\xFCgen"),n(),i(3,"form",1),_("ngSubmit",function(){return o.addProduct()}),i(4,"label",2),r(5,"Produktname"),n(),i(6,"input",3),C("ngModelChange",function(l){return y(o.newProduct.name,l)||(o.newProduct.name=l),l}),n(),i(7,"label",4),r(8,"Kategorie"),n(),i(9,"select",5),C("ngModelChange",function(l){return y(o.newProduct.category,l)||(o.newProduct.category=l),l}),i(10,"option",6),r(11,"Lebensmittel"),n(),i(12,"option",7),r(13,"Getr\xE4nke"),n()(),i(14,"label",8),r(15,"Preis (\u20AC)"),n(),i(16,"input",9),C("ngModelChange",function(l){return y(o.newProduct.price,l)||(o.newProduct.price=l),l}),n(),i(17,"label",10),r(18,"Produktbild"),n(),i(19,"input",11),_("change",function(l){return o.onProductImageSelected(l)}),n(),f(20,Rs,2,1,"div",12),i(21,"button",13),r(22,"Hinzuf\xFCgen"),n(),i(23,"button",14),_("click",function(){return o.goToGallery()}),r(24,"Galerie"),n(),i(25,"button",15),_("click",function(){return o.goToShop()}),r(26,"Shop ansehen"),n()(),f(27,Ns,12,3,"div",16),n()),e&2&&(c(6),x("ngModel",o.newProduct.name),c(3),x("ngModel",o.newProduct.category),c(7),x("ngModel",o.newProduct.price),c(4),p("ngIf",o.productImagePreview),c(),p("disabled",o.showBankForm),c(6),p("ngIf",o.showBankForm))},dependencies:[I,D,$,xe,Ye,Xe,ae,Ni,$e,se,be,ye,le,ve],styles:['[_nghost-%COMP%]{display:block;padding:2rem;background:#f8f9fa;border-radius:16px;box-shadow:0 4px 24px #00000014;max-width:400px;margin:2rem auto}.add-product-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#2d3748;margin-bottom:1.5rem}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.2rem}label[_ngcontent-%COMP%]{font-weight:500;color:#4a5568;margin-bottom:.3rem}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{padding:.7rem;border-radius:8px;border:1px solid #cbd5e0;font-size:1rem;background:#fff;transition:border-color .2s}input[_ngcontent-%COMP%]:focus{border-color:#3182ce;outline:none}.image-preview-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:.5rem}img.preview[_ngcontent-%COMP%]{max-width:180px;max-height:180px;border-radius:12px;box-shadow:0 2px 8px #0000001a}.modern-btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3182ce,#00bcd4);color:#fff;border:none;border-radius:8px;padding:.8rem;font-size:1.1rem;font-weight:600;cursor:pointer;box-shadow:0 2px 8px #3182ce1a;transition:background .2s,transform .1s;margin-bottom:.5rem}.modern-btn.secondary[_ngcontent-%COMP%]{background:linear-gradient(90deg,#00bcd4,#43e97b);color:#fff;border:none;border-radius:8px;padding:.8rem;font-size:1.1rem;font-weight:600;cursor:pointer;box-shadow:0 2px 12px #43e97b1a;display:flex;align-items:center;justify-content:center;gap:.5rem;margin-top:.5rem}.modern-btn.secondary[_ngcontent-%COMP%]:before{content:"\\1f5bc\\fe0f";font-size:1.2rem;margin-right:.3rem}.modern-btn.secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#43e97b,#00bcd4);transform:translateY(-2px) scale(1.04);box-shadow:0 4px 16px #43e97b2e}']})};function Gs(a,t){if(a&1){let e=S();i(0,"button",9),_("click",function(){u(e);let s=m();return h(s.goToAddProduct())}),r(1,"\u2795 Produkte hinzuf\xFCgen"),n()}}function Vs(a,t){if(a&1){let e=S();i(0,"button",10),_("click",function(){u(e);let s=m();return h(s.goToDashboard(s.afroshop.id))}),r(1,"\u{1F4CA} Dashboard"),n()}}function Us(a,t){if(a&1&&(i(0,"span",11),r(1),n()),a&2){let e=m();c(),k(e.getCartItemCount())}}function Ws(a,t){if(a&1){let e=S();i(0,"li",24),w(1,"img",25),i(2,"div",26)(3,"span",27),r(4),n(),i(5,"span",28),r(6),de(7,"currency"),n()(),i(8,"div",29)(9,"button",30),_("click",function(){let s=u(e).$implicit,l=m(2);return h(l.decrementQuantity(s))}),r(10,"-"),n(),i(11,"span"),r(12),n(),i(13,"button",30),_("click",function(){let s=u(e).$implicit,l=m(2);return h(l.incrementQuantity(s))}),r(14,"+"),n()(),i(15,"span",31),r(16),de(17,"currency"),n(),i(18,"button",32),_("click",function(){let s=u(e).$implicit,l=m(2);return h(l.decrementQuantity(s))}),r(19,"\u2716\uFE0F"),n()()}if(a&2){let e=t.$implicit;c(),p("src",e.product.image,ne)("alt",e.product.name),c(3),k(e.product.name),c(2),k(Ve(7,6,e.product.price,"EUR")),c(6),k(e.quantity),c(4),k(Ve(17,9,e.product.price*e.quantity,"EUR"))}}function js(a,t){if(a&1){let e=S();i(0,"div",12)(1,"div",13)(2,"div",14)(3,"span",15),r(4,"\u{1F6D2} Mein Warenkorb"),n(),i(5,"span",16),r(6),n()(),i(7,"ul",17),f(8,Ws,20,12,"li",18),n(),i(9,"div",19)(10,"span"),r(11,"Gesamt:"),n(),i(12,"strong",20),r(13),de(14,"currency"),n()(),i(15,"div",21)(16,"button",22),_("click",function(){u(e);let s=m();return h(s.goToPayment())}),r(17,"Zur Kasse"),n(),i(18,"button",23),_("click",function(){u(e);let s=m();return h(s.toggleCart())}),r(19,"Schlie\xDFen"),n()()()()}if(a&2){let e=m();c(6),k(e.getCartItemCount()),c(2),p("ngForOf",e.cartItems),c(5),k(Ve(14,4,e.getCartTotal(),"EUR")),c(3),p("disabled",e.getCartItemCount()===0)}}function Hs(a,t){a&1&&(i(0,"div",37)(1,"span",38),r(2,"Hinweis:"),n(),r(3," Dieser Shop bietet keinen Online-Bestellservice an. Bitte besuchen Sie das Gesch\xE4ft vor Ort oder rufen Sie an. "),n())}function qs(a,t){if(a&1){let e=S();i(0,"div",46)(1,"button",47),_("click",function(){u(e);let s=m().$implicit,l=m(2);return h(l.editProduct(s))}),r(2,"\u270F\uFE0F"),n(),i(3,"button",48),_("click",function(){u(e);let s=m().$implicit,l=m(2);return h(l.deleteProduct(s))}),r(4,"\u{1F5D1}\uFE0F"),n()()}}function Ks(a,t){if(a&1){let e=S();i(0,"div",39),w(1,"img",40),i(2,"div",41)(3,"div",42),r(4),n(),i(5,"div",43),r(6),de(7,"currency"),n(),i(8,"button",44),_("click",function(){let s=u(e).$implicit,l=m(2);return h(l.addToCart(s))}),r(9,"\u{1F6D2}"),n()(),f(10,qs,5,0,"div",45),n()}if(a&2){let e=t.$implicit,o=m(2);c(),p("src",e.image,ne)("alt",e.name),c(3),k(e.name),c(2),k(Ve(7,5,e.price,"EUR")),c(4),p("ngIf",o.canEdit())}}function Zs(a,t){if(a&1&&(i(0,"div",33)(1,"h2"),r(2),n(),f(3,Hs,4,0,"div",34),i(4,"div",35),f(5,Ks,11,8,"div",36),n()()),a&2){let e=m();c(2),k(e.afroshop.name),c(),p("ngIf",!e.afroshop.products||e.afroshop.products.length===0),c(2),p("ngForOf",e.afroshop.products)}}var Zt=class a{constructor(t,e,o,s,l){this.route=t;this.router=e;this.afroshopService=o;this.firebaseService=s;this.authService=l}goToDashboard(t){let e=t||this.shopId;this.router.navigate(["/dashboard",e])}cartOpen=!1;toggleCart(){this.cartOpen=!this.cartOpen}incrementQuantity(t){t.quantity++,this.saveCartToLocalStorage()}decrementQuantity(t){t.quantity>1?(t.quantity--,this.saveCartToLocalStorage()):(this.cartItems=this.cartItems.filter(e=>e.product.id!==t.product.id),this.saveCartToLocalStorage())}canEdit(){let t=this.authService.getCurrentUser?.();return!t||!this.afroshop?!1:this.afroshop.createdBy===t.uid}afroshop;shopId="";cartItems=[];goToAddProduct(){this.router.navigate(["/add-product"],{queryParams:{afroshopId:this.shopId}})}getCartKey(){return`cartItems_${this.shopId}`}saveCartToLocalStorage(){localStorage.setItem(this.getCartKey(),JSON.stringify(this.cartItems))}loadCartFromLocalStorage(){let t=localStorage.getItem(this.getCartKey());if(t)try{this.cartItems=JSON.parse(t)}catch{}else this.cartItems=[]}ngOnInit(){this.route.paramMap.subscribe(t=>{let e=t.get("id");e&&(this.shopId=e,this.loadCartFromLocalStorage(),this.firebaseService.getAllAfroshops().subscribe(o=>{this.afroshop=o.find(s=>s.id===e||s.id===+e||s.id.toString()===e)}))})}addToCart(t){let e=this.cartItems.find(o=>o.product.id===t.id);e?(e.quantity++,this.saveCartToLocalStorage()):(this.cartItems.push({product:t,quantity:1}),this.saveCartToLocalStorage())}getCartItemCount(){return this.cartItems.reduce((t,e)=>t+e.quantity,0)}getCartTotal(){return this.cartItems.reduce((t,e)=>t+e.product.price*e.quantity,0)}editProduct(t){this.router.navigate(["/add-product"],{queryParams:{afroshopId:this.shopId,productId:t.id,name:t.name,price:t.price,image:t.image,category:t.category}})}deleteProduct(t){return v(this,null,function*(){if(!this.afroshop)return;let e=(this.afroshop.products||[]).filter(o=>o.id!==t.id);try{yield this.firebaseService.updateAfroshop(String(this.afroshop.id),{products:e}),this.afroshop.products=e}catch(o){console.error("Erreur lors de la suppression du produit :",o),alert("Fehler beim L\xF6schen des Produkts.")}})}goToPayment(){this.toggleCart(),this.router.navigate(["/payment"],{queryParams:{shopId:this.shopId}})}static \u0275fac=function(e){return new(e||a)(M(ie),M(R),M(Re),M(W),M(T))};static \u0275cmp=E({type:a,selectors:[["app-shop"]],decls:11,vars:5,consts:[[1,"shop-header-btns"],[1,"modern-btn",3,"click"],["class","modern-btn primary",3,"click",4,"ngIf"],["class","modern-btn dashboard",3,"click",4,"ngIf"],[1,"cart-float-global"],[1,"cart-float-btn",3,"click"],["class","cart-count",4,"ngIf"],["class","cart-overlay",4,"ngIf"],["class","shop-container",4,"ngIf"],[1,"modern-btn","primary",3,"click"],[1,"modern-btn","dashboard",3,"click"],[1,"cart-count"],[1,"cart-overlay"],[1,"cart-float-panel","modern-cart"],[1,"cart-header"],[1,"cart-title"],[1,"cart-badge"],[1,"cart-list"],["class","cart-item",4,"ngFor","ngForOf"],[1,"cart-total-row"],[1,"cart-total"],[1,"cart-actions"],[1,"cart-order-btn",3,"click","disabled"],[1,"close-cart-btn",3,"click"],[1,"cart-item"],[1,"cart-item-img",3,"src","alt"],[1,"cart-item-info"],[1,"cart-item-name"],[1,"cart-item-price"],[1,"cart-qty-controls"],[3,"click"],[1,"cart-item-total"],["title","Entfernen",1,"cart-remove-btn",3,"click"],[1,"shop-container"],["class","info-message",4,"ngIf"],[1,"products-grid"],["class","product-card",4,"ngFor","ngForOf"],[1,"info-message"],[2,"color","#d32f2f","font-weight","600"],[1,"product-card"],[1,"product-image",3,"src","alt"],[1,"product-row"],[1,"product-name"],[1,"product-price"],[1,"add-to-cart-btn",3,"click"],["class","admin-actions",4,"ngIf"],[1,"admin-actions"],[1,"edit-btn",3,"click"],[1,"delete-btn",3,"click"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"button",1),_("click",function(){return o.router.navigate(["/gallery"])}),r(2,"\u2190 Zur\xFCck zur \xDCbersicht"),n(),f(3,Gs,2,0,"button",2)(4,Vs,2,0,"button",3),i(5,"div",4)(6,"button",5),_("click",function(){return o.toggleCart()}),r(7," \u{1F6D2} "),f(8,Us,2,1,"span",6),n()()(),f(9,js,20,7,"div",7)(10,Zs,6,3,"div",8)),e&2&&(c(3),p("ngIf",o.canEdit()),c(),p("ngIf",o.canEdit()&&o.afroshop),c(4),p("ngIf",o.getCartItemCount()>0),c(),p("ngIf",o.cartOpen),c(),p("ngIf",o.afroshop))},dependencies:[I,Z,D,Wn,$],styles:[".modern-btn[_ngcontent-%COMP%]{background:#e0e0e0;color:#222;border:none;border-radius:4px;padding:.5rem 1.2rem;font-size:1rem;font-weight:500;cursor:pointer;margin-right:.7rem;transition:background .2s,color .2s}.modern-btn[_ngcontent-%COMP%]:hover{background:#bdbdbd;color:#111}.modern-btn.primary[_ngcontent-%COMP%]{background:#1a8917;color:#fff}.modern-btn.primary[_ngcontent-%COMP%]:hover{background:#166d13;color:#fff}.shop-header-btns[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;position:relative}.cart-float-global[_ngcontent-%COMP%]{position:fixed;top:18px;right:18px;z-index:2100}.cart-float-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #1a8917;border-radius:50%;width:48px;height:48px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;position:relative;cursor:pointer;transition:box-shadow .2s}.cart-float-btn[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #1a891726}.cart-count[_ngcontent-%COMP%]{position:absolute;top:2px;right:2px;background:#d32f2f;color:#fff;border-radius:50%;font-size:.85rem;padding:0 6px;min-width:22px;text-align:center;font-weight:700}.cart-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000059;z-index:2000;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(3px)}.modern-cart[_ngcontent-%COMP%]{background:#fff;border-radius:18px;box-shadow:0 8px 32px #00000038;padding:2rem 1.2rem 1.2rem;max-width:98vw;width:370px;max-height:92vh;overflow-y:auto;position:relative;display:flex;flex-direction:column;gap:1.2rem}.cart-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:.7rem}.cart-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#1a8917;letter-spacing:.5px}.cart-badge[_ngcontent-%COMP%]{background:#d32f2f;color:#fff;border-radius:50%;font-size:1rem;padding:0 10px;min-width:28px;text-align:center;font-weight:700}.cart-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0 0 1rem;display:flex;flex-direction:column;gap:.7rem}.cart-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.7rem;background:#f7f7f7;border-radius:8px;padding:.5rem .7rem;position:relative}.cart-item-img[_ngcontent-%COMP%]{width:44px;height:44px;object-fit:cover;border-radius:6px;background:#eee}.cart-item-info[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:.1rem}.cart-item-name[_ngcontent-%COMP%]{font-weight:600;font-size:1.05rem}.cart-item-price[_ngcontent-%COMP%]{color:#1a8917;font-size:.98rem}.cart-qty-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;background:#fff;border-radius:4px;box-shadow:0 1px 3px #0000000a;padding:.1rem .4rem}.cart-qty-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#e0e0e0;border:none;border-radius:4px;padding:.2rem .7rem;font-size:1rem;cursor:pointer;transition:background .2s}.cart-qty-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#1a8917;color:#fff}.cart-item-total[_ngcontent-%COMP%]{font-weight:500;font-size:1.05rem;color:#333;min-width:70px;text-align:right}.cart-remove-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#d32f2f;font-size:1.2rem;margin-left:.2rem;cursor:pointer;transition:color .2s}.cart-remove-btn[_ngcontent-%COMP%]:hover{color:#b71c1c}.cart-total-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;font-size:1.15rem;margin:1rem 0 .5rem;font-weight:600}.cart-actions[_ngcontent-%COMP%]{display:flex;gap:.7rem;justify-content:flex-end}.cart-order-btn[_ngcontent-%COMP%]{background:#1a8917;color:#fff;border:none;border-radius:6px;padding:.6rem 1.5rem;font-size:1.08rem;font-weight:600;cursor:pointer;transition:background .2s}.cart-order-btn[_ngcontent-%COMP%]:hover{background:#166d13}.close-cart-btn[_ngcontent-%COMP%]{background:#e0e0e0;color:#222;border:none;border-radius:6px;padding:.6rem 1.5rem;font-size:1.08rem;font-weight:500;cursor:pointer;transition:background .2s}.close-cart-btn[_ngcontent-%COMP%]:hover{background:#bdbdbd}.close-cart-btn[_ngcontent-%COMP%]{margin-top:1rem;background:#d32f2f;color:#fff;border:none;border-radius:4px;padding:.5rem 1.2rem;font-size:1rem;cursor:pointer;transition:background .2s}.close-cart-btn[_ngcontent-%COMP%]:hover{background:#b71c1c}.cart-float-panel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0 0 1rem}.cart-float-panel[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.5rem;margin-bottom:.7rem}.cart-float-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#e0e0e0;border:none;border-radius:4px;padding:.2rem .7rem;font-size:1rem;cursor:pointer;transition:background .2s}.cart-float-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#1a8917;color:#fff}.product-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.7rem;width:100%;margin-bottom:.5rem}@media (max-width: 600px){.product-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.3rem}.product-row[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%], .product-row[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%], .product-row[_ngcontent-%COMP%]   .add-to-cart-btn[_ngcontent-%COMP%]{text-align:center;width:100%}.product-row[_ngcontent-%COMP%]   .add-to-cart-btn[_ngcontent-%COMP%]{margin:0 auto}}.product-row[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{flex:2;text-align:left}.product-row[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{flex:1;text-align:right}.product-row[_ngcontent-%COMP%]   .add-to-cart-btn[_ngcontent-%COMP%]{flex:0 0 auto;margin:0 0 0 .5rem}.admin-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.2rem}.edit-btn[_ngcontent-%COMP%], .delete-btn[_ngcontent-%COMP%]{background:#e0e0e0;color:#333;border:none;border-radius:4px;padding:.3rem .9rem;font-size:.95rem;cursor:pointer;transition:background .2s}.edit-btn[_ngcontent-%COMP%]:hover{background:#1976d2;color:#fff}.delete-btn[_ngcontent-%COMP%]:hover{background:#d32f2f;color:#fff}.shop-container[_ngcontent-%COMP%]{max-width:1400px;margin:2rem auto;padding:1rem .5rem;display:flex;flex-direction:column;align-items:center;overflow-x:hidden}.products-grid[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;overflow-x:hidden;display:grid;grid-template-columns:repeat(5,1fr);gap:1rem;justify-content:center;justify-items:center;align-items:start;margin:0 auto}@media (min-width: 1400px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr)}}@media (max-width: 1200px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width: 900px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 600px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.product-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #00000012;padding:1.5rem 1rem 1rem;display:flex;flex-direction:column;align-items:center;transition:box-shadow .2s}.product-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #00000021}.product-image[_ngcontent-%COMP%]{width:120px;height:120px;object-fit:cover;border-radius:8px;margin-bottom:1rem}.product-info[_ngcontent-%COMP%]{text-align:center;margin-bottom:.5rem}.product-name[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;margin-bottom:.2rem}.product-price[_ngcontent-%COMP%]{color:#1a8917;font-size:1rem;font-weight:500}.add-to-cart-btn[_ngcontent-%COMP%]{margin-top:.5rem;background:#1a8917;color:#fff;border:none;border-radius:6px;padding:.5rem 1.2rem;font-size:1rem;cursor:pointer;transition:background .2s}.add-to-cart-btn[_ngcontent-%COMP%]:hover{background:#166d13}.cart-summary[_ngcontent-%COMP%]{margin-top:2rem;background:#f7f7f7;border-radius:8px;padding:1rem;box-shadow:0 1px 4px #0000000a}.cart-total[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.1rem;font-weight:700}"]})};var nt=class a{firestore=q(_e);addOrder(t){return v(this,null,function*(){let e=ge(this.firestore,"orders");yield Pt(e,V(N({},t),{createdAt:Di.now()}))})}getAllOrders(){return Ct(this.firestore,()=>{let t=ge(this.firestore,"orders"),e=Ie(t,Le("createdAt","desc"));return Oe(e,{idField:"id"})})}getOrdersByShop(t){return Ct(this.firestore,()=>{let e=ge(this.firestore,"orders"),o=Ie(e,Fe("shopId","==",t),Le("createdAt","desc"));return Oe(o,{idField:"id"})})}getOrdersByUser(t){return Ct(this.firestore,()=>{let e=ge(this.firestore,"orders"),o=Ie(e,Fe("userId","==",t),Le("createdAt","desc"));return Oe(o,{idField:"id"})})}static \u0275fac=function(e){return new(e||a)};static \u0275prov=G({token:a,factory:a.\u0275fac,providedIn:"root"})};function Ys(a,t){if(a&1&&(i(0,"span"),r(1,"IBAN: "),i(2,"b"),r(3),n()()),a&2){let e=m(2);c(3),k(e.iban)}}function Xs(a,t){if(a&1&&(i(0,"span"),r(1,"BIC: "),i(2,"b"),r(3),n()()),a&2){let e=m(2);c(3),k(e.bic)}}function Js(a,t){if(a&1&&(i(0,"div",15)(1,"strong"),r(2,"Bankverbindung des Shops:"),n(),w(3,"br"),f(4,Ys,4,1,"span",16),w(5,"br"),f(6,Xs,4,1,"span",16),n()),a&2){let e=m();c(4),p("ngIf",e.iban),c(2),p("ngIf",e.bic)}}function Qs(a,t){if(a&1){let e=S();i(0,"div",17)(1,"h3"),r(2,"Ihre Kontaktdaten"),n(),i(3,"div",18)(4,"label",19),r(5,"Vorname *"),n(),i(6,"input",20),C("ngModelChange",function(s){u(e);let l=m();return y(l.clientInfo.firstName,s)||(l.clientInfo.firstName=s),h(s)}),n()(),i(7,"div",18)(8,"label",21),r(9,"Nachname *"),n(),i(10,"input",22),C("ngModelChange",function(s){u(e);let l=m();return y(l.clientInfo.lastName,s)||(l.clientInfo.lastName=s),h(s)}),n()(),i(11,"div",18)(12,"label",23),r(13,"Stra\xDFe *"),n(),i(14,"input",24),C("ngModelChange",function(s){u(e);let l=m();return y(l.clientInfo.street,s)||(l.clientInfo.street=s),h(s)}),n()(),i(15,"div",18)(16,"label",25),r(17,"Hausnummer *"),n(),i(18,"input",26),C("ngModelChange",function(s){u(e);let l=m();return y(l.clientInfo.number,s)||(l.clientInfo.number=s),h(s)}),n()(),i(19,"div",18)(20,"label",27),r(21,"PLZ *"),n(),i(22,"input",28),C("ngModelChange",function(s){u(e);let l=m();return y(l.clientInfo.plz,s)||(l.clientInfo.plz=s),h(s)}),n()(),i(23,"div",18)(24,"label",29),r(25,"Stadt *"),n(),i(26,"input",30),C("ngModelChange",function(s){u(e);let l=m();return y(l.clientInfo.city,s)||(l.clientInfo.city=s),h(s)}),n()(),i(27,"div",18)(28,"label",31),r(29,"Telefon *"),n(),i(30,"input",32),C("ngModelChange",function(s){u(e);let l=m();return y(l.clientInfo.phone,s)||(l.clientInfo.phone=s),h(s)}),n()(),i(31,"div",18)(32,"label",33),r(33,"E-Mail (optional)"),n(),i(34,"input",34),C("ngModelChange",function(s){u(e);let l=m();return y(l.clientInfo.email,s)||(l.clientInfo.email=s),h(s)}),n()()()}if(a&2){let e=m();c(6),x("ngModel",e.clientInfo.firstName),c(4),x("ngModel",e.clientInfo.lastName),c(4),x("ngModel",e.clientInfo.street),c(4),x("ngModel",e.clientInfo.number),c(4),x("ngModel",e.clientInfo.plz),c(4),x("ngModel",e.clientInfo.city),c(4),x("ngModel",e.clientInfo.phone),c(4),x("ngModel",e.clientInfo.email)}}function el(a,t){if(a&1&&(i(0,"div",35),w(1,"p",36),n()),a&2){let e=m();c(),p("innerHTML",e.confirmationMessage,Tn)}}var $t=class a{constructor(t,e,o,s,l){this.router=t;this.route=e;this.firebaseService=o;this.orderService=s;this.authService=l;this.route.queryParamMap.subscribe(d=>v(this,null,function*(){if(this.shopId=d.get("shopId"),this.shopId){let g=yield this.firebaseService.getAfroshopById(this.shopId);this.iban=g?.iban||"",this.bic=g?.bic||""}}))}shopId=null;selectedMethod="";paymentConfirmed=!1;confirmationMessage="";iban="";bic="";clientInfo={firstName:"",lastName:"",street:"",number:"",plz:"",city:"",phone:"",email:""};clientInfoValid(){return!!(this.clientInfo.firstName&&this.clientInfo.lastName&&this.clientInfo.street&&this.clientInfo.number&&this.clientInfo.plz&&this.clientInfo.city&&this.clientInfo.phone)}goBackToShop(){this.shopId?this.router.navigate(["/shop",this.shopId]):this.router.navigate(["/shop"])}confirmPayment(){return v(this,null,function*(){if(!this.clientInfoValid()){this.paymentConfirmed=!1,this.confirmationMessage="Bitte f\xFCllen Sie alle Pflichtfelder f\xFCr Ihre Kontaktdaten aus.";return}let t=[];try{let g=localStorage.getItem("cartItems_"+this.shopId);g&&(t=JSON.parse(g))}catch{}let e=t.map(g=>({id:g.product.id,name:g.product.name,price:g.product.price,quantity:g.quantity})),o=e.reduce((g,b)=>g+b.price*b.quantity,0);if(!this.shopId||e.length===0){this.paymentConfirmed=!0,this.confirmationMessage="Ihr Warenkorb ist leer oder ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.";return}let s=this.authService.getCurrentUser(),l;this.shopId&&(l=(yield this.firebaseService.getAfroshopById(this.shopId))?.createdBy);let d={shopId:this.shopId,clientInfo:{firstName:this.clientInfo.firstName,lastName:this.clientInfo.lastName,street:this.clientInfo.street,number:this.clientInfo.number,plz:this.clientInfo.plz,city:this.clientInfo.city,phone:this.clientInfo.phone,email:this.clientInfo.email},products:e,total:o,paymentMethod:this.selectedMethod,createdAt:new Date,shopOwnerId:l};s&&(d.userId=s.uid),yield this.orderService.addOrder(d),this.shopId&&localStorage.removeItem("cartItems_"+this.shopId),this.paymentConfirmed=!0,this.selectedMethod==="bar"?this.confirmationMessage="Ihre Bestellung wurde gespeichert. Bitte bezahlen Sie bar bei Abholung im Gesch\xE4ft.":this.selectedMethod==="vorkasse"?this.iban&&this.bic?this.confirmationMessage="Ihre Bestellung wurde gespeichert. Vielen Dank f\xFCr Ihren Einkauf!<br>Bitte \xFCberweisen Sie den Gesamtbetrag auf das folgende Konto:<br><b>IBAN: "+this.iban+"</b><br><b>BIC: "+this.bic+"</b><br><small>Ihre Bestellung wird nach Zahlungseingang bearbeitet.</small>":this.confirmationMessage="Bankverbindung nicht verf\xFCgbar. Bitte wenden Sie sich an den Shop.":this.confirmationMessage="Ihre Bestellung wurde gespeichert. Vielen Dank f\xFCr Ihren Einkauf!"})}static \u0275fac=function(e){return new(e||a)(M(R),M(ie),M(W),M(nt),M(T))};static \u0275cmp=E({type:a,selectors:[["app-payment"]],decls:39,vars:10,consts:[[1,"payment-container"],["class","bank-details","style","background:#f8f8f8; border-radius:6px; padding:1em; margin-bottom:1em;",4,"ngIf"],[1,"payment-methods",3,"ngSubmit"],[1,"payment-options-list"],[1,"payment-option"],["type","radio","name","payment","value","bar","required","",3,"ngModelChange","ngModel"],["type","radio","name","payment","value","karte",3,"ngModelChange","ngModel"],["type","radio","name","payment","value","paypal",3,"ngModelChange","ngModel"],["type","radio","name","payment","value","sofort",3,"ngModelChange","ngModel"],["type","radio","name","payment","value","vorkasse",3,"ngModelChange","ngModel"],["type","radio","name","payment","value","applepay",3,"ngModelChange","ngModel"],["class","client-info-form",4,"ngIf"],["type","submit",1,"payment-confirm-btn",3,"disabled"],[1,"payment-back-btn",3,"click"],["class","payment-success",4,"ngIf"],[1,"bank-details",2,"background","#f8f8f8","border-radius","6px","padding","1em","margin-bottom","1em"],[4,"ngIf"],[1,"client-info-form"],[1,"form-group"],["for","clientFirstName"],["type","text","id","clientFirstName","name","clientFirstName","required","",3,"ngModelChange","ngModel"],["for","clientLastName"],["type","text","id","clientLastName","name","clientLastName","required","",3,"ngModelChange","ngModel"],["for","clientStreet"],["type","text","id","clientStreet","name","clientStreet","required","",3,"ngModelChange","ngModel"],["for","clientNumber"],["type","text","id","clientNumber","name","clientNumber","required","",3,"ngModelChange","ngModel"],["for","clientPLZ"],["type","text","id","clientPLZ","name","clientPLZ","required","",3,"ngModelChange","ngModel"],["for","clientCity"],["type","text","id","clientCity","name","clientCity","required","",3,"ngModelChange","ngModel"],["for","clientPhone"],["type","tel","id","clientPhone","name","clientPhone","required","",3,"ngModelChange","ngModel"],["for","clientEmail"],["type","email","id","clientEmail","name","clientEmail",3,"ngModelChange","ngModel"],[1,"payment-success"],[3,"innerHTML"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"h2"),r(2,"Zahlung"),n(),f(3,Js,7,2,"div",1),i(4,"p"),r(5,"W\xE4hlen Sie Ihre bevorzugte Zahlungsmethode aus und best\xE4tigen Sie Ihre Bestellung."),n(),i(6,"form",2),_("ngSubmit",function(){return o.confirmPayment()}),i(7,"div",3)(8,"label",4)(9,"input",5),C("ngModelChange",function(l){return y(o.selectedMethod,l)||(o.selectedMethod=l),l}),n(),i(10,"span"),r(11,"Barzahlung bei Abholung"),n()(),i(12,"label",4)(13,"input",6),C("ngModelChange",function(l){return y(o.selectedMethod,l)||(o.selectedMethod=l),l}),n(),i(14,"span"),r(15,"EC-/Kreditkarte vor Ort"),n()(),i(16,"label",4)(17,"input",7),C("ngModelChange",function(l){return y(o.selectedMethod,l)||(o.selectedMethod=l),l}),n(),i(18,"span"),r(19,"PayPal"),n()(),i(20,"label",4)(21,"input",8),C("ngModelChange",function(l){return y(o.selectedMethod,l)||(o.selectedMethod=l),l}),n(),i(22,"span"),r(23,"Sofort\xFCberweisung (Klarna)"),n()(),i(24,"label",4)(25,"input",9),C("ngModelChange",function(l){return y(o.selectedMethod,l)||(o.selectedMethod=l),l}),n(),i(26,"span"),r(27,"Vorkasse/\xDCberweisung"),n()(),i(28,"label",4)(29,"input",10),C("ngModelChange",function(l){return y(o.selectedMethod,l)||(o.selectedMethod=l),l}),n(),i(30,"span"),r(31,"Apple Pay / Google Pay"),n()()(),f(32,Qs,35,8,"div",11),i(33,"button",12),r(34,"Zahlung best\xE4tigen"),n(),i(35,"button",13),_("click",function(){return o.goBackToShop()}),r(36,"Zur\xFCck zum Shop"),n(),f(37,el,2,1,"div",14),n(),w(38,"label",4),n()),e&2&&(c(3),p("ngIf",o.iban||o.bic),c(6),x("ngModel",o.selectedMethod),c(4),x("ngModel",o.selectedMethod),c(4),x("ngModel",o.selectedMethod),c(4),x("ngModel",o.selectedMethod),c(4),x("ngModel",o.selectedMethod),c(4),x("ngModel",o.selectedMethod),c(3),p("ngIf",o.selectedMethod),c(),p("disabled",!o.selectedMethod||!o.clientInfoValid()),c(4),p("ngIf",o.paymentConfirmed))},dependencies:[I,D,$,xe,ae,Gi,se,be,ye,le,ve],styles:[".payment-back-btn[_ngcontent-%COMP%]{margin-top:1.5rem;background:#fff;color:#00796b;border:1px solid #00796b;border-radius:4px;padding:.7rem 1.5rem;font-size:1rem;cursor:pointer;transition:background .2s,color .2s}.payment-back-btn[_ngcontent-%COMP%]:hover{background:#e0f2f1;color:#004d40}.payment-methods[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.1rem;margin:2rem 0 1.5rem}.payment-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;font-size:1.08rem;background:#f7f7f7;border-radius:7px;padding:.7rem 1rem;cursor:pointer;transition:background .2s}.payment-option[_ngcontent-%COMP%]:hover{background:#e0f2e9}.payment-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{accent-color:#1a8917;width:1.2em;height:1.2em}.payment-confirm-btn[_ngcontent-%COMP%]{margin-top:1.5rem;background:#1a8917;color:#fff;border:none;border-radius:6px;padding:.7rem 1.7rem;font-size:1.1rem;font-weight:600;cursor:pointer;transition:background .2s}.payment-confirm-btn[_ngcontent-%COMP%]:disabled{background:#bdbdbd;color:#fff;cursor:not-allowed}.payment-container[_ngcontent-%COMP%]{max-width:420px;margin:2rem auto;background:#fff;border-radius:14px;box-shadow:0 4px 24px #00000021;padding:2rem 1.5rem;display:flex;flex-direction:column;gap:1.2rem}.payment-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1a8917;font-size:1.5rem;margin-bottom:1rem}"]})};function tl(a,t){a&1&&(i(0,"div",6)(1,"p"),r(2,"Keine Bestellungen gefunden."),n()())}function nl(a,t){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=m(2).$implicit;c(),O("E-Mail: ",e.clientInfo.email,"")}}function il(a,t){if(a&1&&(Mt(0),i(1,"strong"),r(2),n(),w(3,"br"),r(4),w(5,"br"),r(6),w(7,"br"),r(8),w(9,"br"),f(10,nl,2,1,"span",11),wt()),a&2){let e=m().$implicit;c(2),Q("",e.clientInfo.firstName," ",e.clientInfo.lastName,""),c(2),Q(" ",e.clientInfo.street," ",e.clientInfo.number,""),c(2),Q(" ",e.clientInfo.plz," ",e.clientInfo.city,""),c(2),O(" Tel: ",e.clientInfo.phone,""),c(2),p("ngIf",e.clientInfo.email)}}function ol(a,t){a&1&&(i(0,"span",12),r(1,"Aucune info client"),n())}function rl(a,t){if(a&1&&(i(0,"li"),r(1),n()),a&2){let e=t.$implicit;c(),k(e.name)}}function al(a,t){if(a&1&&(i(0,"li"),r(1),n()),a&2){let e=t.$implicit;c(),k(e.quantity)}}function sl(a,t){if(a&1&&(i(0,"tr")(1,"td"),r(2),de(3,"date"),n(),i(4,"td"),f(5,il,11,8,"ng-container",10)(6,ol,2,0,"ng-template",null,0,rt),n(),i(8,"td")(9,"ul"),f(10,rl,2,1,"li",9),n()(),i(11,"td")(12,"ul"),f(13,al,2,1,"li",9),n()(),i(14,"td"),r(15),n(),i(16,"td"),r(17),n()()),a&2){let e=t.$implicit,o=Pe(7);c(2),k(Ve(3,7,e.createdAt==null?null:e.createdAt.toDate(),"dd/MM/yyyy HH:mm")),c(3),p("ngIf",e.clientInfo)("ngIfElse",o),c(5),p("ngForOf",e.products),c(3),p("ngForOf",e.products),c(2),O("\u20AC",e.total.toFixed(2),""),c(2),k(e.paymentMethod)}}function ll(a,t){if(a&1&&(i(0,"div",7)(1,"table",8)(2,"thead")(3,"tr")(4,"th"),r(5,"Datum"),n(),i(6,"th"),r(7,"Kunde"),n(),i(8,"th"),r(9,"Produkte"),n(),i(10,"th"),r(11,"Menge"),n(),i(12,"th"),r(13,"Gesamtbetrag (\u20AC)"),n(),i(14,"th"),r(15,"Zahlungsart"),n()()(),i(16,"tbody"),f(17,sl,18,10,"tr",9),n()()()),a&2){let e=m();c(17),p("ngForOf",e.orders)}}var Yt=class a{currentUid=null;orders=[];shopId="";myShop=null;orderService=q(nt);authService=q(T);afroshopService=q(W);router=q(R);route=q(ie);ngOnInit(){this.authService.user$.subscribe(e=>{this.currentUid=e?.uid||null});let t=this.route.snapshot.paramMap.get("id");t&&(this.shopId=t,this.afroshopService.getAllAfroshops().subscribe(e=>{this.myShop=e.find(o=>String(o.id)===String(this.shopId)),this.myShop&&this.orderService.getOrdersByShop(this.shopId).subscribe(o=>{this.orders=o})}))}get shopIdReady(){return!!this.myShop&&!!this.myShop.id}goToShop(){this.shopIdReady?this.router.navigate(["/shop",this.myShop.id]):this.router.navigate(["/gallery"])}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=E({type:a,selectors:[["app-dashboard"]],decls:9,vars:3,consts:[["noClientInfo",""],[1,"dashboard-container"],[2,"font-size","1.5em"],[1,"modern-btn","dashboard-return",2,"margin-bottom","1.5rem",3,"click","disabled"],["class","dashboard-empty",4,"ngIf"],["class","dashboard-table-wrapper",4,"ngIf"],[1,"dashboard-empty"],[1,"dashboard-table-wrapper"],[1,"dashboard-table"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[4,"ngIf"],[2,"color","#888"]],template:function(e,o){e&1&&(i(0,"div",1)(1,"h2")(2,"span",2),r(3,"\u{1F4CA}"),n(),r(4," Bestellungen f\xFCr Ihren Shop"),n(),i(5,"button",3),_("click",function(){return o.goToShop()}),r(6,"\u2190 Zur\xFCck zum Shop"),n(),f(7,tl,3,0,"div",4)(8,ll,18,1,"div",5),n()),e&2&&(c(5),p("disabled",!o.shopIdReady),c(2),p("ngIf",o.orders.length===0),c(),p("ngIf",o.orders.length>0))},dependencies:[I,Z,D,Un],encapsulation:2})};var Io=[{path:"",redirectTo:"/gallery",pathMatch:"full"},{path:"shop/:id",component:Zt},{path:"about",loadComponent:()=>import("./chunk-6TMO6OVF.js").then(a=>a.AboutComponent)},{path:"kontakt",loadComponent:()=>import("./chunk-I4S3RL2V.js").then(a=>a.KontaktComponent)},{path:"hilfe",loadComponent:()=>import("./chunk-X6NQ7FY2.js").then(a=>a.HilfeComponent)},{path:"gallery",component:Ft},{path:"afroshop/:id",component:Rt},{path:"add-afroshop",component:ft,canActivate:[We]},{path:"edit-afroshop/:id",component:ft,canActivate:[We]},{path:"admin",component:Ht,canActivate:[_t]},{path:"geocoding-diagnostic",component:qt,canActivate:[We]},{path:"login",component:Bt},{path:"register",component:Nt},{path:"privacy",component:Gt},{path:"terms",component:Vt},{path:"impressum",component:Ut},{path:"add-product",component:Kt,canActivate:[We]},{path:"payment",component:$t},{path:"dashboard/:id",component:Yt,canActivate:[_t]},{path:"**",redirectTo:"/gallery"}];ht();var Ao={providers:[Gn({eventCoalescing:!0}),ei(Io),Kn(),Xn(Yn()),bi(()=>vi(De.firebase)),Ti(()=>Ri()),wi(()=>Pi()),bo(()=>xo())]};function cl(a,t){if(a&1){let e=S();i(0,"div",1)(1,"span"),r(2," Diese Website verwendet Cookies f\xFCr Google Analytics, um das Nutzererlebnis zu verbessern. Mehr erfahren in unserer Datenschutzerkl\xE4rung. "),n(),i(3,"button",2),_("click",function(){u(e);let s=m();return h(s.accept())}),r(4,"Akzeptieren"),n(),i(5,"button",2),_("click",function(){u(e);let s=m();return h(s.decline())}),r(6,"Ablehnen"),n()()}}var Xt=class a{consentGiven=localStorage.getItem("cookie_consent")==="true";showBanner=!this.consentGiven;accept(){localStorage.setItem("cookie_consent","true"),this.showBanner=!1,this.loadAnalytics()}decline(){localStorage.setItem("cookie_consent","false"),this.showBanner=!1}loadAnalytics(){if(!window.gaLoaded){let t=document.createElement("script");t.src="https://www.googletagmanager.com/gtag/js?id=G-4VZ4WFYE9M",t.async=!0,document.head.appendChild(t),t.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","G-4VZ4WFYE9M",{anonymize_ip:!0}),window.gaLoaded=!0}}}ngOnInit(){this.consentGiven&&this.loadAnalytics()}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=E({type:a,selectors:[["app-cookie-consent"]],decls:1,vars:1,consts:[["class","cookie-banner",4,"ngIf"],[1,"cookie-banner"],[3,"click"]],template:function(e,o){e&1&&f(0,cl,7,0,"div",0),e&2&&p("ngIf",o.showBanner)},dependencies:[I,D],styles:[".cookie-banner[_ngcontent-%COMP%]{position:fixed;left:0;right:0;bottom:0;background:#222;color:#fff;padding:16px 10px;display:flex;flex-direction:column;align-items:center;z-index:1000;box-shadow:0 -2px 10px #0003}.cookie-banner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:10px;text-align:center}.cookie-banner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:2px 6px;padding:8px 18px;border:none;border-radius:4px;background:#ff7b00;color:#fff;font-weight:600;cursor:pointer;transition:background .2s}.cookie-banner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background:#888}.cookie-banner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ff5722}"]})};function dl(a,t){if(a&1){let e=S();i(0,"div",4),_("click",function(){u(e);let s=m();return h(s.closeMenu())}),n()}}function pl(a,t){if(a&1){let e=S();i(0,"nav",5)(1,"button",6),_("click",function(){u(e);let s=m();return h(s.closeMenu())}),r(2,"\xD7"),n(),i(3,"ul")(4,"li")(5,"a",7),_("click",function(){u(e);let s=m();return h(s.closeMenu())}),r(6,"\xDCber uns"),n()(),i(7,"li")(8,"a",8),_("click",function(){u(e);let s=m();return h(s.closeMenu())}),r(9,"Afroshop hinzuf\xFCgen"),n()(),i(10,"li")(11,"a",9),_("click",function(){u(e);let s=m();return h(s.closeMenu())}),r(12,"Galerie"),n()(),i(13,"li")(14,"a",10),_("click",function(){u(e);let s=m();return h(s.closeMenu())}),r(15,"Kontakt"),n()(),i(16,"li")(17,"a",11),_("click",function(){u(e);let s=m();return h(s.closeMenu())}),r(18,"Impressum"),n()(),i(19,"li")(20,"a",12),_("click",function(){u(e);let s=m();return h(s.closeMenu())}),r(21,"AGB"),n()(),i(22,"li")(23,"a",13),_("click",function(){u(e);let s=m();return h(s.closeMenu())}),r(24,"Datenschutz"),n()(),i(25,"li")(26,"a",14),_("click",function(){u(e);let s=m();return h(s.closeMenu())}),r(27,"Hilfe"),n()()()()}}var Jt=class a{menuOpen=!1;toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=E({type:a,selectors:[["app-burger-menu"]],decls:7,vars:2,consts:[[1,"burger-menu-container"],["aria-label","Men\xFC \xF6ffnen",1,"burger-icon",3,"click"],["class","menu-overlay",3,"click",4,"ngIf"],["class","menu-panel",4,"ngIf"],[1,"menu-overlay",3,"click"],[1,"menu-panel"],[1,"close-menu",3,"click"],["routerLink","/about",3,"click"],["routerLink","/add-afroshop",3,"click"],["routerLink","/gallery",3,"click"],["routerLink","/kontakt",3,"click"],["routerLink","/impressum",3,"click"],["routerLink","/terms",3,"click"],["routerLink","/privacy",3,"click"],["routerLink","/hilfe",3,"click"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"button",1),_("click",function(){return o.toggleMenu()}),w(2,"span")(3,"span")(4,"span"),n(),f(5,dl,1,0,"div",2)(6,pl,28,0,"nav",3),n()),e&2&&(c(5),p("ngIf",o.menuOpen),c(),p("ngIf",o.menuOpen))},dependencies:[I,D,re,oe],styles:[".burger-menu-container[_ngcontent-%COMP%]{position:absolute;top:1.2rem;left:1.2rem;z-index:1200}.burger-icon[_ngcontent-%COMP%]{background:none;border:none;display:flex;flex-direction:column;gap:5px;width:38px;height:38px;justify-content:center;align-items:center;cursor:pointer;padding:0}.burger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:28px;height:4px;background:#3182ce;border-radius:2px;transition:all .3s}.menu-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#3182ce1f;z-index:1201}.menu-panel[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:260px;height:100vh;background:#fff;box-shadow:2px 0 16px #3182ce1f;z-index:1202;padding:2rem 1.2rem 1.2rem;display:flex;flex-direction:column}.menu-panel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:2rem 0 0}.menu-panel[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:1.2rem}.menu-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3182ce;font-size:1.1rem;text-decoration:none;font-weight:500}.close-menu[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:#3182ce;align-self:flex-end;cursor:pointer}@media (max-width: 600px){.burger-menu-container[_ngcontent-%COMP%]{top:.7rem;left:.7rem}.menu-panel[_ngcontent-%COMP%]{width:80vw;min-width:180px;max-width:320px;padding:1.2rem .7rem .7rem}}"]})};var ml=["*"],gl=a=>({active:a});function ul(a,t){if(a&1&&w(0,"div",11),a&2){let e=t.$implicit,o=t.index,s=m();Fn("background-image","url("+e+")"),p("ngClass",Nn(3,gl,o===s.currentSlide))}}var Qt=class a{slideshowImages=["/assets/header-bg/Alloco2.jpg","/assets/header-bg/Avocados.jpg","/assets/header-bg/Bissap.png","/assets/header-bg/Chips2.jpg","/assets/header-bg/Guinness.jpg","/assets/header-bg/Ignam.jpg","/assets/header-bg/NIDO.jpg","/assets/header-bg/Schill.jpg","/assets/header-bg/Vimto.jpg","/assets/header-bg/Getraenke.jpg","/assets/header-bg/vitamalt.jpg","/assets/header-bg/Zitronen.jpg"];currentSlide=0;ngOnInit(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slideshowImages.length},5e3)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=E({type:a,selectors:[["app-header"]],ngContentSelectors:ml,decls:17,vars:1,consts:[[1,"app-header"],[1,"header-background"],[1,"header-slideshow"],["class","header-slide",3,"ngClass","backgroundImage",4,"ngFor","ngForOf"],[1,"header-overlay"],[1,"header-content"],[1,"header-left"],["routerLink","/gallery",1,"logo-link"],[1,"rotating-globe"],[1,"welcome-message"],[1,"header-right"],[1,"header-slide",3,"ngClass"]],template:function(e,o){e&1&&(St(),i(0,"header",0)(1,"div",1)(2,"div",2),f(3,ul,1,5,"div",3),n(),w(4,"div",4),n(),i(5,"div",5),w(6,"app-burger-menu"),i(7,"div",6)(8,"a",7)(9,"h1")(10,"span",8),r(11,"\u{1F30D}"),n(),r(12," AfroConnect"),n()(),i(13,"p",9),r(14,"Verbinde dich mit der afrikanischen Community in Deutschland"),n()(),i(15,"div",10),kt(16),n()()()),e&2&&(c(3),p("ngForOf",o.slideshowImages))},dependencies:[I,Vn,Z,Jt],styles:['@charset "UTF-8";.app-header[_ngcontent-%COMP%]{position:relative;height:320px;color:#fff;overflow:hidden;box-shadow:0 2px 8px #3182ce21}.header-background[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:1;overflow:hidden;background:linear-gradient(135deg,#4a90e2 60%,#50c9ce)}.header-slideshow[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%}.header-slide[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;background-size:cover;background-position:center;opacity:0;transform:scale(1.05);transition:opacity 1.5s ease,transform 6s ease;will-change:opacity,transform}.header-slide.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1);z-index:2}.header-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000073;z-index:3}.header-content[_ngcontent-%COMP%]{position:relative;z-index:4;display:flex;flex-direction:row;align-items:center;max-width:1200px;margin:0 auto;padding:1rem 2rem}.header-content[_ngcontent-%COMP%]   app-burger-menu[_ngcontent-%COMP%]{margin-right:2rem}.logo-link[_ngcontent-%COMP%]{text-decoration:none;color:#fff;transition:all .3s ease}.logo-link[_ngcontent-%COMP%]:hover   h1[_ngcontent-%COMP%]{text-shadow:0 2px 10px rgba(255,255,255,.4)}.header-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.3rem;margin:0;text-align:center;color:#4a90e2}.welcome-message[_ngcontent-%COMP%]{text-align:center}']})};function hl(a,t){if(a&1){let e=S();Mt(0),i(1,"app-chatbot",12),_("toggleChat",function(){u(e);let s=m();return h(s.toggleChatFromParent())}),n(),wt()}if(a&2){let e=m();c(),p("showChat",e.showChat)}}var en=class a{constructor(t,e){this.authService=t;this.router=e;this.user$=this.authService.user$,this.isMobile=window.innerWidth<=768,window.addEventListener("resize",()=>{this.isMobile=window.innerWidth<=768}),this.router.events.pipe(On(s=>s instanceof Jn)).subscribe(s=>{this.isHilfePage=s.urlAfterRedirects==="/hilfe"});let o=(ht(),Lo(Eo));console.log("Firebase config utilis\xE9e:",o.environment.firebase)}showChat=!1;title="AfroConnect";user$;isMobile=!1;isHilfePage=!1;currentSlide=0;toggleChatFromParent(){this.showChat=!this.showChat,console.log("[AppComponent] toggleChatFromParent appel\xE9, showChat:",this.showChat)}ngOnInit(){}logout(){return v(this,null,function*(){try{yield this.authService.logout(),this.router.navigate(["/gallery"])}catch(t){console.error("Erreur lors de la d\xE9connexion:",t)}})}static \u0275fac=function(e){return new(e||a)(M(T),M(R))};static \u0275cmp=E({type:a,selectors:[["app-root"]],decls:26,vars:1,consts:[[1,"app-container"],[1,"app-main"],[4,"ngIf"],[1,"app-footer"],[1,"footer-content"],[1,"footer-main"],[1,"footer-links"],["routerLink","/privacy",1,"footer-link"],[1,"footer-separator"],["routerLink","/terms",1,"footer-link"],["routerLink","/impressum",1,"footer-link"],["routerLink","/kontakt",1,"footer-link"],[3,"toggleChat","showChat"]],template:function(e,o){e&1&&(i(0,"div",0),w(1,"app-header"),i(2,"main",1),w(3,"router-outlet"),f(4,hl,2,1,"ng-container",2),n(),i(5,"footer",3)(6,"div",4)(7,"div",5)(8,"p"),r(9,"\xA9 2025 AfroConnect - Verbinde dich mit deiner Community"),n()(),i(10,"div",6)(11,"a",7),r(12,"Datenschutz"),n(),i(13,"span",8),r(14,"|"),n(),i(15,"a",9),r(16,"AGB"),n(),i(17,"span",8),r(18,"|"),n(),i(19,"a",10),r(20,"Impressum"),n(),i(21,"span",8),r(22,"|"),n(),i(23,"a",11),r(24,"Kontakt"),n()()()(),w(25,"app-cookie-consent"),n()),e&2&&(c(4),p("ngIf",!o.isMobile||o.isMobile&&o.isHilfePage))},dependencies:[I,D,Qn,re,oe,Xt,Wi,Qt],styles:[".app-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.app-header[_ngcontent-%COMP%]{position:relative;height:300px;color:#fff;padding:var(--spacing-lg);box-shadow:var(--shadow-sm);overflow:hidden}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto}.logo-link[_ngcontent-%COMP%]{text-decoration:none;color:inherit;transition:all .3s ease;cursor:pointer;border-radius:var(--border-radius);padding:var(--spacing-xs);margin:calc(-1 * var(--spacing-xs))}.logo-link[_ngcontent-%COMP%]:hover{background:#ffffff1a;transform:translateY(-2px)}.logo-link[_ngcontent-%COMP%]:active{transform:translateY(0)}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:2.5rem;font-weight:300;transition:all .3s ease}.logo-link[_ngcontent-%COMP%]:hover   h1[_ngcontent-%COMP%]{color:#fff;text-shadow:0 2px 10px rgba(255,255,255,.3)}.welcome-message[_ngcontent-%COMP%]{margin:.5rem 0 0;font-size:1.2rem;opacity:.9}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-md)}.user-menu[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm)}.user-greeting[_ngcontent-%COMP%]{font-size:.9rem;opacity:.9}.logout-btn[_ngcontent-%COMP%]{background:#fff3;color:#fff;border:1px solid rgba(255,255,255,.3);padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--border-radius);cursor:pointer;transition:all .3s ease;font-size:.9rem}.logout-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:translateY(-1px)}.auth-buttons[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm)}.auth-link[_ngcontent-%COMP%]{padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--border-radius);text-decoration:none;font-size:.9rem;font-weight:500;transition:all .3s ease}.login-link[_ngcontent-%COMP%]{color:#fff;border:1px solid rgba(255,255,255,.3);background:#ffffff1a}.login-link[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-1px)}.register-link[_ngcontent-%COMP%]{background:#fff;color:var(--primary-color);border:1px solid white}.register-link[_ngcontent-%COMP%]:hover{background:#ffffffe6;transform:translateY(-1px)}.header-background[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;overflow:hidden;z-index:1}.header-slideshow[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:1}.header-slide[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;background-size:cover;background-position:center;opacity:0;transition:opacity 1.2s ease}.header-slide.active[_ngcontent-%COMP%]{opacity:1;transition:opacity 1.2s ease}.header-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;z-index:2;height:100%;width:100%;pointer-events:none}@media (min-width: 1024px){.header-content[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 2rem;gap:2rem}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:400;letter-spacing:1px;text-align:left}.welcome-message[_ngcontent-%COMP%]{font-size:1.3rem;margin-top:.5rem;text-align:left}.app-main[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:2.5rem 2rem;background:var(--background-light);border-radius:18px;box-shadow:0 2px 24px #00000012}.features[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:2.5rem}.feature-card[_ngcontent-%COMP%]{padding:2.5rem;font-size:1.1rem}.app-footer[_ngcontent-%COMP%]{font-size:1.1rem;padding:2rem 0}.footer-content[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 2rem}}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-sm);text-align:center}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.welcome-message[_ngcontent-%COMP%]{font-size:1rem}}.app-main[_ngcontent-%COMP%]{flex:1;padding:var(--spacing-lg);background-color:var(--background-light)}.content-section[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.content-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-dark);text-align:center;margin-bottom:var(--spacing-lg);font-size:2rem}.content-section[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center;color:#666;font-size:1.1rem;margin-bottom:3rem}.features[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:2rem;margin-top:2rem}.feature-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:10px;box-shadow:0 4px 15px #0000001a;text-align:center;transition:transform .3s ease,box-shadow .3s ease}.feature-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 25px #00000026}.feature-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#667eea;margin-top:0;font-size:1.3rem}.feature-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;line-height:1.6}.app-footer[_ngcontent-%COMP%]{background-color:#333;color:#fff;text-align:center;padding:1rem;margin-top:auto}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-sm);text-align:center}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.welcome-message[_ngcontent-%COMP%]{font-size:1rem;margin-top:var(--spacing-xs)}.auth-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-xs);width:100%}.auth-link[_ngcontent-%COMP%]{text-align:center;padding:var(--spacing-sm) var(--spacing-md)}}@media (max-width: 480px){.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.logo-link[_ngcontent-%COMP%]{padding:var(--spacing-sm);margin:calc(-1 * var(--spacing-sm))}.user-menu[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-xs);text-align:center}}.app-footer[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;padding:var(--spacing-lg) var(--spacing-md);margin-top:auto}.footer-content[_ngcontent-%COMP%]{max-width:var(--max-width);margin:0 auto;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:var(--spacing-sm)}.footer-main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem}.footer-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm)}.footer-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:.9rem;opacity:.8;transition:opacity .3s ease}.footer-link[_ngcontent-%COMP%]:hover{opacity:1;text-decoration:underline}.footer-separator[_ngcontent-%COMP%]{opacity:.5;font-size:.8rem}@media (max-width: 768px){.footer-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:var(--spacing-md)}.footer-links[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}}@media (max-width: 768px){.app-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.app-main[_ngcontent-%COMP%]{padding:1rem}.features[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.feature-card[_ngcontent-%COMP%]{padding:1.5rem}}"]})};Hn(en,Ao).catch(a=>console.error(a));
