import{A as Cs,Ab as $t,B as xs,C as ws,D as Ms,Db as Rs,E as Ss,F as Es,G as Os,Gb as zs,H as Ps,I as ks,Ja as As,Kb as Yr,Pa as lt,Rb as mi,Sb as Mn,Ta as Is,Za as wn,a as Qa,b as Zr,c as es,cc as Xr,d as ts,db as Ds,e as ns,f as is,fc as Sn,g as yn,h as rs,i as os,ib as wt,j as as,k as ss,l as ls,m as cs,mb as Ts,n as Cn,o as ds,p as us,q as ps,qb as Qe,r as gs,s as xn,t as hs,u as ms,v as fs,w as _s,x as vs,y as bs,z as ys}from"./chunk-4DJOELQC.js";import{a as Ls,b as Ie,c as De,d as ct,e as dt,f as Te,g as ut,h as Fs,i as fi,j as _i,k as vi,l as pt,m as Ns,n as Us,o as xe}from"./chunk-XCANJZ54.js";import{a as de,b as Gt,c as Va,d as Wa,e as $a,f as bn,g as Ha,h as Vt,i as qa,j as Ce,k as J,l as Ka,m as Wt,n as Za,o as X,p as gi,q as Ya,r as Xa,s as Kr,t as hi,u as Ja}from"./chunk-BY4WII4T.js";import{$ as k,$a as xt,$b as ja,A as N,Ab as Ta,B as Ft,Ba as ga,Bb as di,C as ye,Ca as Vr,Cb as ui,D as zr,Da as ha,Db as jt,E as oa,Ea as yt,Eb as l,F as Lr,Fa as Wr,Fb as K,Ga as ma,Gb as j,Ha as fa,Hb as Ae,I as Ue,Ia as li,Ib as T,J as he,Ja as _a,Jb as R,K as Ye,Ka as mn,Kb as z,L as Fr,La as va,Lb as Ra,M as Oe,Ma as ke,Mb as Be,Na as ba,Nb as Je,Oa as ya,Ob as za,P as Nt,Pa as p,Pb as La,Q as it,Qa as fn,R as Nr,S as aa,Sa as Ca,Sb as Fa,Ta as xa,Tb as Na,U as sa,Ua as P,V as la,Va as wa,W as me,Wa as Ma,X as gn,Xa as Sa,Xb as qr,Y as se,Ya as ci,Z as q,Za as V,Zb as Ua,_a as Ct,_b as Ba,a as b,aa as bt,ac as pi,b as G,ba as ca,c as ta,ca as $,cb as C,d as ed,da as Ur,db as $r,dc as Ga,e as td,ea as A,eb as Ea,f as nd,fa as x,ga as Ut,gb as Hr,h as w,ha as rt,hb as _n,i as Dr,ia as da,ib as vn,j as na,ja as ot,jb as Oa,k as Ke,ka as Pe,kb as h,l as Tr,lb as Bt,m as Rr,ma as Xe,mb as st,n as Le,na as _,nb as s,o as ce,oa as v,ob as a,pa as Br,pb as I,qa as ua,qb as Pa,r as Ze,ra as at,rb as ka,sa as jr,sb as F,ta as si,v as ie,va as fe,vb as y,w as S,wa as oe,wb as m,x as pn,xa as Gr,xb as Aa,y as ia,ya as pa,yb as Ia,z as ra,za as hn,zb as Da}from"./chunk-HKFQDKBU.js";var Yc={};td(Yc,{environment:()=>nt});var nt,ri=ed(()=>{"use strict";nt={production:!1,firebase:{apiKey:"AIzaSyBY571lmuW24qnczKhCGORAGWg4gei8cek",authDomain:"afroconnect-a53a5.firebaseapp.com",projectId:"afroconnect-a53a5",storageBucket:"afroconnect-a53a5.firebasestorage.app",messagingSenderId:"341889512681",appId:"1:341889512681:web:e4073a27dded8eae9e2c78"},googleMapsApiKey:"AIzaSyAVTCyd8uLieVgnMHEygb5mm1xQKcjiOVk"}});var Ci=new $(""),to=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r,o){return this._findPluginFor(i).addEventListener(e,i,r,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new q(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||n)(A(Ci),A(oe))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),En=class{_doc;constructor(t){this._doc=t}manager},bi="ng-app-id";function Bs(n){for(let t of n)t.remove()}function js(n,t){let e=t.createElement("style");return e.textContent=n,e}function id(n,t,e,i){let r=n.head?.querySelectorAll(`style[${bi}="${t}"],link[${bi}="${t}"]`);if(r)for(let o of r)o.removeAttribute(bi),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Qr(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var no=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.isServer=Kr(o),id(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let r of e)this.addUsage(r,this.inline,js);i?.forEach(r=>this.addUsage(r,this.external,Qr))}removeStyles(e,i){for(let r of e)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,i,r){let o=i.get(e);o?o.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(c=>this.addElement(c,r(e,this.doc)))})}removeUsage(e,i){let r=i.get(e);r&&(r.usage--,r.usage<=0&&(Bs(r.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Bs(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(e,js(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(e,Qr(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(bi,this.appId),e.appendChild(i)}static \u0275fac=function(i){return new(i||n)(A(de),A(Vr),A(Wr,8),A(yt))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),Jr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},io=/%COMP%/g;var Vs="%COMP%",rd=`_nghost-${Vs}`,od=`_ngcontent-${Vs}`,ad=!0,sd=new $("",{providedIn:"root",factory:()=>ad});function ld(n){return od.replace(io,n)}function cd(n){return rd.replace(io,n)}function Ws(n,t){return t.map(e=>e.replace(io,n))}var ro=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,r,o,c,d,u,g=null,f=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=c,this.platformId=d,this.ngZone=u,this.nonce=g,this.tracingService=f,this.platformIsServer=Kr(d),this.defaultRenderer=new On(e,c,u,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===mn.ShadowDom&&(i=G(b({},i),{encapsulation:mn.Emulated}));let r=this.getOrCreateRenderer(e,i);return r instanceof yi?r.applyToHost(e):r instanceof Pn&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let c=this.doc,d=this.ngZone,u=this.eventManager,g=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,M=this.platformIsServer,O=this.tracingService;switch(i.encapsulation){case mn.Emulated:o=new yi(u,g,i,this.appId,f,c,d,M,O);break;case mn.ShadowDom:return new eo(u,g,e,i,c,d,this.nonce,M,O);default:o=new Pn(u,g,i,f,c,d,M,O);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||n)(A(to),A(no),A(Vr),A(sd),A(de),A(yt),A(oe),A(Wr),A(fa,8))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),On=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,r,o){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Jr[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Gs(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Gs(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new q(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;let o=Jr[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let r=Jr[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(fn.DashCase|fn.Important)?t.style.setProperty(e,i,r&fn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&fn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,r){if(typeof t=="string"&&(t=Gt().getGlobalEventTarget(this.doc,t),!t))throw new q(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function Gs(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var eo=class extends On{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,i,r,o,c,d,u,g){super(t,o,c,u,g),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=r.styles;f=Ws(r.id,f);for(let O of f){let D=document.createElement("style");d&&D.setAttribute("nonce",d),D.textContent=O,this.shadowRoot.appendChild(D)}let M=r.getExternalStyles?.();if(M)for(let O of M){let D=Qr(O,o);d&&D.setAttribute("nonce",d),this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Pn=class extends On{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,r,o,c,d,u,g){super(t,o,c,d,u),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let f=i.styles;this.styles=g?Ws(g,f):f,this.styleUrls=i.getExternalStyles?.(g)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},yi=class extends Pn{contentAttr;hostAttr;constructor(t,e,i,r,o,c,d,u,g){let f=r+"-"+i.id;super(t,e,i,o,c,d,u,g,f),this.contentAttr=ld(f),this.hostAttr=cd(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}};var xi=class n extends Wa{supportsDOMEvents=!0;static makeCurrent(){Va(new n)}onAndCancel(t,e,i,r){return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=ud();return e==null?null:pd(e)}resetBaseElement(){kn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return gi(document.cookie,t)}},kn=null;function ud(){return kn=kn||document.head.querySelector("base"),kn?kn.getAttribute("href"):null}function pd(n){return new URL(n,document.baseURI).pathname}var gd=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),Hs=(()=>{class n extends En{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r,o){return e.addEventListener(i,r,o),()=>this.removeEventListener(e,i,r,o)}removeEventListener(e,i,r,o){return e.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(A(de))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),$s=["alt","control","meta","shift"],hd={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},md={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},qs=(()=>{class n extends En{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,r,o){let c=n.parseEventName(i),d=n.eventCallback(c.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gt().onAndCancel(e,c.domEventName,d,o))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),c="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),c="code."),$s.forEach(g=>{let f=i.indexOf(g);f>-1&&(i.splice(f,1),c+=g+".")}),c+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=r,u.fullKey=c,u}static matchEventFullKeyCode(e,i){let r=hd[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),$s.forEach(c=>{if(c!==r){let d=md[c];d(e)&&(o+=c+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||n)(A(de))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();function oo(n,t,e){return Ua(b({rootComponent:n,platformRef:e?.platformRef},fd(t)))}function fd(n){return{appProviders:[...Cd,...n?.providers??[]],platformProviders:yd}}function _d(){xi.makeCurrent()}function vd(){return new Gr}function bd(){return ga(document),document}var yd=[{provide:yt,useValue:Ya},{provide:ha,useValue:_d,multi:!0},{provide:de,useFactory:bd}];var Cd=[{provide:da,useValue:"root"},{provide:Gr,useFactory:vd},{provide:Ci,useClass:Hs,multi:!0,deps:[de]},{provide:Ci,useClass:qs,multi:!0,deps:[de]},ro,no,to,{provide:Ca,useExisting:ro},{provide:hi,useClass:gd},[]];var qt=class{},An=class{},tt=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=e.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let c=this.headers.get(e);if(!c)return;c=c.filter(d=>o.indexOf(d)===-1),c.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}break}}addHeaderEntry(t,e){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Mi=class{encodeKey(t){return Ks(t)}encodeValue(t){return Ks(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function xd(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[c,d]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],u=e.get(c)||[];u.push(d),e.set(c,u)}),e}var wd=/%(\d[a-f0-9])/gi,Md={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ks(n){return encodeURIComponent(n).replace(wd,(t,e)=>Md[e]??t)}function wi(n){return`${n}`}var et=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Mi,t.fromString){if(t.fromObject)throw new q(2805,!1);this.map=xd(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],r=Array.isArray(i)?i.map(wi):[wi(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(wi(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(wi(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Si=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Sd(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Zs(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Ys(n){return typeof Blob<"u"&&n instanceof Blob}function Xs(n){return typeof FormData<"u"&&n instanceof FormData}function Ed(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Js="Content-Type",Qs="Accept",el="X-Request-URL",tl="text/plain",nl="application/json",Od=`${nl}, ${tl}, */*`,Ht=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,i,r){this.url=e,this.method=t.toUpperCase();let o;if(Sd(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new tt,this.context??=new Si,!this.params)this.params=new et,this.urlWithParams=e;else{let c=this.params.toString();if(c.length===0)this.urlWithParams=e;else{let d=e.indexOf("?"),u=d===-1?"?":d<e.length-1?"&":"";this.urlWithParams=e+u+c}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Zs(this.body)||Ys(this.body)||Xs(this.body)||Ed(this.body)?this.body:this.body instanceof et?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Xs(this.body)?null:Ys(this.body)?this.body.type||null:Zs(this.body)?null:typeof this.body=="string"?tl:this.body instanceof et?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?nl:null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,c=t.body!==void 0?t.body:this.body,d=t.withCredentials??this.withCredentials,u=t.reportProgress??this.reportProgress,g=t.headers||this.headers,f=t.params||this.params,M=t.context??this.context;return t.setHeaders!==void 0&&(g=Object.keys(t.setHeaders).reduce((O,D)=>O.set(D,t.setHeaders[D]),g)),t.setParams&&(f=Object.keys(t.setParams).reduce((O,D)=>O.set(D,t.setParams[D]),f)),new n(e,i,c,{params:f,headers:g,context:M,reportProgress:u,responseType:r,withCredentials:d,transferCache:o})}},Mt=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Mt||{}),Kt=class{headers;status;statusText;url;ok;type;constructor(t,e=200,i="OK"){this.headers=t.headers||new tt,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Ei=class n extends Kt{constructor(t={}){super(t)}type=Mt.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},St=class n extends Kt{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Mt.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},In=class extends Kt{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Pd=200,kd=204;function ao(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Pi=(()=>{class n{handler;constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Ht)o=e;else{let u;r.headers instanceof tt?u=r.headers:u=new tt(r.headers);let g;r.params&&(r.params instanceof et?g=r.params:g=new et({fromObject:r.params})),o=new Ht(e,i,r.body!==void 0?r.body:null,{headers:u,context:r.context,params:g,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let c=S(o).pipe(Ye(u=>this.handler.handle(u)));if(e instanceof Ht||r.observe==="events")return c;let d=c.pipe(Ue(u=>u instanceof St));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return d.pipe(N(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new q(2806,!1);return u.body}));case"blob":return d.pipe(N(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new q(2807,!1);return u.body}));case"text":return d.pipe(N(u=>{if(u.body!==null&&typeof u.body!="string")throw new q(2808,!1);return u.body}));case"json":default:return d.pipe(N(u=>u.body))}case"response":return d;default:throw new q(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new et().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,ao(r,i))}post(e,i,r={}){return this.request("POST",e,ao(r,i))}put(e,i,r={}){return this.request("PUT",e,ao(r,i))}static \u0275fac=function(i){return new(i||n)(A(qt))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();var Ad=new $("");function Id(n,t){return t(n)}function Dd(n,t,e){return(i,r)=>Pe(e,()=>t(i,o=>n(o,r)))}var il=new $(""),lo=new $(""),rl=new $("",{providedIn:"root",factory:()=>!0});var Oi=(()=>{class n extends qt{backend;injector;chain=null;pendingTasks=x(si);contributeToStability=x(rl);constructor(e,i){super(),this.backend=e,this.injector=i}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(il),...this.injector.get(lo,[])]));this.chain=i.reduceRight((r,o)=>Dd(r,o,this.injector),Id)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Nt(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(A(An),A(ot))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();var Td=/^\)\]\}',?\n/,Rd=RegExp(`^${el}:`,"m");function zd(n){return"responseURL"in n&&n.responseURL?n.responseURL:Rd.test(n.getAllResponseHeaders())?n.getResponseHeader(el):null}var so=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new q(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ie(i.\u0275loadImpl()):S(null)).pipe(me(()=>new Ke(o=>{let c=i.build();if(c.open(e.method,e.urlWithParams),e.withCredentials&&(c.withCredentials=!0),e.headers.forEach((L,E)=>c.setRequestHeader(L,E.join(","))),e.headers.has(Qs)||c.setRequestHeader(Qs,Od),!e.headers.has(Js)){let L=e.detectContentTypeHeader();L!==null&&c.setRequestHeader(Js,L)}if(e.responseType){let L=e.responseType.toLowerCase();c.responseType=L!=="json"?L:"text"}let d=e.serializeBody(),u=null,g=()=>{if(u!==null)return u;let L=c.statusText||"OK",E=new tt(c.getAllResponseHeaders()),re=zd(c)||e.url;return u=new Ei({headers:E,status:c.status,statusText:L,url:re}),u},f=()=>{let{headers:L,status:E,statusText:re,url:be}=g(),W=null;E!==kd&&(W=typeof c.response>"u"?c.responseText:c.response),E===0&&(E=W?Pd:0);let ne=E>=200&&E<300;if(e.responseType==="json"&&typeof W=="string"){let Lt=W;W=W.replace(Td,"");try{W=W!==""?JSON.parse(W):null}catch(un){W=Lt,ne&&(ne=!1,W={error:un,text:W})}}ne?(o.next(new St({body:W,headers:L,status:E,statusText:re,url:be||void 0})),o.complete()):o.error(new In({error:W,headers:L,status:E,statusText:re,url:be||void 0}))},M=L=>{let{url:E}=g(),re=new In({error:L,status:c.status||0,statusText:c.statusText||"Unknown Error",url:E||void 0});o.error(re)},O=!1,D=L=>{O||(o.next(g()),O=!0);let E={type:Mt.DownloadProgress,loaded:L.loaded};L.lengthComputable&&(E.total=L.total),e.responseType==="text"&&c.responseText&&(E.partialText=c.responseText),o.next(E)},B=L=>{let E={type:Mt.UploadProgress,loaded:L.loaded};L.lengthComputable&&(E.total=L.total),o.next(E)};return c.addEventListener("load",f),c.addEventListener("error",M),c.addEventListener("timeout",M),c.addEventListener("abort",M),e.reportProgress&&(c.addEventListener("progress",D),d!==null&&c.upload&&c.upload.addEventListener("progress",B)),c.send(d),o.next({type:Mt.Sent}),()=>{c.removeEventListener("error",M),c.removeEventListener("abort",M),c.removeEventListener("load",f),c.removeEventListener("timeout",M),e.reportProgress&&(c.removeEventListener("progress",D),d!==null&&c.upload&&c.upload.removeEventListener("progress",B)),c.readyState!==c.DONE&&c.abort()}})))}static \u0275fac=function(i){return new(i||n)(A(hi))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),ol=new $(""),Ld="XSRF-TOKEN",Fd=new $("",{providedIn:"root",factory:()=>Ld}),Nd="X-XSRF-TOKEN",Ud=new $("",{providedIn:"root",factory:()=>Nd}),Dn=class{},Bd=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,i){this.doc=e,this.cookieName=i}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=gi(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||n)(A(de),A(Fd))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();function jd(n,t){let e=n.url.toLowerCase();if(!x(ol)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let i=x(Dn).getToken(),r=x(Ud);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}function co(...n){let t=[Pi,so,Oi,{provide:qt,useExisting:Oi},{provide:An,useFactory:()=>x(Ad,{optional:!0})??x(so)},{provide:il,useValue:jd,multi:!0},{provide:ol,useValue:!0},{provide:Dn,useClass:Bd}];for(let e of n)t.push(...e.\u0275providers);return rt(t)}var Vd=new $(""),Wd="b",$d="h",Hd="s",qd="st",Kd="u",Zd="rt",uo=new $(""),Yd=["GET","HEAD"];function Xd(n,t){let O=x(uo),{isCacheActive:e}=O,i=ta(O,["isCacheActive"]),{transferCache:r,method:o}=n;if(!e||r===!1||o==="POST"&&!i.includePostRequests&&!r||o!=="POST"&&!Yd.includes(o)||!i.includeRequestsWithAuthHeaders&&Jd(n)||i.filter?.(n)===!1)return t(n);let c=x(ma);if(x(Vd,{optional:!0}))throw new q(2803,!1);let u=n.url,g=Qd(n,u),f=c.get(g,null),M=i.includeHeaders;if(typeof r=="object"&&r.includeHeaders&&(M=r.includeHeaders),f){let{[Wd]:D,[Zd]:B,[$d]:L,[Hd]:E,[qd]:re,[Kd]:be}=f,W=D;switch(B){case"arraybuffer":W=new TextEncoder().encode(D).buffer;break;case"blob":W=new Blob([D]);break}let ne=new tt(L);return S(new St({body:W,headers:ne,status:E,statusText:re,url:be}))}return t(n).pipe(se(D=>{D instanceof St}))}function Jd(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function al(n){return[...n.keys()].sort().map(t=>`${t}=${n.getAll(t)}`).join("&")}function Qd(n,t){let{params:e,method:i,responseType:r}=n,o=al(e),c=n.serializeBody();c instanceof URLSearchParams?c=al(c):typeof c!="string"&&(c="");let d=[i,r,t,c,o].join("|"),u=eu(d);return u}function eu(n){let t=0;for(let e of n)t=Math.imul(31,t)+e.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function sl(n){return[{provide:uo,useFactory:()=>(li("NgHttpTransferCache"),b({isCacheActive:!0},n))},{provide:lo,useValue:Xd,multi:!0},{provide:_n,multi:!0,useFactory:()=>{let t=x(vn),e=x(uo);return()=>{t.whenStable().then(()=>{e.isCacheActive=!1})}}}]}var ll=(()=>{class n{_doc;_dom;constructor(e){this._doc=e,this._dom=Gt()}addTag(e,i=!1){return e?this._getOrCreateElement(e,i):null}addTags(e,i=!1){return e?e.reduce((r,o)=>(o&&r.push(this._getOrCreateElement(o,i)),r),[]):[]}getTag(e){return e&&this._doc.querySelector(`meta[${e}]`)||null}getTags(e){if(!e)return[];let i=this._doc.querySelectorAll(`meta[${e}]`);return i?[].slice.call(i):[]}updateTag(e,i){if(!e)return null;i=i||this._parseSelector(e);let r=this.getTag(i);return r?this._setMetaElementAttributes(e,r):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,i=!1){if(!i){let c=this._parseSelector(e),d=this.getTags(c).filter(u=>this._containsAttributes(e,u))[0];if(d!==void 0)return d}let r=this._dom.createElement("meta");return this._setMetaElementAttributes(e,r),this._doc.getElementsByTagName("head")[0].appendChild(r),r}_setMetaElementAttributes(e,i){return Object.keys(e).forEach(r=>i.setAttribute(this._getMetaKeyMap(r),e[r])),i}_parseSelector(e){let i=e.name?"name":"property";return`${i}="${e[i]}"`}_containsAttributes(e,i){return Object.keys(e).every(r=>i.getAttribute(this._getMetaKeyMap(r))===e[r])}_getMetaKeyMap(e){return iu[e]||e}static \u0275fac=function(i){return new(i||n)(A(de))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iu={httpEquiv:"http-equiv"},Ai=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||n)(A(de))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ki=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n[n.IncrementalHydration=4]="IncrementalHydration",n}(ki||{});function ru(n,t=[],e={}){return{\u0275kind:n,\u0275providers:t}}function cl(){return ru(ki.EventReplay,Ba())}function dl(...n){let t=[],e=new Set;for(let{\u0275providers:r,\u0275kind:o}of n)e.add(o),r.length&&t.push(r);let i=e.has(ki.HttpTransferCacheOptions);return rt([[],ja(),e.has(ki.NoHttpTransferCache)||i?[]:sl({}),t])}var U="primary",$n=Symbol("RouteTitle"),fo=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Pt(n){return new fo(n)}function bl(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let c=i[o],d=n[o];if(c[0]===":")r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ou(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!je(n[e],t[e]))return!1;return!0}function je(n,t){let e=n?_o(n):void 0,i=t?_o(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!yl(n[r],t[r]))return!1;return!0}function _o(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function yl(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}else return n===t}function Cl(n){return n.length>0?n[n.length-1]:null}function _t(n){return ia(n)?n:Ea(n)?ie(Promise.resolve(n)):S(n)}var au={exact:wl,subset:Ml},xl={exact:su,subset:lu,ignored:()=>!0};function pl(n,t,e){return au[e.paths](n.root,t.root,e.matrixParams)&&xl[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function su(n,t){return je(n,t)}function wl(n,t,e){if(!Et(n.segments,t.segments)||!Ti(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!wl(n.children[i],t.children[i],e))return!1;return!0}function lu(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>yl(n[e],t[e]))}function Ml(n,t,e){return Sl(n,t,t.segments,e)}function Sl(n,t,e,i){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!Et(r,e)||t.hasChildren()||!Ti(r,e,i))}else if(n.segments.length===e.length){if(!Et(n.segments,e)||!Ti(n.segments,e,i))return!1;for(let r in t.children)if(!n.children[r]||!Ml(n.children[r],t.children[r],i))return!1;return!0}else{let r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!Et(n.segments,r)||!Ti(n.segments,r,i)||!n.children[U]?!1:Sl(n.children[U],t,o,i)}}function Ti(n,t,e){return t.every((i,r)=>xl[e](n[r].parameters,i.parameters))}var Ve=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Z([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Pt(this.queryParams),this._queryParamMap}toString(){return uu.serialize(this)}},Z=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ri(this)}},gt=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Pt(this.parameters),this._parameterMap}toString(){return Ol(this)}};function cu(n,t){return Et(n,t)&&n.every((e,i)=>je(e.parameters,t[i].parameters))}function Et(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function du(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===U&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==U&&(e=e.concat(t(r,i)))}),e}var kt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:()=>new ht,providedIn:"root"})}return n})(),ht=class{parse(t){let e=new bo(t);return new Ve(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Tn(t.root,!0)}`,i=hu(t.queryParams),r=typeof t.fragment=="string"?`#${pu(t.fragment)}`:"";return`${e}${i}${r}`}},uu=new ht;function Ri(n){return n.segments.map(t=>Ol(t)).join("/")}function Tn(n,t){if(!n.hasChildren())return Ri(n);if(t){let e=n.children[U]?Tn(n.children[U],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==U&&i.push(`${r}:${Tn(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=du(n,(i,r)=>r===U?[Tn(n.children[U],!1)]:[`${r}:${Tn(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[U]!=null?`${Ri(n)}/${e[0]}`:`${Ri(n)}/(${e.join("//")})`}}function El(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ii(n){return El(n).replace(/%3B/gi,";")}function pu(n){return encodeURI(n)}function vo(n){return El(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zi(n){return decodeURIComponent(n)}function gl(n){return zi(n.replace(/\+/g,"%20"))}function Ol(n){return`${vo(n.path)}${gu(n.parameters)}`}function gu(n){return Object.entries(n).map(([t,e])=>`;${vo(t)}=${vo(e)}`).join("")}function hu(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${Ii(e)}=${Ii(r)}`).join("&"):`${Ii(e)}=${Ii(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var mu=/^[^\/()?;#]+/;function po(n){let t=n.match(mu);return t?t[0]:""}var fu=/^[^\/()?;=#]+/;function _u(n){let t=n.match(fu);return t?t[0]:""}var vu=/^[^=?&#]+/;function bu(n){let t=n.match(vu);return t?t[0]:""}var yu=/^[^&#]+/;function Cu(n){let t=n.match(yu);return t?t[0]:""}var bo=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Z([],{}):new Z([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[U]=new Z(t,e)),i}parseSegment(){let t=po(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(t),new gt(zi(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=_u(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=po(this.remaining);r&&(i=r,this.capture(i))}t[zi(e)]=zi(i)}parseQueryParam(t){let e=bu(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let c=Cu(this.remaining);c&&(i=c,this.capture(i))}let r=gl(e),o=gl(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=po(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new q(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=U);let c=this.parseChildren();e[o]=Object.keys(c).length===1?c[U]:new Z([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new q(4011,!1)}};function Pl(n){return n.segments.length>0?new Z([],{[U]:n}):n}function kl(n){let t={};for(let[i,r]of Object.entries(n.children)){let o=kl(r);if(i===U&&o.segments.length===0&&o.hasChildren())for(let[c,d]of Object.entries(o.children))t[c]=d;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let e=new Z(n.segments,t);return xu(e)}function xu(n){if(n.numberOfChildren===1&&n.children[U]){let t=n.children[U];return new Z(n.segments.concat(t.segments),t.children)}return n}function mt(n){return n instanceof Ve}function Al(n,t,e=null,i=null){let r=Il(n);return Dl(r,t,e,i)}function Il(n){let t;function e(o){let c={};for(let u of o.children){let g=e(u);c[u.outlet]=g}let d=new Z(o.url,c);return o===n&&(t=d),d}let i=e(n.root),r=Pl(i);return t??r}function Dl(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(t.length===0)return go(r,r,r,e,i);let o=wu(t);if(o.toRoot())return go(r,r,new Z([],{}),e,i);let c=Mu(o,r,n),d=c.processChildren?zn(c.segmentGroup,c.index,o.commands):Rl(c.segmentGroup,c.index,o.commands);return go(r,c.segmentGroup,d,e,i)}function Fi(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Fn(n){return typeof n=="object"&&n!=null&&n.outlets}function go(n,t,e,i,r){let o={};i&&Object.entries(i).forEach(([u,g])=>{o[u]=Array.isArray(g)?g.map(f=>`${f}`):`${g}`});let c;n===t?c=e:c=Tl(n,t,e);let d=Pl(kl(c));return new Ve(d,o,r)}function Tl(n,t,e){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===t?i[r]=e:i[r]=Tl(o,t,e)}),new Z(n.segments,i)}var Ni=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Fi(i[0]))throw new q(4003,!1);let r=i.find(Fn);if(r&&r!==Cl(i))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function wu(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ni(!0,0,n);let t=0,e=!1,i=n.reduce((r,o,c)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let d={};return Object.entries(o.outlets).forEach(([u,g])=>{d[u]=typeof g=="string"?g.split("/"):g}),[...r,{outlets:d}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:c===0?(o.split("/").forEach((d,u)=>{u==0&&d==="."||(u==0&&d===""?e=!0:d===".."?t++:d!=""&&r.push(d))}),r):[...r,o]},[]);return new Ni(e,t,i)}var Xt=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function Mu(n,t,e){if(n.isAbsolute)return new Xt(t,!0,0);if(!e)return new Xt(t,!1,NaN);if(e.parent===null)return new Xt(e,!0,0);let i=Fi(n.commands[0])?0:1,r=e.segments.length-1+i;return Su(e,r,n.numberOfDoubleDots)}function Su(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new q(4005,!1);r=i.segments.length}return new Xt(i,!1,r-o)}function Eu(n){return Fn(n[0])?n[0].outlets:{[U]:n}}function Rl(n,t,e){if(n??=new Z([],{}),n.segments.length===0&&n.hasChildren())return zn(n,t,e);let i=Ou(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new Z(n.segments.slice(0,i.pathIndex),{});return o.children[U]=new Z(n.segments.slice(i.pathIndex),n.children),zn(o,0,r)}else return i.match&&r.length===0?new Z(n.segments,{}):i.match&&!n.hasChildren()?yo(n,t,e):i.match?zn(n,0,r):yo(n,t,e)}function zn(n,t,e){if(e.length===0)return new Z(n.segments,{});{let i=Eu(e),r={};if(Object.keys(i).some(o=>o!==U)&&n.children[U]&&n.numberOfChildren===1&&n.children[U].segments.length===0){let o=zn(n.children[U],t,e);return new Z(n.segments,o.children)}return Object.entries(i).forEach(([o,c])=>{typeof c=="string"&&(c=[c]),c!==null&&(r[o]=Rl(n.children[o],t,c))}),Object.entries(n.children).forEach(([o,c])=>{i[o]===void 0&&(r[o]=c)}),new Z(n.segments,r)}}function Ou(n,t,e){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;let c=n.segments[r],d=e[i];if(Fn(d))break;let u=`${d}`,g=i<e.length-1?e[i+1]:null;if(r>0&&u===void 0)break;if(u&&g&&typeof g=="object"&&g.outlets===void 0){if(!ml(u,g,c))return o;i+=2}else{if(!ml(u,{},c))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function yo(n,t,e){let i=n.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(Fn(o)){let u=Pu(o.outlets);return new Z(i,u)}if(r===0&&Fi(e[0])){let u=n.segments[t];i.push(new gt(u.path,hl(e[0]))),r++;continue}let c=Fn(o)?o.outlets[U]:`${o}`,d=r<e.length-1?e[r+1]:null;c&&d&&Fi(d)?(i.push(new gt(c,hl(d))),r+=2):(i.push(new gt(c,{})),r++)}return new Z(i,{})}function Pu(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=yo(new Z([],{}),0,i))}),t}function hl(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function ml(n,t,e){return n==e.path&&je(t,e.parameters)}var Li="imperative",ae=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ae||{}),Se=class{id;url;constructor(t,e){this.id=t,this.url=e}},ft=class extends Se{type=ae.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Re=class extends Se{urlAfterRedirects;type=ae.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},we=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(we||{}),Qt=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Qt||{}),Ge=class extends Se{reason;code;type=ae.NavigationCancel;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},We=class extends Se{reason;code;type=ae.NavigationSkipped;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}},en=class extends Se{error;target;type=ae.NavigationError;constructor(t,e,i,r){super(t,e),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Nn=class extends Se{urlAfterRedirects;state;type=ae.RoutesRecognized;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ui=class extends Se{urlAfterRedirects;state;type=ae.GuardsCheckStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bi=class extends Se{urlAfterRedirects;state;shouldActivate;type=ae.GuardsCheckEnd;constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ji=class extends Se{urlAfterRedirects;state;type=ae.ResolveStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gi=class extends Se{urlAfterRedirects;state;type=ae.ResolveEnd;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vi=class{route;type=ae.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Wi=class{route;type=ae.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},$i=class{snapshot;type=ae.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hi=class{snapshot;type=ae.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qi=class{snapshot;type=ae.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ki=class{snapshot;type=ae.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tn=class{routerEvent;position;anchor;type=ae.Scroll;constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Un=class{},nn=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function ku(n,t){return n.providers&&!n._injector&&(n._injector=ci(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Fe(n){return n.outlet||U}function Au(n,t){let e=n.filter(i=>Fe(i)===t);return e.push(...n.filter(i=>Fe(i)!==t)),e}function Hn(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Zi=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Hn(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new At(this.rootInjector)}},At=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Zi(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(A(ot))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yi=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Co(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=Co(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=xo(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return xo(t,this._root).map(e=>e.value)}};function Co(n,t){if(n===t.value)return t;for(let e of t.children){let i=Co(n,e);if(i)return i}return null}function xo(n,t){if(n===t.value)return[t];for(let e of t.children){let i=xo(n,e);if(i.length)return i.unshift(t),i}return[]}var Me=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Yt(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Bn=class extends Yi{snapshot;constructor(t,e){super(t),this.snapshot=e,Ao(this,t)}toString(){return this.snapshot.toString()}};function zl(n){let t=Iu(n),e=new ce([new gt("",{})]),i=new ce({}),r=new ce({}),o=new ce({}),c=new ce(""),d=new ue(e,i,o,c,r,U,n,t.root);return d.snapshot=t.root,new Bn(new Me(d,[]),t)}function Iu(n){let t={},e={},i={},r="",o=new Ot([],t,i,r,e,U,n,null,{});return new jn("",new Me(o,[]))}var ue=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,r,o,c,d,u){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=c,this.component=d,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(N(g=>g[$n]))??S(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(N(t=>Pt(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(N(t=>Pt(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Xi(n,t,e="emptyOnly"){let i,{routeConfig:r}=n;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:b(b({},t.params),n.params),data:b(b({},t.data),n.data),resolve:b(b(b(b({},n.data),t.data),r?.data),n._resolvedData)}:i={params:b({},n.params),data:b({},n.data),resolve:b(b({},n.data),n._resolvedData??{})},r&&Fl(r)&&(i.resolve[$n]=r.title),i}var Ot=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[$n]}constructor(t,e,i,r,o,c,d,u,g){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=d,this.routeConfig=u,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Pt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Pt(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},jn=class extends Yi{url;constructor(t,e){super(e),this.url=t,Ao(this,e)}toString(){return Ll(this._root)}};function Ao(n,t){t.value._routerState=n,t.children.forEach(e=>Ao(n,e))}function Ll(n){let t=n.children.length>0?` { ${n.children.map(Ll).join(", ")} } `:"";return`${n.value}${t}`}function ho(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,je(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),je(t.params,e.params)||n.paramsSubject.next(e.params),ou(t.url,e.url)||n.urlSubject.next(e.url),je(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function wo(n,t){let e=je(n.params,t.params)&&cu(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||wo(n.parent,t.parent))}function Fl(n){return typeof n.title=="string"||n.title===null}var Nl=new $(""),qn=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=U;activateEvents=new fe;deactivateEvents=new fe;attachEvents=new fe;detachEvents=new fe;routerOutletData=pa(void 0);parentContexts=x(At);location=x(Ma);changeDetector=x(qr);inputBinder=x(Kn,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=e;let r=this.location,c=e.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,u=new Mo(e,d,r.injector,this.routerOutletData);this.activated=r.createComponent(c,{index:r.length,injector:u,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Xe]})}return n})(),Mo=class{route;childContexts;parent;outletData;constructor(t,e,i,r){this.route=t,this.childContexts=e,this.parent=i,this.outletData=r}get(t,e){return t===ue?this.route:t===At?this.childContexts:t===Nl?this.outletData:this.parent.get(t,e)}},Kn=new $(""),Io=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,r=Ft([i.queryParams,i.params,i.data]).pipe(me(([o,c,d],u)=>(d=b(b(b({},o),c),d),u===0?S(d):Promise.resolve(d)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let c=Ga(i.component);if(!c){this.unsubscribeFromRouteData(e);return}for(let{templateName:d}of c.inputs)e.activatedComponentRef.setInput(d,o[d])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),Do=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=V({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&I(0,"router-outlet")},dependencies:[qn],encapsulation:2})}return n})();function To(n){let t=n.children&&n.children.map(To),e=t?G(b({},n),{children:t}):b({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==U&&(e.component=Do),e}function Du(n,t,e){let i=Gn(n,t._root,e?e._root:void 0);return new Bn(i,t)}function Gn(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let r=Tu(n,t,e);return new Me(i,r)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let c=o.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>Gn(n,d)),c}}let i=Ru(t.value),r=t.children.map(o=>Gn(n,o));return new Me(i,r)}}function Tu(n,t,e){return t.children.map(i=>{for(let r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Gn(n,i,r);return Gn(n,i)})}function Ru(n){return new ue(new ce(n.url),new ce(n.params),new ce(n.queryParams),new ce(n.fragment),new ce(n.data),n.outlet,n.component,n)}var rn=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Ul="ngNavigationCancelingError";function Ji(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=mt(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Bl(!1,we.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function Bl(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[Ul]=!0,e.cancellationCode=t,e}function zu(n){return jl(n)&&mt(n.url)}function jl(n){return!!n&&n[Ul]}var Lu=(n,t,e,i)=>N(r=>(new So(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)),So=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),ho(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let r=Yt(e);t.children.forEach(o=>{let c=o.value.outlet;this.deactivateRoutes(o,r[c],i),delete r[c]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Yt(t);for(let c of Object.values(o))this.deactivateRouteAndItsChildren(c,r);if(i&&i.outlet){let c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Yt(t);for(let c of Object.values(o))this.deactivateRouteAndItsChildren(c,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let r=Yt(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Ki(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Hi(t.value.snapshot))}activateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(ho(r),r===o)if(r.component){let c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){let c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),ho(d.route.value),this.activateChildRoutes(t,null,c.children)}else c.attachRef=null,c.route=r,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(t,null,c.children)}else this.activateChildRoutes(t,null,i)}},Qi=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Jt=class{component;route;constructor(t,e){this.component=t,this.route=e}};function Fu(n,t,e){let i=n._root,r=t?t._root:null;return Rn(i,r,e,[i.value])}function Nu(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function an(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!ca(n)?n:t.get(n):i}function Rn(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Yt(t);return n.children.forEach(c=>{Uu(c,o[c.value.outlet],e,i.concat([c.value]),r),delete o[c.value.outlet]}),Object.entries(o).forEach(([c,d])=>Ln(d,e.getContext(c),r)),r}function Uu(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,c=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){let u=Bu(c,o,o.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new Qi(i)):(o.data=c.data,o._resolvedData=c._resolvedData),o.component?Rn(n,t,d?d.children:null,i,r):Rn(n,t,e,i,r),u&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new Jt(d.outlet.component,c))}else c&&Ln(t,d,r),r.canActivateChecks.push(new Qi(i)),o.component?Rn(n,null,d?d.children:null,i,r):Rn(n,null,e,i,r);return r}function Bu(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!Et(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Et(n.url,t.url)||!je(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wo(n,t)||!je(n.queryParams,t.queryParams);case"paramsChange":default:return!wo(n,t)}}function Ln(n,t,e){let i=Yt(n),r=n.value;Object.entries(i).forEach(([o,c])=>{r.component?t?Ln(c,t.children.getContext(o),e):Ln(c,null,e):Ln(c,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Jt(t.outlet.component,r)):e.canDeactivateChecks.push(new Jt(null,r)):e.canDeactivateChecks.push(new Jt(null,r))}function Zn(n){return typeof n=="function"}function ju(n){return typeof n=="boolean"}function Gu(n){return n&&Zn(n.canLoad)}function Vu(n){return n&&Zn(n.canActivate)}function Wu(n){return n&&Zn(n.canActivateChild)}function $u(n){return n&&Zn(n.canDeactivate)}function Hu(n){return n&&Zn(n.canMatch)}function Gl(n){return n instanceof ra||n?.name==="EmptyError"}var Di=Symbol("INITIAL_VALUE");function on(){return me(n=>Ft(n.map(t=>t.pipe(Oe(1),la(Di)))).pipe(N(t=>{for(let e of t)if(e!==!0){if(e===Di)return Di;if(e===!1||qu(e))return e}return!0}),Ue(t=>t!==Di),Oe(1)))}function qu(n){return mt(n)||n instanceof rn}function Ku(n,t){return ye(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:c}}=e;return c.length===0&&o.length===0?S(G(b({},e),{guardsResult:!0})):Zu(c,i,r,n).pipe(ye(d=>d&&ju(d)?Yu(i,o,n,t):S(d)),N(d=>G(b({},e),{guardsResult:d})))})}function Zu(n,t,e,i){return ie(n).pipe(ye(r=>tp(r.component,r.route,e,t,i)),it(r=>r!==!0,!0))}function Yu(n,t,e,i){return ie(t).pipe(Ye(r=>oa(Ju(r.route.parent,i),Xu(r.route,i),ep(n,r.path,e),Qu(n,r.route,e))),it(r=>r!==!0,!0))}function Xu(n,t){return n!==null&&t&&t(new qi(n)),S(!0)}function Ju(n,t){return n!==null&&t&&t(new $i(n)),S(!0)}function Qu(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return S(!0);let r=i.map(o=>Lr(()=>{let c=Hn(t)??e,d=an(o,c),u=Vu(d)?d.canActivate(t,n):Pe(c,()=>d(t,n));return _t(u).pipe(it())}));return S(r).pipe(on())}function ep(n,t,e){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(c=>Nu(c)).filter(c=>c!==null).map(c=>Lr(()=>{let d=c.guards.map(u=>{let g=Hn(c.node)??e,f=an(u,g),M=Wu(f)?f.canActivateChild(i,n):Pe(g,()=>f(i,n));return _t(M).pipe(it())});return S(d).pipe(on())}));return S(o).pipe(on())}function tp(n,t,e,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return S(!0);let c=o.map(d=>{let u=Hn(t)??r,g=an(d,u),f=$u(g)?g.canDeactivate(n,t,e,i):Pe(u,()=>g(n,t,e,i));return _t(f).pipe(it())});return S(c).pipe(on())}function np(n,t,e,i){let r=t.canLoad;if(r===void 0||r.length===0)return S(!0);let o=r.map(c=>{let d=an(c,n),u=Gu(d)?d.canLoad(t,e):Pe(n,()=>d(t,e));return _t(u)});return S(o).pipe(on(),Vl(i))}function Vl(n){return na(se(t=>{if(typeof t!="boolean")throw Ji(n,t)}),N(t=>t===!0))}function ip(n,t,e,i){let r=t.canMatch;if(!r||r.length===0)return S(!0);let o=r.map(c=>{let d=an(c,n),u=Hu(d)?d.canMatch(t,e):Pe(n,()=>d(t,e));return _t(u)});return S(o).pipe(on(),Vl(i))}var Vn=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Wn=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Zt(n){return pn(new Vn(n))}function rp(n){return pn(new q(4e3,!1))}function op(n){return pn(Bl(!1,we.GuardRejected))}var Eo=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return S(i);if(r.numberOfChildren>1||!r.children[U])return rp(`${t.redirectTo}`);r=r.children[U]}}applyRedirectCommands(t,e,i,r,o){if(typeof e!="string"){let d=e,{queryParams:u,fragment:g,routeConfig:f,url:M,outlet:O,params:D,data:B,title:L}=r,E=Pe(o,()=>d({params:D,data:B,queryParams:u,fragment:g,routeConfig:f,url:M,outlet:O,title:L}));if(E instanceof Ve)throw new Wn(E);e=E}let c=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if(e[0]==="/")throw new Wn(c);return c}applyRedirectCreateUrlTree(t,e,i,r){let o=this.createSegmentGroup(t,e.root,i,r);return new Ve(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let d=o.substring(1);i[r]=e[d]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){let o=this.createSegments(t,e.segments,i,r),c={};return Object.entries(e.children).forEach(([d,u])=>{c[d]=this.createSegmentGroup(t,u,i,r)}),new Z(o,c)}createSegments(t,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){let r=i[e.path.substring(1)];if(!r)throw new q(4001,!1);return r}findOrReturn(t,e){let i=0;for(let r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}},Oo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ap(n,t,e,i,r){let o=Wl(n,t,e);return o.matched?(i=ku(t,i),ip(i,t,e,r).pipe(N(c=>c===!0?o:b({},Oo)))):S(o)}function Wl(n,t,e){if(t.path==="**")return sp(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?b({},Oo):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||bl)(e,n,t);if(!r)return b({},Oo);let o={};Object.entries(r.posParams??{}).forEach(([d,u])=>{o[d]=u.path});let c=r.consumed.length>0?b(b({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function sp(n){return{matched:!0,parameters:n.length>0?Cl(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function fl(n,t,e,i){return e.length>0&&dp(n,e,i)?{segmentGroup:new Z(t,cp(i,new Z(e,n.children))),slicedSegments:[]}:e.length===0&&up(n,e,i)?{segmentGroup:new Z(n.segments,lp(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Z(n.segments,n.children),slicedSegments:e}}function lp(n,t,e,i){let r={};for(let o of e)if(tr(n,t,o)&&!i[Fe(o)]){let c=new Z([],{});r[Fe(o)]=c}return b(b({},i),r)}function cp(n,t){let e={};e[U]=t;for(let i of n)if(i.path===""&&Fe(i)!==U){let r=new Z([],{});e[Fe(i)]=r}return e}function dp(n,t,e){return e.some(i=>tr(n,t,i)&&Fe(i)!==U)}function up(n,t,e){return e.some(i=>tr(n,t,i))}function tr(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function pp(n,t,e){return t.length===0&&!n.children[e]}var Po=class{};function gp(n,t,e,i,r,o,c="emptyOnly"){return new ko(n,t,e,i,r,c,o).recognize()}var hp=31,ko=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,r,o,c,d){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=c,this.urlSerializer=d,this.applyRedirects=new Eo(this.urlSerializer,this.urlTree)}noMatchError(t){return new q(4002,`'${t.segmentGroup}'`)}recognize(){let t=fl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(N(({children:e,rootSnapshot:i})=>{let r=new Me(i,e),o=new jn("",r),c=Al(i,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(c),{state:o,tree:c}}))}match(t){let e=new Ot([],Object.freeze({}),Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),U,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,U,e).pipe(N(i=>({children:i,rootSnapshot:e})),he(i=>{if(i instanceof Wn)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Vn?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,o):this.processSegment(t,e,i,i.segments,r,!0,o).pipe(N(c=>c instanceof Me?[c]:[]))}processChildren(t,e,i,r){let o=[];for(let c of Object.keys(i.children))c==="primary"?o.unshift(c):o.push(c);return ie(o).pipe(Ye(c=>{let d=i.children[c],u=Au(e,c);return this.processSegmentGroup(t,u,d,c,r)}),sa((c,d)=>(c.push(...d),c)),Fr(null),aa(),ye(c=>{if(c===null)return Zt(i);let d=$l(c);return mp(d),S(d)}))}processSegment(t,e,i,r,o,c,d){return ie(e).pipe(Ye(u=>this.processSegmentAgainstRoute(u._injector??t,e,u,i,r,o,c,d).pipe(he(g=>{if(g instanceof Vn)return S(null);throw g}))),it(u=>!!u),he(u=>{if(Gl(u))return pp(i,r,o)?S(new Po):Zt(i);throw u}))}processSegmentAgainstRoute(t,e,i,r,o,c,d,u){return Fe(i)!==c&&(c===U||!tr(r,o,i))?Zt(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,c,u):this.allowRedirects&&d?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,c,u):Zt(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c,d){let{matched:u,parameters:g,consumedSegments:f,positionalParamSegments:M,remainingSegments:O}=Wl(e,r,o);if(!u)return Zt(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>hp&&(this.allowRedirects=!1));let D=new Ot(o,g,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,_l(r),Fe(r),r.component??r._loadedComponent??null,r,vl(r)),B=Xi(D,d,this.paramsInheritanceStrategy);D.params=Object.freeze(B.params),D.data=Object.freeze(B.data);let L=this.applyRedirects.applyRedirectCommands(f,r.redirectTo,M,D,t);return this.applyRedirects.lineralizeSegments(r,L).pipe(ye(E=>this.processSegment(t,i,e,E.concat(O),c,!1,d)))}matchSegmentAgainstRoute(t,e,i,r,o,c){let d=ap(e,i,r,t,this.urlSerializer);return i.path==="**"&&(e.children={}),d.pipe(me(u=>u.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(me(({routes:g})=>{let f=i._loadedInjector??t,{parameters:M,consumedSegments:O,remainingSegments:D}=u,B=new Ot(O,M,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,_l(i),Fe(i),i.component??i._loadedComponent??null,i,vl(i)),L=Xi(B,c,this.paramsInheritanceStrategy);B.params=Object.freeze(L.params),B.data=Object.freeze(L.data);let{segmentGroup:E,slicedSegments:re}=fl(e,O,D,g);if(re.length===0&&E.hasChildren())return this.processChildren(f,g,E,B).pipe(N(W=>new Me(B,W)));if(g.length===0&&re.length===0)return S(new Me(B,[]));let be=Fe(i)===o;return this.processSegment(f,g,E,re,be?U:o,!0,B).pipe(N(W=>new Me(B,W instanceof Me?[W]:[])))}))):Zt(e)))}getChildConfig(t,e,i){return e.children?S({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?S({routes:e._loadedRoutes,injector:e._loadedInjector}):np(t,e,i,this.urlSerializer).pipe(ye(r=>r?this.configLoader.loadChildren(t,e).pipe(se(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):op(e))):S({routes:[],injector:t})}};function mp(n){n.sort((t,e)=>t.value.outlet===U?-1:e.value.outlet===U?1:t.value.outlet.localeCompare(e.value.outlet))}function fp(n){let t=n.value.routeConfig;return t&&t.path===""}function $l(n){let t=[],e=new Set;for(let i of n){if(!fp(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):t.push(i)}for(let i of e){let r=$l(i.children);t.push(new Me(i.value,r))}return t.filter(i=>!e.has(i))}function _l(n){return n.data||{}}function vl(n){return n.resolve||{}}function _p(n,t,e,i,r,o){return ye(c=>gp(n,t,e,i,c.extractedUrl,r,o).pipe(N(({state:d,tree:u})=>G(b({},c),{targetSnapshot:d,urlAfterRedirects:u}))))}function vp(n,t){return ye(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return S(e);let o=new Set(r.map(u=>u.route)),c=new Set;for(let u of o)if(!c.has(u))for(let g of Hl(u))c.add(g);let d=0;return ie(c).pipe(Ye(u=>o.has(u)?bp(u,i,n,t):(u.data=Xi(u,u.parent,n).resolve,S(void 0))),se(()=>d++),Nr(1),ye(u=>d===c.size?S(e):Ze))})}function Hl(n){let t=n.children.map(e=>Hl(e)).flat();return[n,...t]}function bp(n,t,e,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!Fl(r)&&(o[$n]=r.title),yp(o,n,t,i).pipe(N(c=>(n._resolvedData=c,n.data=Xi(n,n.parent,e).resolve,null)))}function yp(n,t,e,i){let r=_o(n);if(r.length===0)return S({});let o={};return ie(r).pipe(ye(c=>Cp(n[c],t,e,i).pipe(it(),se(d=>{if(d instanceof rn)throw Ji(new ht,d);o[c]=d}))),Nr(1),N(()=>o),he(c=>Gl(c)?Ze:pn(c)))}function Cp(n,t,e,i){let r=Hn(t)??i,o=an(n,r),c=o.resolve?o.resolve(t,e):Pe(r,()=>o(t,e));return _t(c)}function mo(n){return me(t=>{let e=n(t);return e?ie(e).pipe(N(()=>t)):S(t)})}var Ro=(()=>{class n{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===U);return i}getResolvedTitleForRoute(e){return e.data[$n]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:()=>x(ql),providedIn:"root"})}return n})(),ql=(()=>{class n extends Ro{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(A(Ai))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),It=new $("",{providedIn:"root",factory:()=>({})}),Dt=new $(""),nr=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(Fa);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return S(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=_t(e.loadComponent()).pipe(N(Zl),se(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Nt(()=>{this.componentLoaders.delete(e)})),r=new Rr(i,()=>new Le).pipe(Tr());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return S({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Kl(i,this.compiler,e,this.onLoadEndListener).pipe(Nt(()=>{this.childrenLoaders.delete(i)})),c=new Rr(o,()=>new Le).pipe(Tr());return this.childrenLoaders.set(i,c),c}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Kl(n,t,e,i){return _t(n.loadChildren()).pipe(N(Zl),ye(r=>r instanceof Sa||Array.isArray(r)?S(r):ie(t.compileModuleAsync(r))),N(r=>{i&&i(n);let o,c,d=!1;return Array.isArray(r)?(c=r,d=!0):(o=r.create(e).injector,c=o.get(Dt,[],{optional:!0,self:!0}).flat()),{routes:c.map(To),injector:o}}))}function xp(n){return n&&typeof n=="object"&&"default"in n}function Zl(n){return xp(n)?n.default:n}var ir=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:()=>x(wp),providedIn:"root"})}return n})(),wp=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zo=new $(""),Lo=new $("");function Yl(n,t,e){let i=n.get(Lo),r=n.get(de);return n.get(oe).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(g=>setTimeout(g));let o,c=new Promise(g=>{o=g}),d=r.startViewTransition(()=>(o(),Mp(n))),{onViewTransitionCreated:u}=i;return u&&Pe(n,()=>u({transition:d,from:t,to:e})),c})}function Mp(n){return new Promise(t=>{_a({read:()=>setTimeout(t)},{injector:n})})}var Fo=new $(""),rr=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Le;transitionAbortSubject=new Le;configLoader=x(nr);environmentInjector=x(ot);destroyRef=x(jr);urlSerializer=x(kt);rootContexts=x(At);location=x(Vt);inputBindingEnabled=x(Kn,{optional:!0})!==null;titleStrategy=x(Ro);options=x(It,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(ir);createViewTransition=x(zo,{optional:!0});navigationErrorHandler=x(Fo,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>S(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new Vi(r)),i=r=>this.events.next(new Wi(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(G(b({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(e){return this.transitions=new ce(null),this.transitions.pipe(Ue(i=>i!==null),me(i=>{let r=!1,o=!1;return S(i).pipe(me(c=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",we.SupersededByNewNavigation),Ze;this.currentTransition=i,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?G(b({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!d&&u!=="reload"){let g="";return this.events.next(new We(c.id,this.urlSerializer.serialize(c.rawUrl),g,Qt.IgnoredSameUrlNavigation)),c.resolve(!1),Ze}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return S(c).pipe(me(g=>(this.events.next(new ft(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),g.id!==this.navigationId?Ze:Promise.resolve(g))),_p(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),se(g=>{i.targetSnapshot=g.targetSnapshot,i.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=G(b({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let f=new Nn(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(f)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:g,extractedUrl:f,source:M,restoredState:O,extras:D}=c,B=new ft(g,this.urlSerializer.serialize(f),M,O);this.events.next(B);let L=zl(this.rootComponentType).snapshot;return this.currentTransition=i=G(b({},c),{targetSnapshot:L,urlAfterRedirects:f,extras:G(b({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,S(i)}else{let g="";return this.events.next(new We(c.id,this.urlSerializer.serialize(c.extractedUrl),g,Qt.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Ze}}),se(c=>{let d=new Ui(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),N(c=>(this.currentTransition=i=G(b({},c),{guards:Fu(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),i)),Ku(this.environmentInjector,c=>this.events.next(c)),se(c=>{if(i.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Ji(this.urlSerializer,c.guardsResult);let d=new Bi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),Ue(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",we.GuardRejected),!1)),mo(c=>{if(c.guards.canActivateChecks.length!==0)return S(c).pipe(se(d=>{let u=new ji(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}),me(d=>{let u=!1;return S(d).pipe(vp(this.paramsInheritanceStrategy,this.environmentInjector),se({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(d,"",we.NoDataFromResolver)}}))}),se(d=>{let u=new Gi(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}))}),mo(c=>{let d=u=>{let g=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(u.routeConfig).pipe(se(f=>{u.component=f}),N(()=>{})));for(let f of u.children)g.push(...d(f));return g};return Ft(d(c.targetSnapshot.root)).pipe(Fr(null),Oe(1))}),mo(()=>this.afterPreactivation()),me(()=>{let{currentSnapshot:c,targetSnapshot:d}=i,u=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return u?ie(u).pipe(N(()=>i)):S(i)}),N(c=>{let d=Du(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=i=G(b({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,i}),se(()=>{this.events.next(new Un)}),Lu(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Oe(1),se({next:c=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Re(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{r=!0}}),gn(this.transitionAbortSubject.pipe(se(c=>{throw c}))),Nt(()=>{!r&&!o&&this.cancelNavigationTransition(i,"",we.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),he(c=>{if(this.destroyed)return i.resolve(!1),Ze;if(o=!0,jl(c))this.events.next(new Ge(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode)),zu(c)?this.events.next(new nn(c.url,c.navigationBehaviorOptions)):i.resolve(!1);else{let d=new en(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0);try{let u=Pe(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(u instanceof rn){let{message:g,cancellationCode:f}=Ji(this.urlSerializer,u);this.events.next(new Ge(i.id,this.urlSerializer.serialize(i.extractedUrl),g,f)),this.events.next(new nn(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(d),c}catch(u){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(u)}}return Ze}))}))}cancelNavigationTransition(e,i,r){let o=new Ge(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sp(n){return n!==Li}var Xl=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:()=>x(Ep),providedIn:"root"})}return n})(),er=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},Ep=(()=>{class n extends er{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Br(n)))(r||n)}})();static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jl=(()=>{class n{urlSerializer=x(kt);options=x(It,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(Vt);urlHandlingStrategy=x(ir);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ve;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:r}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,c=r??o;return c instanceof Ve?this.urlSerializer.serialize(c):c}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:r}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=e):this.rawUrlTree=r}routerState=zl(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:()=>x(Op),providedIn:"root"})}return n})(),Op=(()=>{class n extends Jl{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof ft?this.updateStateMemento():e instanceof We?this.commitTransition(i):e instanceof Nn?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof Un?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof Ge&&(e.code===we.GuardRejected||e.code===we.NoDataFromResolver)?this.restoreHistory(i):e instanceof en?this.restoreHistory(i,!0):e instanceof Re&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:r}){let{replaceUrl:o,state:c}=i;if(this.location.isCurrentPathEqualTo(e)||o){let d=this.browserPageId,u=b(b({},c),this.generateNgRouterState(r,d));this.location.replaceState(e,"",u)}else{let d=b(b({},c),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",d)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Br(n)))(r||n)}})();static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function or(n,t){n.events.pipe(Ue(e=>e instanceof Re||e instanceof Ge||e instanceof en||e instanceof We),N(e=>e instanceof Re||e instanceof We?0:(e instanceof Ge?e.code===we.Redirect||e.code===we.SupersededByNewNavigation:!1)?2:1),Ue(e=>e!==2),Oe(1)).subscribe(()=>{t()})}var Pp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Y=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x($r);stateManager=x(Jl);options=x(It,{optional:!0})||{};pendingTasks=x(si);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(rr);urlSerializer=x(kt);location=x(Vt);urlHandlingStrategy=x(ir);_events=new Le;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(Xl);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(Dt,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(Kn,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Dr;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Ge&&i.code!==we.Redirect&&i.code!==we.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Re)this.navigated=!0;else if(i instanceof nn){let c=i.navigationBehaviorOptions,d=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),u=b({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Sp(r.source)},c);this.scheduleNavigation(d,Li,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Ip(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Li,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,r)=>{this.navigateToSyncWithBrowser(e,r,i)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},c=r?.navigationId?r:null;if(r){let u=b({},r);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let d=this.parseUrl(e);this.scheduleNavigation(d,i,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(To),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:c,queryParamsHandling:d,preserveFragment:u}=i,g=u?this.currentUrlTree.fragment:c,f=null;switch(d??this.options.defaultQueryParamsHandling){case"merge":f=b(b({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let M;try{let O=r?r.snapshot:this.routerState.snapshot.root;M=Il(O)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),M=this.currentUrlTree.root}return Dl(M,e,f,g??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=mt(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Li,null,i)}navigate(e,i={skipLocationChange:!1}){return Ap(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=b({},Pp):i===!1?r=b({},kp):r=i,mt(e))return pl(this.currentUrlTree,e,r);let o=this.parseUrl(e);return pl(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,c){if(this.disposed)return Promise.resolve(!1);let d,u,g;c?(d=c.resolve,u=c.reject,g=c.promise):g=new Promise((M,O)=>{d=M,u=O});let f=this.pendingTasks.add();return or(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:d,reject:u,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(M=>Promise.reject(M))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ap(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new q(4008,!1)}function Ip(n){return!(n instanceof Un)&&!(n instanceof nn)}var pe=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Le;constructor(e,i,r,o,c,d){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=c,this.locationStrategy=d;let u=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=e.events.subscribe(g=>{g instanceof Re&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(mt(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,o,c){let d=this.urlTree;if(d===null||this.isAnchorElement&&(e!==0||i||r||o||c||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(d,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let i=this.href===null?null:ba(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:mt(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(P(Y),P(ue),ua("tabindex"),P(xa),P(hn),P(bn))};static \u0275dir=xt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&y("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),i&2&&Oa("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",pi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",pi],replaceUrl:[2,"replaceUrl","replaceUrl",pi],routerLink:"routerLink"},features:[Xe]})}return n})();var Yn=class{};var Ql=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,i,r,o){this.router=e,this.injector=i,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ue(e=>e instanceof Re),Ye(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=ci(o.providers,e,`Route: ${o.path}`));let c=o._injector??e,d=o._loadedInjector??c;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(c,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(d,o.children??o._loadedRoutes))}return ie(r).pipe(zr())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(e,i):r=S(null);let o=r.pipe(ye(c=>c===null?S(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));if(i.loadComponent&&!i._loadedComponent){let c=this.loader.loadComponent(i);return ie([o,c]).pipe(zr())}else return o})}static \u0275fac=function(i){return new(i||n)(A(Y),A(ot),A(Yn),A(nr))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ec=new $(""),Tp=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,i,r,o,c={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=c,c.scrollPositionRestoration||="disabled",c.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ft?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Re?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof We&&e.code===Qt.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof tn&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new tn(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){wa()};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();function Uo(n,...t){return rt([{provide:Dt,multi:!0,useValue:n},[],{provide:ue,useFactory:tc,deps:[Y]},{provide:_n,multi:!0,useFactory:nc},t.map(e=>e.\u0275providers)])}function tc(n){return n.routerState.root}function Xn(n,t){return{\u0275kind:n,\u0275providers:t}}function nc(){let n=x(at);return t=>{let e=n.get(vn);if(t!==e.components[0])return;let i=n.get(Y),r=n.get(ic);n.get(Bo)===1&&i.initialNavigation(),n.get(ac,null,Ur.Optional)?.setUpPreloading(),n.get(ec,null,Ur.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var ic=new $("",{factory:()=>new Le}),Bo=new $("",{providedIn:"root",factory:()=>1});function rc(){let n=[{provide:Bo,useValue:0},Hr(()=>{let t=x(at);return t.get($a,Promise.resolve()).then(()=>new Promise(i=>{let r=t.get(Y),o=t.get(ic);or(r,()=>{i(!0)}),t.get(rr).afterPreactivation=()=>(i(!0),o.closed?S(void 0):o),r.initialNavigation()}))})];return Xn(2,n)}function oc(){let n=[Hr(()=>{x(Y).setUpLocationChangeListener()}),{provide:Bo,useValue:2}];return Xn(3,n)}var ac=new $("");function sc(n){return Xn(0,[{provide:ac,useExisting:Ql},{provide:Yn,useExisting:n}])}function lc(){return Xn(8,[Io,{provide:Kn,useExisting:Io}])}function cc(n){li("NgRouterViewTransitions");let t=[{provide:zo,useValue:Yl},{provide:Lo,useValue:b({skipNextTransition:!!n?.skipInitialTransition},n)}];return Xn(9,t)}var dc=[Vt,{provide:kt,useClass:ht},Y,At,{provide:ue,useFactory:tc,deps:[Y]},nr,[]],_e=(()=>{class n{constructor(){}static forRoot(e,i){return{ngModule:n,providers:[dc,[],{provide:Dt,multi:!0,useValue:e},[],i?.errorHandler?{provide:Fo,useValue:i.errorHandler}:[],{provide:It,useValue:i||{}},i?.useHash?zp():Lp(),Rp(),i?.preloadingStrategy?sc(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Fp(i):[],i?.bindToComponentInputs?lc().\u0275providers:[],i?.enableViewTransitions?cc().\u0275providers:[],Np()]}}static forChild(e){return{ngModule:n,providers:[{provide:Dt,multi:!0,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ct({type:n});static \u0275inj=bt({})}return n})();function Rp(){return{provide:ec,useFactory:()=>{let n=x(Ja),t=x(oe),e=x(It),i=x(rr),r=x(kt);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Tp(r,i,n,t,e)}}}function zp(){return{provide:bn,useClass:qa}}function Lp(){return{provide:bn,useClass:Ha}}function Fp(n){return[n.initialNavigation==="disabled"?oc().\u0275providers:[],n.initialNavigation==="enabledBlocking"?rc().\u0275providers:[]]}var No=new $("");function Np(){return[{provide:No,useFactory:nc},{provide:_n,multi:!0,useExisting:No}]}var _c="firebasestorage.googleapis.com",vc="storageBucket",Up=2*60*1e3,Bp=10*60*1e3;var Q=class n extends is{constructor(t,e,i=0){super(jo(t),`Firebase Storage: ${e} (${jo(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return jo(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},te=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(te||{});function jo(n){return"storage/"+n}function qo(){let n="An unknown error occurred, please check the error payload for server response.";return new Q(te.UNKNOWN,n)}function jp(n){return new Q(te.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Gp(n){return new Q(te.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Vp(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Q(te.UNAUTHENTICATED,n)}function Wp(){return new Q(te.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function $p(n){return new Q(te.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Hp(){return new Q(te.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qp(){return new Q(te.CANCELED,"User canceled the upload/download.")}function Kp(n){return new Q(te.INVALID_URL,"Invalid URL '"+n+"'.")}function Zp(n){return new Q(te.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Yp(){return new Q(te.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vc+"' property when initializing the app?")}function Xp(){return new Q(te.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Jp(){return new Q(te.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Qp(n){return new Q(te.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Go(n){return new Q(te.INVALID_ARGUMENT,n)}function bc(){return new Q(te.APP_DELETED,"The Firebase app was deleted.")}function eg(n){return new Q(te.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Qn(n,t){return new Q(te.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Jn(n){throw new Q(te.INTERNAL_ERROR,"Internal error: "+n)}var Ne=class n{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=n.makeFromUrl(t,e)}catch{return new n(t,"")}if(i.path==="")return i;throw Zp(t)}static makeFromUrl(t,e){let i=null,r="([A-Za-z0-9.\\-_]+)";function o(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}let c="(/(.*))?$",d=new RegExp("^gs://"+r+c,"i"),u={bucket:1,path:3};function g(ne){ne.path_=decodeURIComponent(ne.path)}let f="v[A-Za-z0-9_]+",M=e.replace(/[.]/g,"\\."),O="(/([^?#]*).*)?$",D=new RegExp(`^https?://${M}/${f}/b/${r}/o${O}`,"i"),B={bucket:1,path:3},L=e===_c?"(?:storage.googleapis.com|storage.cloud.google.com)":e,E="([^?#]*)",re=new RegExp(`^https?://${L}/${r}/${E}`,"i"),W=[{regex:d,indices:u,postModify:o},{regex:D,indices:B,postModify:g},{regex:re,indices:{bucket:1,path:2},postModify:g}];for(let ne=0;ne<W.length;ne++){let Lt=W[ne],un=Lt.regex.exec(t);if(un){let Qc=un[Lt.indices.bucket],Ir=un[Lt.indices.path];Ir||(Ir=""),i=new n(Qc,Ir),Lt.postModify(i);break}}if(i==null)throw Kp(t);return i}},Vo=class{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}};function tg(n,t,e){let i=1,r=null,o=null,c=!1,d=0;function u(){return d===2}let g=!1;function f(...E){g||(g=!0,t.apply(null,E))}function M(E){r=setTimeout(()=>{r=null,n(D,u())},E)}function O(){o&&clearTimeout(o)}function D(E,...re){if(g){O();return}if(E){O(),f.call(null,E,...re);return}if(u()||c){O(),f.call(null,E,...re);return}i<64&&(i*=2);let W;d===1?(d=2,W=0):W=(i+Math.random())*1e3,M(W)}let B=!1;function L(E){B||(B=!0,O(),!g&&(r!==null?(E||(d=2),clearTimeout(r),M(0)):E||(d=1)))}return M(0),o=setTimeout(()=>{c=!0,L(!0)},e),L}function ng(n){n(!1)}function ig(n){return n!==void 0}function rg(n){return typeof n=="object"&&!Array.isArray(n)}function Ko(n){return typeof n=="string"||n instanceof String}function uc(n){return Zo()&&n instanceof Blob}function Zo(){return typeof Blob<"u"}function pc(n,t,e,i){if(i<t)throw Go(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Go(`Invalid value for '${n}'. Expected ${e} or less.`)}function Yo(n,t,e){let i=t;return e==null&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function yc(n){let t=encodeURIComponent,e="?";for(let i in n)if(n.hasOwnProperty(i)){let r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}var ln=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(ln||{});function og(n,t){let e=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||r||o}var Wo=class{constructor(t,e,i,r,o,c,d,u,g,f,M,O=!0,D=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=u,this.timeout_=g,this.progressCallback_=f,this.connectionFactory_=M,this.retry=O,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,L)=>{this.resolve_=B,this.reject_=L,this.start_()})}start_(){let t=(i,r)=>{if(r){i(!1,new sn(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let c=d=>{let u=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,g)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;let d=o.getErrorCode()===ln.NO_ERROR,u=o.getStatus();if(!d||og(u,this.additionalRetryCodes_)&&this.retry){let f=o.getErrorCode()===ln.ABORT;i(!1,new sn(!1,null,f));return}let g=this.successCodes_.indexOf(u)!==-1;i(!0,new sn(g,o))})},e=(i,r)=>{let o=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{let u=this.callback_(d,d.getResponse());ig(u)?o(u):o()}catch(u){c(u)}else if(d!==null){let u=qo();u.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,u)):c(u)}else if(r.canceled){let u=this.appDelete_?bc():qp();c(u)}else{let u=Hp();c(u)}};this.canceled_?e(!1,new sn(!1,null,!0)):this.backoffId_=tg(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&ng(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},sn=class{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}};function ag(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function sg(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function lg(n,t){t&&(n["X-Firebase-GMPID"]=t)}function cg(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function dg(n,t,e,i,r,o,c=!0,d=!1){let u=yc(n.urlParams),g=n.url+u,f=Object.assign({},n.headers);return lg(f,t),ag(f,e),sg(f,o),cg(f,i),new Wo(g,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c,d)}function ug(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function pg(...n){let t=ug();if(t!==void 0){let e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}else{if(Zo())return new Blob(n);throw new Q(te.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function gg(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}function hg(n){if(typeof atob>"u")throw Qp("base-64");return atob(n)}var $e={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ei=class{constructor(t,e){this.data=t,this.contentType=e||null}};function mg(n,t){switch(n){case $e.RAW:return new ei(Cc(t));case $e.BASE64:case $e.BASE64URL:return new ei(xc(n,t));case $e.DATA_URL:return new ei(_g(t),vg(t))}throw qo()}function Cc(n){let t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(e<n.length-1&&(n.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{let o=i,c=n.charCodeAt(++e);i=65536|(o&1023)<<10|c&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function fg(n){let t;try{t=decodeURIComponent(n)}catch{throw Qn($e.DATA_URL,"Malformed data URL.")}return Cc(t)}function xc(n,t){switch(n){case $e.BASE64:{let r=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(r||o)throw Qn(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case $e.BASE64URL:{let r=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(r||o)throw Qn(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=hg(t)}catch(r){throw r.message.includes("polyfill")?r:Qn(n,"Invalid character found")}let i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}var sr=class{constructor(t){this.base64=!1,this.contentType=null;let e=t.match(/^data:([^,]+)?,/);if(e===null)throw Qn($e.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=e[1]||null;i!=null&&(this.base64=bg(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}};function _g(n){let t=new sr(n);return t.base64?xc($e.BASE64,t.rest):fg(t.rest)}function vg(n){return new sr(n).contentType}function bg(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}var lr=class n{constructor(t,e){let i=0,r="";uc(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(uc(this.data_)){let i=this.data_,r=gg(i,t,e);return r===null?null:new n(r)}else{let i=new Uint8Array(this.data_.buffer,t,e-t);return new n(i,!0)}}static getBlob(...t){if(Zo()){let e=t.map(i=>i instanceof n?i.data_:i);return new n(pg.apply(null,e))}else{let e=t.map(c=>Ko(c)?mg($e.RAW,c).data:c.data_),i=0;e.forEach(c=>{i+=c.byteLength});let r=new Uint8Array(i),o=0;return e.forEach(c=>{for(let d=0;d<c.length;d++)r[o++]=c[d]}),new n(r,!0)}}uploadData(){return this.data_}};function wc(n){let t;try{t=JSON.parse(n)}catch{return null}return rg(t)?t:null}function yg(n){if(n.length===0)return null;let t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function Cg(n,t){let e=t.split("/").filter(i=>i.length>0).join("/");return n.length===0?e:n+"/"+e}function Mc(n){let t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}function xg(n,t){return t}var le=class{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||xg}},ar=null;function wg(n){return!Ko(n)||n.length<2?n:Mc(n)}function Sc(){if(ar)return ar;let n=[];n.push(new le("bucket")),n.push(new le("generation")),n.push(new le("metageneration")),n.push(new le("name","fullPath",!0));function t(o,c){return wg(c)}let e=new le("name");e.xform=t,n.push(e);function i(o,c){return c!==void 0?Number(c):c}let r=new le("size");return r.xform=i,n.push(r),n.push(new le("timeCreated")),n.push(new le("updated")),n.push(new le("md5Hash",null,!0)),n.push(new le("cacheControl",null,!0)),n.push(new le("contentDisposition",null,!0)),n.push(new le("contentEncoding",null,!0)),n.push(new le("contentLanguage",null,!0)),n.push(new le("contentType",null,!0)),n.push(new le("metadata","customMetadata",!0)),ar=n,ar}function Mg(n,t){function e(){let i=n.bucket,r=n.fullPath,o=new Ne(i,r);return t._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:e})}function Sg(n,t,e){let i={};i.type="file";let r=e.length;for(let o=0;o<r;o++){let c=e[o];i[c.local]=c.xform(i,t[c.server])}return Mg(i,n),i}function Ec(n,t,e){let i=wc(t);return i===null?null:Sg(n,i,e)}function Eg(n,t,e,i){let r=wc(t);if(r===null||!Ko(r.downloadTokens))return null;let o=r.downloadTokens;if(o.length===0)return null;let c=encodeURIComponent;return o.split(",").map(g=>{let f=n.bucket,M=n.fullPath,O="/b/"+c(f)+"/o/"+c(M),D=Yo(O,e,i),B=yc({alt:"media",token:g});return D+B})[0]}function Og(n,t){let e={},i=t.length;for(let r=0;r<i;r++){let o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}var cr=class{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Oc(n){if(!n)throw qo()}function Pg(n,t){function e(i,r){let o=Ec(n,r,t);return Oc(o!==null),o}return e}function kg(n,t){function e(i,r){let o=Ec(n,r,t);return Oc(o!==null),Eg(o,r,n.host,n._protocol)}return e}function Pc(n){function t(e,i){let r;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?r=Wp():r=Vp():e.getStatus()===402?r=Gp(n.bucket):e.getStatus()===403?r=$p(n.path):r=i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}return t}function Ag(n){let t=Pc(n);function e(i,r){let o=t(i,r);return i.getStatus()===404&&(o=jp(n.path)),o.serverResponse=r.serverResponse,o}return e}function Ig(n,t,e){let i=t.fullServerUrl(),r=Yo(i,n.host,n._protocol),o="GET",c=n.maxOperationRetryTime,d=new cr(r,o,kg(n,e),c);return d.errorHandler=Ag(t),d}function Dg(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function Tg(n,t,e){let i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=Dg(null,t)),i}function Rg(n,t,e,i,r){let o=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let W="";for(let ne=0;ne<2;ne++)W=W+Math.random().toString().slice(2);return W}let u=d();c["Content-Type"]="multipart/related; boundary="+u;let g=Tg(t,i,r),f=Og(g,e),M="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+g.contentType+`\r
\r
`,O=`\r
--`+u+"--",D=lr.getBlob(M,i,O);if(D===null)throw Xp();let B={name:g.fullPath},L=Yo(o,n.host,n._protocol),E="POST",re=n.maxUploadRetryTime,be=new cr(L,E,Pg(n,e),re);return be.urlParams=B,be.headers=c,be.body=D.uploadData(),be.errorHandler=Pc(t),be}var L_=256*1024;var gc=null,$o=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ln.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ln.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ln.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r,o){if(this.sent_)throw Jn("cannot .send() more than once");if(Zr(t)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(e,t,!0),o!==void 0)for(let c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Jn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}},Ho=class extends $o{initXhr(){this.xhr_.responseType="text"}};function kc(){return gc?gc():new Ho}var cn=class n{constructor(t,e){this._service=t,e instanceof Ne?this._location=e:this._location=Ne.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new n(t,e)}get root(){let t=new Ne(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Mc(this._location.path)}get storage(){return this._service}get parent(){let t=yg(this._location.path);if(t===null)return null;let e=new Ne(this._location.bucket,t);return new n(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw eg(t)}};function zg(n,t,e){n._throwIfRoot("uploadBytes");let i=Rg(n.storage,n._location,Sc(),new lr(t,!0),e);return n.storage.makeRequestWithTokens(i,kc).then(r=>({metadata:r,ref:n}))}function Lg(n){n._throwIfRoot("getDownloadURL");let t=Ig(n.storage,n._location,Sc());return n.storage.makeRequestWithTokens(t,kc).then(e=>{if(e===null)throw Jp();return e})}function Fg(n,t){let e=Cg(n._location.path,t),i=new Ne(n._location.bucket,e);return new cn(n.storage,i)}function Ng(n){return/^[A-Za-z]+:\/\//.test(n)}function Ug(n,t){return new cn(n,t)}function Ac(n,t){if(n instanceof ti){let e=n;if(e._bucket==null)throw Yp();let i=new cn(e,e._bucket);return t!=null?Ac(i,t):i}else return t!==void 0?Fg(n,t):n}function Bg(n,t){if(t&&Ng(t)){if(n instanceof ti)return Ug(n,t);throw Go("To use ref(service, url), the first argument must be a Storage instance.")}else return Ac(n,t)}function hc(n,t){let e=t?.[vc];return e==null?null:Ne.makeFromBucketSpec(e,n)}function jg(n,t,e,i={}){n.host=`${t}:${e}`;let r=Zr(t);r&&(es(`https://${n.host}/b`),ns("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";let{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:ts(o,n.app.options.projectId))}var ti=class{constructor(t,e,i,r,o,c=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=_c,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Up,this._maxUploadRetryTime=Bp,this._requests=new Set,r!=null?this._bucket=Ne.makeFromBucketSpec(r,this._host):this._bucket=hc(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Ne.makeFromBucketSpec(this._url,t):this._bucket=hc(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){pc("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){pc("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){return w(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let t=this._authProvider.getImmediate({optional:!0});if(t){let e=yield t.getToken();if(e!==null)return e.accessToken}return null})}_getAppCheckToken(){return w(this,null,function*(){if(ss(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=this._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new cn(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new Vo(bc());{let c=dg(t,this._appId,i,r,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(t,e){return w(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,r).getPromise()})}},mc="@firebase/storage",fc="0.13.14";var Ic="storage";function Dc(n,t,e){return n=yn(n),zg(n,t,e)}function Tc(n){return n=yn(n),Lg(n)}function Rc(n,t){return n=yn(n),Bg(n,t)}function zc(n=cs(),t){n=yn(n);let i=as(n,Ic).getImmediate({identifier:t}),r=Qa("storage");return r&&Lc(i,...r),i}function Lc(n,t,e,i={}){jg(n,t,e,i)}function Gg(n,{instanceIdentifier:t}){let e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new ti(e,i,r,t,ls)}function Vg(){os(new rs(Ic,Gg,"PUBLIC").setMultipleInstances(!0)),Cn(mc,fc,""),Cn(mc,fc,"esm2017")}Vg();var Tt=class{constructor(t){return t}},Fc="storage",Xo=class{constructor(){return ps(Fc)}};var Jo=new $("angularfire2.storage-instances");function Wg(n,t){let e=us(Fc,n,t);return e&&new Tt(e)}function $g(n){return(t,e)=>{let i=t.runOutsideAngular(()=>n(e));return new Tt(i)}}var Hg={provide:Xo,deps:[[new Ut,Jo]]},qg={provide:Tt,useFactory:Wg,deps:[[new Ut,Jo],hs]};function Nc(n,...t){return Cn("angularfire",ds.full,"gcs"),rt([qg,Hg,{provide:Jo,useFactory:$g(n),multi:!0,deps:[oe,at,gs,ms,[new Ut,Cs],[new Ut,vs],...t]}])}var Uc=xn(Tc,!0);var Bc=xn(zc,!0);var jc=xn(Rc,!0,2);var Gc=xn(Dc,!0);var Zg=["*"],ii=class{_ngZone;_pending=[];_listeners=[];_targetStream=new ce(void 0);_clearListeners(){for(let t of this._listeners)t.remove();this._listeners=[]}constructor(t){this._ngZone=t}getLazyEmitter(t){return this._targetStream.pipe(me(e=>{let i=new Ke(r=>{if(!e){this._pending.push({observable:i,observer:r});return}let o=e.addListener(t,c=>{this._ngZone.run(()=>r.next(c))});if(!o){r.complete();return}return this._listeners.push(o),()=>o.remove()});return i}))}setTarget(t){let e=this._targetStream.value;t!==e&&(e&&(this._clearListeners(),this._pending=[]),this._targetStream.next(t),this._pending.forEach(i=>i.observable.subscribe(i.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}},ni={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"},Vc="500px",Wc="500px",dr=(()=>{class n{_elementRef=x(hn);_ngZone=x(oe);_eventManager=new ii(x(oe));_mapEl;_existingAuthFailureCallback;googleMap;_isBrowser;height=Vc;width=Wc;mapId;mapTypeId;set center(e){this._center=e}_center;set zoom(e){this._zoom=e}_zoom;set options(e){this._options=e||ni}_options=ni;mapInitialized=new fe;authFailure=new fe;boundsChanged=this._eventManager.getLazyEmitter("bounds_changed");centerChanged=this._eventManager.getLazyEmitter("center_changed");mapClick=this._eventManager.getLazyEmitter("click");mapDblclick=this._eventManager.getLazyEmitter("dblclick");mapDrag=this._eventManager.getLazyEmitter("drag");mapDragend=this._eventManager.getLazyEmitter("dragend");mapDragstart=this._eventManager.getLazyEmitter("dragstart");headingChanged=this._eventManager.getLazyEmitter("heading_changed");idle=this._eventManager.getLazyEmitter("idle");maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed");mapMousemove=this._eventManager.getLazyEmitter("mousemove");mapMouseout=this._eventManager.getLazyEmitter("mouseout");mapMouseover=this._eventManager.getLazyEmitter("mouseover");projectionChanged=this._eventManager.getLazyEmitter("projection_changed");mapRightclick=this._eventManager.getLazyEmitter("rightclick");tilesloaded=this._eventManager.getLazyEmitter("tilesloaded");tiltChanged=this._eventManager.getLazyEmitter("tilt_changed");zoomChanged=this._eventManager.getLazyEmitter("zoom_changed");constructor(){let e=x(yt);if(this._isBrowser=Xa(e),this._isBrowser){let i=window;i.google,this._existingAuthFailureCallback=i.gm_authFailure,i.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(e){(e.height||e.width)&&this._setSize();let i=this.googleMap;i&&(e.options&&i.setOptions(this._combineOptions()),e.center&&this._center&&i.setCenter(this._center),e.zoom&&this._zoom!=null&&i.setZoom(this._zoom),e.mapTypeId&&this.mapTypeId&&i.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),google.maps.Map?this._initialize(google.maps.Map):this._ngZone.runOutsideAngular(()=>{google.maps.importLibrary("maps").then(e=>this._initialize(e.Map))}))}_initialize(e){this._ngZone.runOutsideAngular(()=>{this.googleMap=new e(this._mapEl,this._combineOptions()),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap)})}ngOnDestroy(){if(this.mapInitialized.complete(),this._eventManager.destroy(),this._isBrowser){let e=window;e.gm_authFailure=this._existingAuthFailureCallback}}fitBounds(e,i){this._assertInitialized(),this.googleMap.fitBounds(e,i)}panBy(e,i){this._assertInitialized(),this.googleMap.panBy(e,i)}panTo(e){this._assertInitialized(),this.googleMap.panTo(e)}panToBounds(e,i){this._assertInitialized(),this.googleMap.panToBounds(e,i)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_resolveMap(){return this.googleMap?Promise.resolve(this.googleMap):this.mapInitialized.pipe(Oe(1)).toPromise()}_setSize(){if(this._mapEl){let e=this._mapEl.style;e.height=this.height===null?"":$c(this.height)||Vc,e.width=this.width===null?"":$c(this.width)||Wc}}_combineOptions(){let e=this._options||{};return G(b({},e),{center:this._center||e.center||ni.center,zoom:this._zoom??e.zoom??ni.zoom,mapTypeId:this.mapTypeId||e.mapTypeId||ni.mapTypeId,mapId:this.mapId||e.mapId})}_assertInitialized(){this.googleMap}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=V({type:n,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapId:"mapId",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[Xe],ngContentSelectors:Zg,decls:2,vars:0,consts:[[1,"map-container"]],template:function(i,r){i&1&&(Aa(),I(0,"div",0),Ia(1))},encapsulation:2,changeDetection:0})}return n})(),Yg=/([A-Za-z%]+)$/;function $c(n){return n==null?"":Yg.test(n)?n:`${n}px`}var Hc=(()=>{class n{_googleMap=x(dr);_elementRef=x(hn);_ngZone=x(oe);_eventManager=new ii(x(oe));_options=new ce({});_position=new ce(void 0);_destroy=new Le;infoWindow;set options(e){this._options.next(e||{})}set position(e){this._position.next(e)}closeclick=this._eventManager.getLazyEmitter("closeclick");contentChanged=this._eventManager.getLazyEmitter("content_changed");domready=this._eventManager.getLazyEmitter("domready");positionChanged=this._eventManager.getLazyEmitter("position_changed");zindexChanged=this._eventManager.getLazyEmitter("zindex_changed");infoWindowInitialized=new fe;constructor(){}ngOnInit(){this._googleMap._isBrowser&&this._combineOptions().pipe(Oe(1)).subscribe(e=>{google.maps.InfoWindow?this._initialize(google.maps.InfoWindow,e):this._ngZone.runOutsideAngular(()=>{google.maps.importLibrary("maps").then(i=>{this._initialize(i.InfoWindow,e)})})})}_initialize(e,i){this._ngZone.runOutsideAngular(()=>{this.infoWindow=new e(i),this._eventManager.setTarget(this.infoWindow),this.infoWindowInitialized.emit(this.infoWindow),this._watchForOptionsChanges(),this._watchForPositionChanges()})}ngOnDestroy(){this._eventManager.destroy(),this._destroy.next(),this._destroy.complete(),this.infoWindow&&this.close()}close(){this._assertInitialized(),this.infoWindow.close()}getContent(){return this._assertInitialized(),this.infoWindow.getContent()||null}getPosition(){return this._assertInitialized(),this.infoWindow.getPosition()||null}getZIndex(){return this._assertInitialized(),this.infoWindow.getZIndex()}openAdvancedMarkerElement(e,i){this.open({getAnchor:()=>e},void 0,i)}open(e,i,r){this._assertInitialized();let o=e?e.getAnchor():void 0;(this.infoWindow.get("anchor")!==o||!o)&&(this._elementRef.nativeElement.style.display=r?"none":"",r&&this.infoWindow.setContent(r),this.infoWindow.open({map:this._googleMap.googleMap,anchor:o,shouldFocus:i}))}_combineOptions(){return Ft([this._options,this._position]).pipe(N(([e,i])=>G(b({},e),{position:i||e.position,content:this._elementRef.nativeElement})))}_watchForOptionsChanges(){this._options.pipe(gn(this._destroy)).subscribe(e=>{this._assertInitialized(),this.infoWindow.setOptions(e)})}_watchForPositionChanges(){this._position.pipe(gn(this._destroy)).subscribe(e=>{e&&(this._assertInitialized(),this.infoWindow.setPosition(e))})}_assertInitialized(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xt({type:n,selectors:[["map-info-window"]],hostAttrs:[2,"display","none"],inputs:{options:"options",position:"position"},outputs:{closeclick:"closeclick",contentChanged:"contentChanged",domready:"domready",positionChanged:"positionChanged",zindexChanged:"zindexChanged",infoWindowInitialized:"infoWindowInitialized"},exportAs:["mapInfoWindow"]})}return n})();var Xg=new $("MAP_MARKER"),Jg={position:{lat:37.421995,lng:-122.084092}},qc=(()=>{class n{_googleMap=x(dr);_ngZone=x(oe);_eventManager=new ii(x(oe));set title(e){this._title=e}_title;set position(e){this._position=e}_position;set label(e){this._label=e}_label;set clickable(e){this._clickable=e}_clickable;set options(e){this._options=e}_options;set icon(e){this._icon=e}_icon;set visible(e){this._visible=e}_visible;animationChanged=this._eventManager.getLazyEmitter("animation_changed");mapClick=this._eventManager.getLazyEmitter("click");clickableChanged=this._eventManager.getLazyEmitter("clickable_changed");cursorChanged=this._eventManager.getLazyEmitter("cursor_changed");mapDblclick=this._eventManager.getLazyEmitter("dblclick");mapDrag=this._eventManager.getLazyEmitter("drag");mapDragend=this._eventManager.getLazyEmitter("dragend");draggableChanged=this._eventManager.getLazyEmitter("draggable_changed");mapDragstart=this._eventManager.getLazyEmitter("dragstart");flatChanged=this._eventManager.getLazyEmitter("flat_changed");iconChanged=this._eventManager.getLazyEmitter("icon_changed");mapMousedown=this._eventManager.getLazyEmitter("mousedown");mapMouseout=this._eventManager.getLazyEmitter("mouseout");mapMouseover=this._eventManager.getLazyEmitter("mouseover");mapMouseup=this._eventManager.getLazyEmitter("mouseup");positionChanged=this._eventManager.getLazyEmitter("position_changed");mapRightclick=this._eventManager.getLazyEmitter("rightclick");shapeChanged=this._eventManager.getLazyEmitter("shape_changed");titleChanged=this._eventManager.getLazyEmitter("title_changed");visibleChanged=this._eventManager.getLazyEmitter("visible_changed");zindexChanged=this._eventManager.getLazyEmitter("zindex_changed");markerInitialized=new fe;marker;constructor(){}ngOnInit(){this._googleMap._isBrowser&&(google.maps.Marker&&this._googleMap.googleMap?this._initialize(this._googleMap.googleMap,google.maps.Marker):this._ngZone.runOutsideAngular(()=>{Promise.all([this._googleMap._resolveMap(),google.maps.importLibrary("marker")]).then(([e,i])=>{this._initialize(e,i.Marker)})}))}_initialize(e,i){this._ngZone.runOutsideAngular(()=>{this.marker=new i(this._combineOptions()),this._assertInitialized(),this.marker.setMap(e),this._eventManager.setTarget(this.marker),this.markerInitialized.next(this.marker)})}ngOnChanges(e){let{marker:i,_title:r,_position:o,_label:c,_clickable:d,_icon:u,_visible:g}=this;i&&(e.options&&i.setOptions(this._combineOptions()),e.title&&r!==void 0&&i.setTitle(r),e.position&&o&&i.setPosition(o),e.label&&c!==void 0&&i.setLabel(c),e.clickable&&d!==void 0&&i.setClickable(d),e.icon&&u&&i.setIcon(u),e.visible&&g!==void 0&&i.setVisible(g))}ngOnDestroy(){this.markerInitialized.complete(),this._eventManager.destroy(),this.marker?.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_resolveMarker(){return this.marker?Promise.resolve(this.marker):this.markerInitialized.pipe(Oe(1)).toPromise()}_combineOptions(){let e=this._options||Jg;return G(b({},e),{title:this._title||e.title,position:this._position||e.position,label:this._label||e.label,clickable:this._clickable??e.clickable,map:this._googleMap.googleMap,icon:this._icon||e.icon,visible:this._visible??e.visible})}_assertInitialized(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xt({type:n,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged",markerInitialized:"markerInitialized"},exportAs:["mapMarker"],features:[Ra([{provide:Xg,useExisting:n}]),Xe]})}return n})();var Kc=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ct({type:n});static \u0275inj=bt({})}return n})();function eh(n,t){n&1&&(s(0,"p",15),l(1," \u{1F4CD} Deine Position wird angezeigt "),a())}function th(n,t){n&1&&(s(0,"p",16),l(1," \u26A0\uFE0F Standort nicht verf\xFCgbar - Zentrum Berlin angezeigt "),a())}function nh(n,t){if(n&1){let e=F();s(0,"div",19)(1,"h4"),l(2),a(),s(3,"p")(4,"strong"),l(5),Be(6,"titlecase"),a()(),s(7,"p"),l(8),a(),s(9,"p"),l(10),a(),s(11,"button",20),y("click",function(){_(e);let r=m().$implicit,o=m();return v(o.getDirections(r.shop))}),l(12," \u{1F697} Route berechnen "),a()()}if(n&2){let e=m().$implicit;p(2),K(e.shop.name),p(3),K(Je(6,4,e.shop.type)),p(3),j("\u{1F4CD} ",e.shop.address.split(",")[0],""),p(2),j("\u2B50 ",e.shop.rating,"/5")}}function ih(n,t){n&1&&(s(0,"div",19)(1,"h4"),l(2,"\u{1F4CD} Deine Position"),a(),s(3,"p"),l(4,"Du bist hier"),a()())}function rh(n,t){if(n&1){let e=F();s(0,"map-marker",17),y("mapClick",function(){let r=_(e).$implicit,o=m();return v(o.onMarkerClick(r))}),s(1,"map-info-window"),C(2,nh,13,6,"div",18)(3,ih,5,0,"div",18),a()()}if(n&2){let e=t.$implicit,i=m();h("position",e.position)("title",e.title)("options",i.getMarkerOptions(e)),p(2),h("ngIf",e.shop),p(),h("ngIf",e.isUserLocation)}}var ur=class n{afroshops=[];userLocation=null;shopSelected=new fe;mapOptions={center:{lat:52.52,lng:13.405},zoom:12,mapTypeControl:!0,streetViewControl:!0,fullscreenControl:!0};markers=[];constructor(){}ngOnInit(){this.updateMapCenter(),this.createMarkers()}ngOnChanges(){this.updateMapCenter(),this.createMarkers()}updateMapCenter(){this.userLocation&&(this.mapOptions=G(b({},this.mapOptions),{center:this.userLocation,zoom:13}))}createMarkers(){this.markers=this.afroshops.map(t=>({position:t.coordinates,title:t.name,shop:t})),this.userLocation&&this.markers.push({position:this.userLocation,title:"Deine Position",isUserLocation:!0})}getMarkerOptions(t){return t.isUserLocation?{icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="12" cy="12" r="8" fill="#4285F4" stroke="white" stroke-width="2"/>
              <circle cx="12" cy="12" r="3" fill="white"/>
            </svg>
          `),scaledSize:new google.maps.Size(24,24),anchor:new google.maps.Point(12,12)}}:{}}onMarkerClick(t){t.shop&&(console.log("Afroshop ausgew\xE4hlt:",t.shop),this.shopSelected.emit(t.shop.id))}getDirections(t){if(this.userLocation){let e=`https://www.google.com/maps/dir/${this.userLocation.lat},${this.userLocation.lng}/${t.coordinates.lat},${t.coordinates.lng}`;window.open(e,"_blank")}else{let e=`https://www.google.com/maps/search/?api=1&query=${t.coordinates.lat},${t.coordinates.lng}`;window.open(e,"_blank")}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-map"]],inputs:{afroshops:"afroshops",userLocation:"userLocation"},outputs:{shopSelected:"shopSelected"},features:[Xe],decls:42,vars:6,consts:[[1,"map-container"],[1,"map-header"],["class","location-info",4,"ngIf"],["class","no-location-info",4,"ngIf"],[1,"google-map",3,"options","width","height"],[3,"position","title","options","mapClick",4,"ngFor","ngForOf"],[1,"map-legend"],[1,"legend-items"],[1,"legend-item"],[1,"legend-icon","restaurant"],[1,"legend-icon","epicerie"],[1,"legend-icon","coiffeur"],[1,"legend-icon","vetement"],[1,"legend-icon","services"],[1,"legend-icon","user"],[1,"location-info"],[1,"no-location-info"],[3,"mapClick","position","title","options"],["class","info-window",4,"ngIf"],[1,"info-window"],[1,"directions-btn",3,"click"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"div",1)(2,"h3"),l(3,"\u{1F5FA}\uFE0F Karte der Afroshops"),a(),C(4,eh,2,0,"p",2)(5,th,2,0,"p",3),a(),s(6,"google-map",4),C(7,rh,4,5,"map-marker",5),a(),s(8,"div",6)(9,"h4"),l(10,"Legende"),a(),s(11,"div",7)(12,"div",8)(13,"span",9),l(14,"\u{1F37D}\uFE0F"),a(),s(15,"span"),l(16,"Restaurants"),a()(),s(17,"div",8)(18,"span",10),l(19,"\u{1F6D2}"),a(),s(20,"span"),l(21,"Lebensmittel"),a()(),s(22,"div",8)(23,"span",11),l(24,"\u2702\uFE0F"),a(),s(25,"span"),l(26,"Friseure"),a()(),s(27,"div",8)(28,"span",12),l(29,"\u{1F457}"),a(),s(30,"span"),l(31,"Mode"),a()(),s(32,"div",8)(33,"span",13),l(34,"\u{1F3E6}"),a(),s(35,"span"),l(36,"Dienstleistungen"),a()(),s(37,"div",8)(38,"span",14),l(39,"\u{1F4CD}"),a(),s(40,"span"),l(41,"Deine Position"),a()()()()()),e&2&&(p(4),h("ngIf",i.userLocation),p(),h("ngIf",!i.userLocation),p(),h("options",i.mapOptions)("width","100%")("height","400px"),p(),h("ngForOf",i.markers))},dependencies:[X,Ce,J,Wt,Kc,dr,Hc,qc],styles:[".map-container[_ngcontent-%COMP%]{padding:var(--spacing-lg);background:var(--background-white);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-sm);margin:var(--spacing-lg) 0}.map-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--spacing-md)}.map-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--primary-color);font-size:1.5rem;margin-bottom:var(--spacing-xs)}.location-info[_ngcontent-%COMP%]{color:#27ae60;font-weight:500;margin:0}.no-location-info[_ngcontent-%COMP%]{color:#f39c12;font-weight:500;margin:0}.google-map[_ngcontent-%COMP%]{border-radius:var(--border-radius);border:2px solid #e0e0e0;overflow:hidden;box-shadow:var(--shadow-sm)}.info-window[_ngcontent-%COMP%]{padding:var(--spacing-sm);min-width:200px}.info-window[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--primary-color);margin:0 0 var(--spacing-xs) 0;font-size:1.1rem}.info-window[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:var(--spacing-xs) 0;font-size:.9rem;color:var(--text-light)}.directions-btn[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border:none;padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--border-radius);cursor:pointer;font-size:.9rem;margin-top:var(--spacing-xs);transition:background .3s ease}.directions-btn[_ngcontent-%COMP%]:hover{background:var(--secondary-color)}.map-legend[_ngcontent-%COMP%]{margin-top:var(--spacing-lg);padding:var(--spacing-md);background:var(--background-light);border-radius:var(--border-radius);border-left:4px solid var(--primary-color)}.map-legend[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-dark);margin:0 0 var(--spacing-sm) 0;font-size:1.1rem}.legend-items[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:var(--spacing-sm)}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-xs);font-size:.9rem;color:var(--text-light)}.legend-icon[_ngcontent-%COMP%]{font-size:1.2rem;width:24px;text-align:center}.legend-icon.restaurant[_ngcontent-%COMP%]{color:#e74c3c}.legend-icon.epicerie[_ngcontent-%COMP%]{color:#27ae60}.legend-icon.coiffeur[_ngcontent-%COMP%]{color:#9b59b6}.legend-icon.vetement[_ngcontent-%COMP%]{color:#3498db}.legend-icon.services[_ngcontent-%COMP%]{color:#f1c40f}.legend-icon.user[_ngcontent-%COMP%]{color:#4285f4}@media (max-width: 768px){.map-container[_ngcontent-%COMP%]{padding:var(--spacing-md);margin:var(--spacing-md) 0}.google-map[_ngcontent-%COMP%]{height:300px!important}.legend-items[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:var(--spacing-xs)}.legend-item[_ngcontent-%COMP%]{font-size:.8rem}}.map-loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:400px;background:var(--background-light);border-radius:var(--border-radius)}.loading-spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid var(--primary-color);border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var dn=class n{afroshops=[{id:1,name:"Mama Afrika Restaurant",type:"restaurant",address:"M\xFCllerstra\xDFe 123, 13349 Berlin",coordinates:{lat:52.52,lng:13.405},phone:"+49 30 12345678",description:"Authentisches Restaurant mit westafrikanischen Spezialit\xE4ten. Warme Atmosph\xE4re und traditionelle Gerichte mit Liebe zubereitet. Spezialit\xE4ten: Jollof Rice, Poulet Yassa, Atti\xE9k\xE9.",rating:4.5,image:"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800&h=600&fit=crop",cuisine:"Westafrikanische",priceLevel:2,hours:"Mo-So: 12:00-22:00",products:[]},{id:7,name:"Afro Palace Dortmund",type:"restaurant",address:"Kampstra\xDFe 45, 44137 Dortmund",coordinates:{lat:51.5136,lng:7.4653},phone:"+49 231 567890",description:"Das beste afrikanische Restaurant im Herzen von Dortmund. Bekannt f\xFCr authentische nigerianische und ghanaische K\xFCche.",rating:4.7,image:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=800&h=600&fit=crop",cuisine:"Westafrikanische",priceLevel:2,hours:"Di-So: 17:00-23:00",products:[]},{id:8,name:"Sahara Markt Dortmund",type:"epicerie",address:"Steinstra\xDFe 33, 44147 Dortmund",coordinates:{lat:51.52,lng:7.46},phone:"+49 231 445566",description:"Gr\xF6\xDFter afrikanischer Supermarkt in Dortmund. Frische Produkte, Gew\xFCrze und Spezialit\xE4ten aus ganz Afrika.",rating:4.3,image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop",priceLevel:1,hours:"Mo-Sa: 09:00-20:00",products:[]},{id:9,name:"Style Africain Dortmund",type:"coiffeur",address:"Rheinische Stra\xDFe 89, 44137 Dortmund",coordinates:{lat:51.51,lng:7.47},phone:"+49 231 778899",description:"Spezialisiert auf afrikanische Frisuren, Braiding und Extensions. Erfahrene Stylisten aus ganz Afrika.",rating:4.6,image:"https://images.unsplash.com/photo-1562322140-8198e5d5067e?w=800&h=600&fit=crop",priceLevel:2,hours:"Mo-Sa: 10:00-19:00",products:[]},{id:10,name:"Kilimanjaro Hamburg",type:"restaurant",address:"Gro\xDFe Bergstra\xDFe 123, 22767 Hamburg",coordinates:{lat:53.5511,lng:9.9937},phone:"+49 40 334455",description:"Ostafriikanisches Restaurant mit Swahili-K\xFCche. Authentische Gerichte aus Tansania und Kenia.",rating:4.4,image:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=800&h=600&fit=crop",cuisine:"Ostafrikanische",priceLevel:3,hours:"Mi-So: 18:00-23:00",products:[]},{id:11,name:"Baobab Markt Hamburg",type:"epicerie",address:"Steindamm 55, 20099 Hamburg",coordinates:{lat:53.555,lng:10.005},phone:"+49 40 667788",description:"Afrikanische Lebensmittel und Produkte im Zentrum von Hamburg. Von Kochbananen bis Shea-Butter.",rating:4.2,image:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=800&h=600&fit=crop",priceLevel:2,hours:"Mo-Sa: 08:00-20:00",products:[]},{id:12,name:"Senegal Eck K\xF6ln",type:"restaurant",address:"Venloer Stra\xDFe 234, 50823 K\xF6ln",coordinates:{lat:50.9375,lng:6.9603},phone:"+49 221 889900",description:"Traditionelles senegalesisches Restaurant. Thieboudienne und Yassa-Spezialit\xE4ten in gem\xFCtlicher Atmosph\xE4re.",rating:4.8,image:"https://images.unsplash.com/photo-1493770348161-369560ae357d?w=800&h=600&fit=crop",cuisine:"Senegalesische",priceLevel:2,hours:"Do-Mo: 17:00-22:00",products:[]},{id:13,name:"Afrika Center K\xF6ln",type:"services",address:"Wilhelmsplatz 12, 50674 K\xF6ln",coordinates:{lat:50.94,lng:6.95},phone:"+49 221 445566",description:"Beratungszentrum f\xFCr afrikanische Community. Geldtransfer, Visa-Service und kulturelle Veranstaltungen.",rating:4.1,image:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop",priceLevel:1,hours:"Mo-Fr: 09:00-18:00"},{id:14,name:"Addis Abeba Frankfurt",type:"restaurant",address:"Leipziger Stra\xDFe 78, 60487 Frankfurt am Main",coordinates:{lat:50.1109,lng:8.6821},phone:"+49 69 778899",description:"\xC4thiopisches Restaurant mit traditioneller Injera und Wat. Authentische Gew\xFCrze direkt aus \xC4thiopien.",rating:4.6,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=800&h=600&fit=crop",cuisine:"\xC4thiopische",priceLevel:2,hours:"Di-So: 17:30-23:00"},{id:15,name:"Wax Print Fashion Frankfurt",type:"vetement",address:"Kaiserstra\xDFe 199, 60311 Frankfurt am Main",coordinates:{lat:50.115,lng:8.685},phone:"+49 69 556677",description:"Traditionelle afrikanische Mode und moderne Designs. Wax-Print Stoffe und ma\xDFgeschneiderte Kleidung.",rating:4.5,image:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=800&h=600&fit=crop",priceLevel:3,hours:"Mo-Sa: 11:00-19:00"},{id:2,name:"Afro Market Hamburg",type:"epicerie",address:"Steindamm 78, 20099 Hamburg",coordinates:{lat:53.5511,lng:10.0067},phone:"+49 40 87654321",description:"Vollst\xE4ndiger afrikanischer Supermarkt mit frischen Produkten, authentischen Gew\xFCrzen, Kosmetik und traditionellen Artikeln. Gro\xDFe Auswahl an tropischen Gem\xFCsen und direkt aus Afrika importierten Produkten.",rating:4.3,image:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=800&h=600&fit=crop",priceLevel:2,hours:"Mo-Sa: 09:00-20:00"},{id:3,name:"Salon Nappy Queen",type:"coiffeur",address:"K\xF6nigstra\xDFe 45, 70173 Stuttgart",coordinates:{lat:48.7758,lng:9.1829},phone:"+49 711 98765432",description:"Friseursalon spezialisiert auf afro und krauses Haar. Flechtwerk, Gl\xE4ttung, nat\xFCrliche Pflege und sch\xFCtzende Frisuren. Erfahrenes Team und hochwertige Produkte.",rating:4.8,image:"https://images.unsplash.com/photo-1560066984-138dadb4c035?w=800&h=600&fit=crop",priceLevel:3,hours:"Di-Sa: 10:00-19:00"},{id:4,name:"Le Baobab M\xFCnchen",type:"restaurant",address:"Landwehrstra\xDFe 32, 80336 M\xFCnchen",coordinates:{lat:48.1351,lng:11.582},phone:"+49 89 11223344",description:"Elegantes senegalesisches Restaurant mit raffinierter K\xFCche. Modernes Ambiente mit traditionellen Akzenten. Spezialit\xE4ten: Thieboudienne, Maf\xE9, hausgemachter Bissap.",rating:4.6,image:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&h=600&fit=crop",cuisine:"Senegalesische",priceLevel:3,hours:"Mi-So: 18:00-23:00"},{id:5,name:"Afrika Mode K\xF6ln",type:"vetement",address:"Ehrenstra\xDFe 67, 50672 K\xF6ln",coordinates:{lat:50.9375,lng:6.9603},phone:"+49 221 55667788",description:"Afrikanische Modeboutique mit traditioneller und zeitgen\xF6ssischer Kleidung. Wax, Bogolan, Dashiki, authentischer Schmuck und Accessoires. Ma\xDFanfertigung verf\xFCgbar.",rating:4.4,image:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=800&h=600&fit=crop",priceLevel:3,hours:"Mo-Sa: 10:00-19:00"},{id:6,name:"Transfert Afrika Services",type:"services",address:"Warschauer Str. 34, 10243 Berlin",coordinates:{lat:52.5058,lng:13.4498},phone:"+49 30 99887766",description:"Geldtransfer nach Afrika, W\xE4hrungswechsel und Finanzberatung. Offizieller Partner von Western Union und Money Gram. Schneller und sicherer Service.",rating:4.2,image:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=600&fit=crop",priceLevel:1,hours:"Mo-Fr: 09:00-18:00, Sa: 10:00-16:00"}];constructor(){}getAllAfroshops(){return this.afroshops}getAfroshopById(t){return this.afroshops.find(e=>e.id==t)}getAfroshopsByType(t){return this.afroshops.filter(e=>e.type===t)}searchAfroshops(t){let e=t.toLowerCase();return this.afroshops.filter(i=>i.name.toLowerCase().includes(e)||i.cuisine?.toLowerCase().includes(e)||i.description.toLowerCase().includes(e))}getAfroshopsByCity(t){if(!t)return this.afroshops;let i={berlin:["Berlin"],hamburg:["Hamburg"],m\u00FCnchen:["M\xFCnchen","Munich"],k\u00F6ln:["K\xF6ln","Cologne"],frankfurt:["Frankfurt am Main","Frankfurt"],stuttgart:["Stuttgart"],d\u00FCsseldorf:["D\xFCsseldorf"],dortmund:["Dortmund"],essen:["Essen"],leipzig:["Leipzig"],bremen:["Bremen"],dresden:["Dresden"],hannover:["Hannover"],n\u00FCrnberg:["N\xFCrnberg","Nuremberg"]}[t.toLowerCase()]||[t];return this.afroshops.filter(r=>i.some(o=>r.address.toLowerCase().includes(o.toLowerCase())))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var ge=class n{constructor(t,e){this.firestore=t;this.storage=e}getAllAfroshops(){console.log("\u{1F525} D\xE9but getAllAfroshops()");let t=wt(this.firestore,"afroshops");return ie(Rs(t)).pipe(N(e=>{console.log("\u{1F525} Documents bruts depuis Firebase:",e.size);let i=[];e.forEach(o=>{let c=o.data();c.id=o.id,i.push(c)}),console.log("\u{1F525} Premier document:",i[0]),console.log("\u{1F525} Tous les noms:",i.map(o=>o.name));let r=i.map(o=>this.mapFirebaseDocToAfroshopData(o));return console.log("\u{1F525} Documents mapp\xE9s:",r.length),console.log("\u{1F525} Noms apr\xE8s mapping:",r.map(o=>o.name)),r.sort((o,c)=>o.name.localeCompare(c.name)),r}))}mapFirebaseDocToAfroshopData(t){console.log("\u{1F525} Mapping document:",t.name,t);let e={id:t.id,name:t.name||"",type:t.type||"services",address:t.address||"",coordinates:{lat:t.coordinates?.lat||0,lng:t.coordinates?.lng||0},phone:t.phone||"",description:t.description||"",rating:t.rating||4,image:t.image||"",cuisine:t.cuisine||"",priceLevel:t.priceLevel||2,hours:t.hours||"",website:t.website||"",createdBy:t.createdBy,createdByName:t.createdByName,createdAt:t.createdAt,verified:t.verified};return console.log("\u{1F525} R\xE9sultat mapping:",e.name,e),console.log("\u{1F525} CreatedBy dans mapping:",e.createdBy),e}getAfroshopsByCity(t){let e=wt(this.firestore,"afroshops"),i=Mn(e,mi("name")),r=c=>c.toLowerCase().normalize("NFD").replace(/[ -- --]/g,"").replace(/[-_ ]/g,"").trim(),o=r(t);return wn(i,{idField:"id"}).pipe(N(c=>c.filter(d=>d.city&&r(d.city).includes(o))))}getAfroshopsByType(t){let e=wt(this.firestore,"afroshops"),i=Mn(e,Sn("type","==",t),mi("rating","desc"));return wn(i,{idField:"id"})}getAfroshopById(t){return w(this,null,function*(){try{let e=Qe(this.firestore,"afroshops",t),i=yield $t(e);if(i.exists()){let r=i.data();return this.mapFirebaseDocToAfroshopData(G(b({},r),{id:i.id}))}return}catch(e){console.error("Fehler beim Laden des Afroshops:",e);return}})}addAfroshop(t){return w(this,null,function*(){let e=wt(this.firestore,"afroshops"),i=G(b({},t),{createdAt:new Date,updatedAt:new Date,views:0,likes:0,verified:!1});return(yield Ds(e,i)).id})}updateAfroshop(t,e){return w(this,null,function*(){let i=Qe(this.firestore,"afroshops",t),r=G(b({},e),{updatedAt:new Date});yield Xr(i,r)})}deleteAfroshop(t){return w(this,null,function*(){let e=Qe(this.firestore,"afroshops",t);yield Ts(e)})}searchAfroshops(t){let e=wt(this.firestore,"afroshops"),i=Mn(e,Sn("name",">=",t),Sn("name","<=",t+"\uF8FF"),Yr(20));return wn(i,{idField:"id"})}getTopRatedAfroshops(t=10){let e=wt(this.firestore,"afroshops"),i=Mn(e,Sn("verified","==",!0),mi("rating","desc"),Yr(t));return wn(i,{idField:"id"})}incrementViews(t){return w(this,null,function*(){try{let e=Qe(this.firestore,"afroshops",t);yield Xr(e,{views:1})}catch(e){console.error("Erreur lors de l'incr\xE9mentation des vues:",e)}})}uploadImage(t){return w(this,null,function*(){try{if(console.log("\u{1F525} Firebase Storage upload d\xE9marr\xE9..."),console.log("\u{1F4C1} Fichier \xE0 upload:",t.name,`${(t.size/1024).toFixed(0)}KB`),!this.storage)throw new Error("Firebase Storage non initialis\xE9");let e=Date.now(),i=t.name.replace(/[^a-zA-Z0-9.-]/g,"_"),r=`afroshops/${e}_${i}`;console.log("\u{1F4DD} Nom du fichier:",r);let o=jc(this.storage,r);console.log("\u{1F4CD} R\xE9f\xE9rence cr\xE9\xE9e:",o),console.log("\u2B06\uFE0F Upload en cours...");let c=yield Gc(o,t);console.log("\u2705 Upload termin\xE9, snapshot:",c),console.log("\u{1F517} R\xE9cup\xE9ration URL...");let d=yield Uc(c.ref);return console.log("\u2705 URL obtenue:",d),d}catch(e){throw console.error("\u274C Erreur Firebase Storage:",e),console.error("\u274C Type d'erreur:",typeof e),console.error("\u274C Stack:",e instanceof Error?e.stack:"Pas de stack"),e instanceof Error?new Error(`Firebase Storage Fehler: ${e.message}`):new Error("Unbekannter Firebase Storage Fehler")}})}static \u0275fac=function(e){return new(e||n)(A(lt),A(Tt))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var He=class n{businessTypeTranslations={restaurant:"Restaurant",epicerie:"Lebensmittelgesch\xE4ft",coiffeur:"Friseur",vetement:"Modegesch\xE4ft",services:"Dienstleistungen"};businessTypePlural={restaurant:"Restaurants",epicerie:"Lebensmittelgesch\xE4fte",coiffeur:"Friseure",vetement:"Modegesch\xE4fte",services:"Dienstleistungen"};businessTypeIcons={restaurant:"\u{1F37D}\uFE0F",epicerie:"\u{1F6D2}",coiffeur:"\u2702\uFE0F",vetement:"\u{1F457}",services:"\u{1F3E6}"};errorMessages={"auth/user-not-found":"Benutzer nicht gefunden","auth/wrong-password":"Falsches Passwort","auth/email-already-in-use":"E-Mail-Adresse wird bereits verwendet","auth/weak-password":"Passwort ist zu schwach","auth/invalid-email":"Ung\xFCltige E-Mail-Adresse","auth/popup-blocked":"Popup wurde blockiert. Bitte erlauben Sie Popups f\xFCr diese Website.","auth/popup-closed-by-user":"Anmeldung wurde abgebrochen","auth/cancelled-popup-request":"Anmeldung wurde abgebrochen","popup-blocked":"Popup wurde von Ihrem Browser blockiert","connection-error":"Verbindungsfehler. \xDCberpr\xFCfen Sie Ihre Internetverbindung.","general-error":"Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut."};generalMessages={"login-success":"Erfolgreich angemeldet!","logout-success":"Erfolgreich abgemeldet!","registration-success":"Konto erfolgreich erstellt!","data-saved":"Daten erfolgreich gespeichert!","data-deleted":"Daten erfolgreich gel\xF6scht!",loading:"Wird geladen...",saving:"Wird gespeichert...","confirma-delete":"Sind Sie sicher, dass Sie dies l\xF6schen m\xF6chten?"};getBusinessTypeName(t,e=!1){return e?this.businessTypePlural[t]||t:this.businessTypeTranslations[t]||t}getBusinessTypeIcon(t){return this.businessTypeIcons[t]||"\u{1F3EA}"}getBusinessTypeDisplay(t,e=!1){let i=this.getBusinessTypeIcon(t),r=this.getBusinessTypeName(t,e);return`${i} ${r}`}getErrorMessage(t){return this.errorMessages[t]||this.errorMessages["general-error"]}getMessage(t){return this.generalMessages[t]||t}getAllBusinessTypes(){return Object.keys(this.businessTypeTranslations).map(t=>({value:t,label:this.businessTypeTranslations[t],icon:this.businessTypeIcons[t]}))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var ee=class n{constructor(t,e){this.auth=t;this.translationService=e;this.user$=ws(this.auth)}user$;register(t,e,i){return w(this,null,function*(){try{let r=yield Ms(this.auth,t,e);return i&&r.user&&(yield ks(r.user,{displayName:i})),{uid:r.user.uid,email:r.user.email,displayName:i||r.user.displayName,photoURL:r.user.photoURL}}catch(r){throw console.error("Erreur lors de l'inscription:",r),this.handleAuthError(r)}})}login(t,e){return w(this,null,function*(){try{let i=yield Es(this.auth,t,e);return{uid:i.user.uid,email:i.user.email,displayName:i.user.displayName,photoURL:i.user.photoURL}}catch(i){throw console.error("Erreur lors de la connexion:",i),this.handleAuthError(i)}})}loginWithGoogle(){return w(this,null,function*(){try{console.log("\u{1F680} Initialisation du provider Google...");let t=new bs;t.setCustomParameters({prompt:"select_account"}),console.log("\u{1F50D} V\xE9rification du support des popups..."),this.checkPopupSupport(),console.log("\u{1F510} Tentative de connexion avec popup...");let e=yield Os(this.auth,t);return console.log("\u2705 Connexion r\xE9ussie, utilisateur:",e.user.email),{uid:e.user.uid,email:e.user.email,displayName:e.user.displayName,photoURL:e.user.photoURL}}catch(t){throw console.error("\u274C Erreur d\xE9taill\xE9e:",{name:t.name,code:t.code,message:t.message,customData:t.customData}),t.code==="auth/popup-blocked"?console.log("\u{1F6AB} Popup bloqu\xE9e d\xE9tect\xE9e"):t.code==="auth/popup-closed-by-user"?console.log("\u{1F44B} Popup ferm\xE9e par l'utilisateur"):t.code==="auth/cancelled-popup-request"&&console.log("\u{1F504} Requ\xEAte popup annul\xE9e"),this.handleAuthError(t)}})}checkPopupSupport(){try{let t=window.open("","_blank","width=1,height=1");if(t)t.close();else throw new Error("popup-blocked")}catch{throw new Error("popup-blocked")}}logout(){return w(this,null,function*(){try{yield Ps(this.auth)}catch(t){throw console.error("Erreur lors de la d\xE9connexion:",t),this.handleAuthError(t)}})}getCurrentUser(){return this.auth.currentUser}isLoggedIn(){return this.getCurrentUser()!==null}handleAuthError(t){let e="Ein Fehler ist aufgetreten";if(t.code)switch(t.code){case"auth/email-already-in-use":e=this.translationService.getErrorMessage("auth/email-already-in-use");break;case"auth/weak-password":e=this.translationService.getErrorMessage("auth/weak-password");break;case"auth/invalid-email":e=this.translationService.getErrorMessage("auth/invalid-email");break;case"auth/user-not-found":e=this.translationService.getErrorMessage("auth/user-not-found");break;case"auth/wrong-password":e=this.translationService.getErrorMessage("auth/wrong-password");break;case"auth/too-many-requests":e="Zu viele Versuche. Bitte versuchen Sie es sp\xE4ter erneut";break;case"auth/user-disabled":e="Dieses Konto wurde deaktiviert";break;case"auth/operation-not-allowed":e="Diese Operation ist nicht erlaubt";break;case"auth/popup-closed-by-user":e=this.translationService.getErrorMessage("auth/popup-closed-by-user");break;case"auth/popup-blocked":e=this.translationService.getErrorMessage("auth/popup-blocked");break;case"popup-blocked":e=this.translationService.getErrorMessage("popup-blocked");break;case"auth/cancelled-popup-request":e=this.translationService.getErrorMessage("auth/cancelled-popup-request");break;default:e=this.translationService.getErrorMessage("general-error")}return new Error(e)}static \u0275fac=function(e){return new(e||n)(A(ys),A(He))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var gr=class n{constructor(){}getCurrentPosition(){return new Ke(t=>{if(!navigator.geolocation){console.error("Geolocation ist in diesem Browser nicht verf\xFCgbar"),t.next(null),t.complete();return}let e={enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5};navigator.geolocation.getCurrentPosition(i=>{let r={lat:i.coords.latitude,lng:i.coords.longitude,accuracy:i.coords.accuracy,timestamp:i.timestamp};t.next(r),t.complete()},i=>{switch(console.error("Fehler beim Abrufen der Position:",i),i.code){case i.PERMISSION_DENIED:console.error("Standortzugriff wurde verweigert");break;case i.POSITION_UNAVAILABLE:console.error("Standortinformationen nicht verf\xFCgbar");break;case i.TIMEOUT:console.error("Zeit\xFCberschreitung beim Abrufen des Standorts");break}t.next(null),t.complete()},e)})}watchPosition(){return new Ke(t=>{if(!navigator.geolocation){t.next(null),t.complete();return}let e={enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4},i=navigator.geolocation.watchPosition(r=>{let o={lat:r.coords.latitude,lng:r.coords.longitude,accuracy:r.coords.accuracy,timestamp:r.timestamp};t.next(o)},r=>{console.error("Fehler beim \xDCberwachen der Position:",r),t.next(null)},e);return()=>{navigator.geolocation.clearWatch(i)}})}calculateDistance(t,e,i,r){let c=this.deg2rad(i-t),d=this.deg2rad(r-e),u=Math.sin(c/2)*Math.sin(c/2)+Math.cos(this.deg2rad(t))*Math.cos(this.deg2rad(i))*Math.sin(d/2)*Math.sin(d/2),f=6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)));return Math.round(f*100)/100}deg2rad(t){return t*(Math.PI/180)}isGeolocationSupported(){return"geolocation"in navigator}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};ri();var ah="https://nominatim.openstreetmap.org/search",vt=class n{constructor(t){this.http=t}GOOGLE_MAPS_API_KEY=nt.googleMapsApiKey;GEOCODING_URL="https://maps.googleapis.com/maps/api/geocode/json";getTravelDuration(t,e){let i=this.GOOGLE_MAPS_API_KEY,r="https://maps.googleapis.com/maps/api/directions/json",c=["driving","walking"].map(d=>{let u=`${r}?origin=${t.lat},${t.lng}&destination=${e.lat},${e.lng}&mode=${d}&key=${i}`;return this.http.get(u).pipe(N(g=>g.routes?.length&&g.routes[0].legs?.length?{mode:d,duration:g.routes[0].legs[0].duration.text}:{mode:d,duration:void 0}),he(()=>S({mode:d,duration:void 0})))});return new Ke(d=>{let u={},g=0;c.forEach(f=>{f.subscribe(M=>{u[M.mode]=M.duration,g++,g===c.length&&(d.next({driving:u.driving,walking:u.walking}),d.complete())})})})}geocodeWithGoogleMaps(t){let e={address:t,key:this.GOOGLE_MAPS_API_KEY,language:"de",region:"de"};return this.http.get(this.GEOCODING_URL,{params:e}).pipe(N(i=>{if(i.status==="OK"&&i.results?.length>0){let r=i.results[0],o=r.geometry.location;return{lat:o.lat,lng:o.lng,formatted_address:r.formatted_address,place_id:r.place_id,accuracy:"APPROXIMATE"}}return null}),he(i=>(console.error("\u274C Erreur g\xE9ocodage Google Maps:",i),S(null))))}geocodeWithNominatim(t){let e={q:t,format:"json",addressdetails:"1",limit:"1",countrycodes:"de"};return this.http.get(ah,{params:e}).pipe(N(i=>{if(i?.length>0){let r=i[0];return{lat:parseFloat(r.lat),lng:parseFloat(r.lon),formatted_address:r.display_name,accuracy:r.type}}return null}),he(i=>(console.error("\u274C Erreur Nominatim:",i),S(null))))}extractCityFromAddress(t){let e=t.match(/\b(\d{5})\b/);if(e){let r=t.split(e[0]);if(r.length>1)return r[1].replace(/[^a-zA-Z\s,]/g,"").trim().split(",").map(d=>d.trim()).filter(Boolean)[0]||null}let i=t.split(",").map(r=>r.trim()).filter(Boolean);return i.length>1?i[i.length-1]:null}geocodeWithFallback(t){let e=t.toLowerCase(),i=Object.entries(this.CITY_COORDINATES).sort((r,o)=>o[0].length-r[0].length);for(let[r,o]of i)if(new RegExp(`\\b${r}\\b`,"i").test(e))return{lat:o.lat,lng:o.lng,formatted_address:`${r}, Deutschland`,accuracy:"APPROXIMATE"};return console.warn("\u26A0\uFE0F Fallback \u2014 aucune correspondance trouv\xE9e:",t),null}CITY_COORDINATES={berlin:{lat:52.52,lng:13.405},hamburg:{lat:53.5511,lng:9.9937},m\u00FCnchen:{lat:48.1351,lng:11.582},k\u00F6ln:{lat:50.9375,lng:6.9603},frankfurt:{lat:50.1109,lng:8.6821},stuttgart:{lat:48.7758,lng:9.1829},dortmund:{lat:51.5136,lng:7.4653},leipzig:{lat:51.3397,lng:12.3731}};reverseGeocode(t,e){if(!this.GOOGLE_MAPS_API_KEY)return S({address:`${t.toFixed(4)}, ${e.toFixed(4)}`});let i={latlng:`${t},${e}`,key:this.GOOGLE_MAPS_API_KEY,language:"de",region:"de"};return this.http.get(this.GEOCODING_URL,{params:i}).pipe(N(r=>{if(r.status==="OK"&&r.results?.length){let o=r.results[0];return{address:o.formatted_address,components:this.parseAddressComponents(o.address_components)}}return null}),he(r=>(console.error("\u274C Erreur g\xE9ocodage inverse:",r),S(null))))}parseAddressComponents(t){let e={};return t.forEach(i=>{i.types.includes("street_number")&&(e.street_number=i.long_name),i.types.includes("route")&&(e.route=i.long_name),i.types.includes("locality")&&(e.locality=i.long_name),i.types.includes("postal_code")&&(e.postal_code=i.long_name),i.types.includes("country")&&(e.country=i.long_name)}),e}isValidCoordinates(t,e){return t!==0&&e!==0&&t>=-90&&t<=90&&e>=-180&&e<=180}calculateDistance(t,e,i,r){let c=this.deg2rad(i-t),d=this.deg2rad(r-e),u=Math.sin(c/2)**2+Math.cos(this.deg2rad(t))*Math.cos(this.deg2rad(i))*Math.sin(d/2)**2;return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))}deg2rad(t){return t*(Math.PI/180)}geocodeAddress(t){if(!t||t.trim().length===0)return S(null);let e=t.trim();return this.GOOGLE_MAPS_API_KEY&&this.GOOGLE_MAPS_API_KEY!=="YOUR_GOOGLE_MAPS_API_KEY"?this.geocodeWithGoogleMaps(e).pipe(he(i=>this.geocodeWithNominatim(e).pipe(he(()=>S(this.geocodeWithFallback(e)))))):this.geocodeWithNominatim(e).pipe(he(()=>S(this.geocodeWithFallback(e))))}static \u0275fac=function(e){return new(e||n)(A(Pi))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};function sh(n,t){if(n&1){let e=F();s(0,"button",46),y("click",function(){_(e);let r=m();return v(r.openSettings())}),l(1,"\u2699\uFE0F"),a()}}function lh(n,t){if(n&1&&(s(0,"span",52),l(1),a()),n&2){let e=m(2);p(),j("um ",e.getSelectedCityName(),"")}}function ch(n,t){n&1&&(s(0,"span",53),l(1,"um deinen Standort"),a())}function dh(n,t){if(n&1&&(s(0,"div",47)(1,"div",48),l(2," \u{1F3AF} Suche in 50km Umkreis "),C(3,lh,2,1,"span",49)(4,ch,2,0,"span",50),a(),s(5,"div",51),l(6),a()()),n&2){let e=m();p(3),h("ngIf",e.selectedCity),p(),h("ngIf",!e.selectedCity),p(2),Ae(" ",e.filteredAfroshops.length," von ",e.allAfroshops.length," Afroshops angezeigt ")}}function uh(n,t){if(n&1){let e=F();s(0,"div",54)(1,"app-map",55),y("shopSelected",function(r){_(e);let o=m();return v(o.viewAfroshopDetail(r))}),a()()}if(n&2){let e=m();p(),h("afroshops",e.filteredAfroshops)("userLocation",e.userLocation)}}function ph(n,t){if(n&1){let e=F();s(0,"button",76),y("click",function(r){_(e);let o=m().$implicit,c=m(2);return v(c.editAfroshop(r,o.id))}),l(1," \u270F\uFE0F "),a()}}function gh(n,t){if(n&1&&(s(0,"span"),l(1),a()),n&2){let e=m(2).$implicit,i=m(2);p(),Ae(" ",i.getDirectionsDuration(e)," \u2013 ",i.getTravelDurationDisplay(e)," ")}}function hh(n,t){if(n&1&&(s(0,"div",77),l(1),C(2,gh,2,2,"span",78),a()),n&2){let e=m().$implicit,i=m(2);p(),j(" \u{1F3AF} ",i.getDistanceFromUser(e)," "),p(),h("ngIf",i.getTravelDurationDisplay(e))}}function mh(n,t){if(n&1){let e=F();s(0,"div",58)(1,"div",59),y("click",function(){let r=_(e).$implicit,o=m(2);return v(o.viewAfroshopDetail(r.id))}),s(2,"img",60),y("error",function(r){let o=_(e).$implicit,c=m(2);return v(c.onImageError(r,o.type))}),a(),s(3,"div",61),l(4),a(),C(5,ph,2,0,"button",62),s(6,"div",63)(7,"span",64),l(8,"\u{1F4CD} Details ansehen"),a()()(),s(9,"div",65)(10,"h3",66),l(11),a(),s(12,"p",67),l(13),a(),s(14,"div",68)(15,"span",69),l(16),a(),s(17,"span",70),l(18),a(),s(19,"span",71),l(20),Be(21,"titlecase"),a()(),C(22,hh,3,2,"div",72),s(23,"div",73)(24,"a",74),l(25,"\u{1F5FA}\uFE0F Karte anzeigen"),a(),s(26,"a",75),l(27,"\u{1F697} Route"),a()()()()}if(n&2){let e=t.$implicit,i=m(2);p(2),h("src",e.image||i.getDefaultImage(e.type),ke)("alt",e.name),p(),st(e.type),p(),j(" ",i.getBusinessTypeDisplay(e.type)," "),p(),h("ngIf",i.canEditAfroshop(e)),p(6),K(e.name),p(2),j("\u{1F4CD} ",i.getLocationDisplay(e.address),""),p(3),j("\u2B50 ",e.rating,""),p(2),K(i.getPriceLevel(e.priceLevel)),p(2),K(Je(21,14,e.type)),p(2),h("ngIf",i.userLocation),p(2),h("href",i.getGoogleMapsUrl(e.address),ke),p(2),h("href",i.getGoogleMapsRouteUrl(e.address),ke)}}function fh(n,t){if(n&1&&(s(0,"div",56),C(1,mh,28,16,"div",57),a()),n&2){let e=m();p(),h("ngForOf",e.filteredAfroshops)}}function _h(n,t){if(n&1){let e=F();s(0,"div",79)(1,"div",80)(2,"div",81),l(3,"\u{1F50D}"),a(),s(4,"h3"),l(5,"Kein Gesch\xE4ft gefunden"),a(),s(6,"p"),l(7,"Kein Afroshop entspricht deinen Suchkriterien"),a(),s(8,"button",82),y("click",function(){_(e);let r=m();return v(r.clearSearch())}),l(9," Alle Gesch\xE4fte anzeigen "),a()()()}}var hr=class n{constructor(t,e,i,r,o,c,d,u){this.afroshopService=t;this.firebaseService=e;this.authService=i;this.translationService=r;this.router=o;this.geolocationService=c;this.geocodingService=d;this.firestore=u;this.user$=this.authService.user$}getGoogleMapsUrl(t){return t?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(t)}`:"https://maps.google.com"}getGoogleMapsRouteUrl(t){return t?`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(t)}`:"https://maps.google.com"}directionsService=null;travelDurations={};allAfroshops=[];filteredAfroshops=[];searchTerm="";selectedType="";selectedCity="";customCityName="";showMap=!1;userLocation=null;user$;isAdmin=!1;goToAddAfroshop(){this.authService.user$.subscribe(t=>{t?this.router.navigate(["/add-afroshop"]):this.router.navigate(["/login"],{queryParams:{returnUrl:"/add-afroshop"}})})}openSettings(){this.router.navigate(["/admin"])}cityCoordinates={berlin:{lat:52.52,lng:13.405},hamburg:{lat:53.5511,lng:9.9937},m\u00FCnchen:{lat:48.1351,lng:11.582},k\u00F6ln:{lat:50.9375,lng:6.9603},frankfurt:{lat:50.1109,lng:8.6821},stuttgart:{lat:48.7758,lng:9.1829},d\u00FCsseldorf:{lat:51.2277,lng:6.7735},dortmund:{lat:51.5136,lng:7.4653},essen:{lat:51.4556,lng:7.0116},leipzig:{lat:51.3397,lng:12.3731},bremen:{lat:53.0793,lng:8.8017},dresden:{lat:51.0504,lng:13.7373},hannover:{lat:52.3759,lng:9.732},n\u00FCrnberg:{lat:49.4521,lng:11.0767}};ngOnInit(){return w(this,null,function*(){this.authService.user$.subscribe(t=>w(this,null,function*(){if(t?.uid){let e=Qe(this.firestore,"roles/admins"),r=(yield $t(e)).data();console.log("[DEBUG] Firestore adminDoc:",r),console.log("[DEBUG] User UID:",t.uid),this.isAdmin=r?.uids?.includes(t.uid)??!1,console.log("[DEBUG] isAdmin:",this.isAdmin)}else this.isAdmin=!1,console.log("[DEBUG] Pas d'utilisateur connect\xE9, isAdmin:",this.isAdmin)})),window.google&&window.google.maps&&(this.directionsService=new window.google.maps.DirectionsService),navigator.geolocation&&navigator.geolocation.getCurrentPosition(t=>{this.userLocation={lat:t.coords.latitude,lng:t.coords.longitude}}),this.firebaseService.getAllAfroshops().subscribe({next:t=>{this.allAfroshops=this.fixInvalidCoordinates(t),this.filteredAfroshops=this.allAfroshops},error:t=>{console.error("Erreur lors du chargement Firebase:",t),this.allAfroshops=this.afroshopService.getAllAfroshops(),this.filteredAfroshops=this.allAfroshops}})})}onSearchChange(){this.applyFilters(),this.userLocation&&this.sortAfroshopsByDistance()}onTypeFilterChange(){this.applyFilters(),this.userLocation&&this.sortAfroshopsByDistance()}applyFilters(){let t=this.allAfroshops;if(this.userLocation&&(t=t.filter(e=>e.coordinates.lat===0&&e.coordinates.lng===0?!0:this.geolocationService.calculateDistance(this.userLocation.lat,this.userLocation.lng,e.coordinates.lat,e.coordinates.lng)<=50)),this.selectedType&&(t=t.filter(e=>e.type===this.selectedType)),this.searchTerm.trim()!==""){let e=this.searchTerm.toLowerCase();t=t.filter(i=>i.name.toLowerCase().includes(e)||i.cuisine?.toLowerCase().includes(e)||i.description.toLowerCase().includes(e))}this.filteredAfroshops=t}clearSearch(){this.searchTerm="",this.selectedType="",this.selectedCity="",this.userLocation=null,this.filteredAfroshops=this.allAfroshops,this.applyFilters()}viewAfroshopDetail(t){this.router.navigate(["/afroshop",t])}getTypeIcon(t){return{restaurant:"\u{1F37D}\uFE0F",epicerie:"\u{1F6D2}",coiffeur:"\u2702\uFE0F",vetement:"\u{1F457}",services:"\u{1F3E6}"}[t]}getPriceLevel(t){return"\u20AC".repeat(t)}toggleMapView(){this.showMap=!this.showMap}onCityChange(){if(this.customCityName="",this.selectedCity){let t=this.cityCoordinates[this.selectedCity];t&&(this.userLocation=t,this.applyFilters(),this.sortAfroshopsByDistance())}else this.userLocation=null,this.applyFilters()}useCurrentLocation(){if(!confirm(`\u{1F4CD} GPS Standort aktivieren?

AfroConnect m\xF6chte deinen Standort nutzen um:
\u{1F3AF} Afroshops in deiner N\xE4he zu finden
\u{1F4CF} Entfernungen genau zu berechnen
\u{1F5FA}\uFE0F Dir die beste Route zu zeigen

Dein Standort wird NICHT gespeichert und bleibt privat.

GPS jetzt aktivieren?`)){alert(`\u{1F44D} Kein Problem!

Du kannst jederzeit:
\u2022 Eine Stadt manuell eingeben
\u2022 Aus der Liste w\xE4hlen
\u2022 GPS sp\xE4ter aktivieren`);return}this.geolocationService.getCurrentPosition().subscribe({next:e=>{e?(this.userLocation={lat:e.lat,lng:e.lng},this.selectedCity="",this.applyFilters(),this.sortAfroshopsByDistance(),alert(`\u2705 Standort erfolgreich ermittelt!

\u{1F3AF} Afroshops werden jetzt nach Entfernung sortiert.
\u{1F4CF} Du siehst die genauen Distanzen zu jedem Gesch\xE4ft.`)):this.fallbackToDefaultLocationWithChoice()},error:e=>{this.handleGeolocationError(e)}})}handleGeolocationError(t){if(t.code)switch(t.code){case 1:this.showGPSActivationDialog();break;case 2:this.showGPSUnavailableDialog();break;case 3:this.showGPSTimeoutDialog();break;default:this.showGenericGPSError()}else this.showHTTPSRequiredDialog()}showGPSActivationDialog(){confirm(`\u{1F4CD} Standort-Zugriff erforderlich

Um Afroshops in deiner N\xE4he zu finden, ben\xF6tigt AfroConnect Zugriff auf deinen Standort.

\u2705 Schritte:
1. Klicke "OK" um die Berechtigung zu erteilen
2. W\xE4hle "Zulassen" wenn der Browser fragt
3. Bei iOS: Einstellungen > Safari > Standort aktivieren

M\xF6chtest du es nochmal versuchen?`)?this.useCurrentLocation():this.fallbackToDefaultLocationWithChoice()}showGPSUnavailableDialog(){confirm(`\u{1F6F0}\uFE0F GPS-Signal nicht verf\xFCgbar

Dein GPS-Signal ist momentan nicht erreichbar.

\u{1F4A1} L\xF6sungen:
\u2022 Gehe ins Freie oder n\xE4her zum Fenster
\u2022 Aktiviere GPS in den Ger\xE4te-Einstellungen
\u2022 Starte die App neu

Nochmal versuchen?`)?this.useCurrentLocation():this.fallbackToDefaultLocationWithChoice()}showGPSTimeoutDialog(){confirm(`\u23F1\uFE0F GPS-Anfrage zu langsam

Die Standort-Ermittlung dauert zu lange.

\u{1F4A1} Tipps:
\u2022 \xDCberpr\xFCfe deine Internetverbindung
\u2022 Gehe ins Freie f\xFCr besseres GPS-Signal
\u2022 Versuche es in ein paar Sekunden nochmal

Erneut versuchen?`)?this.useCurrentLocation():this.fallbackToDefaultLocationWithChoice()}showGenericGPSError(){alert(`\u274C Standort-Fehler

Ein unbekannter Fehler ist aufgetreten.

\u{1F4CD} Berlin wird als Standard verwendet.
Du kannst jederzeit eine Stadt manuell ausw\xE4hlen.`),this.fallbackToDefaultLocationWithChoice()}showHTTPSRequiredDialog(){let t=window.location.protocol==="https:";alert(t?`\u{1F527} Standort-Service Problem

Der Standort-Service ist momentan nicht verf\xFCgbar.

\u{1F4CD} Berlin wird als Standard verwendet.
Versuche es sp\xE4ter nochmal oder w\xE4hle eine Stadt manuell.`:`\u{1F512} HTTPS erforderlich

F\xFCr mobile Ger\xE4te ist eine sichere HTTPS-Verbindung n\xF6tig.

\u{1F310} Verwende: https://ydi5291.github.io/AfroConnect/

\u{1F4CD} Berlin wird als Standard verwendet.`),this.fallbackToDefaultLocationWithChoice()}fallbackToDefaultLocationWithChoice(){let t=prompt(`\u{1F4CD} Standort automatisch nicht m\xF6glich

Bitte gib deine Stadt ein f\xFCr personalisierte Ergebnisse:

Beispiele: Dortmund, Hamburg, M\xFCnchen, K\xF6ln, Frankfurt, Stuttgart, D\xFCsseldorf...

Deine Stadt:`,localStorage.getItem("afroconnect-user-city")||"Dortmund");if(t&&t.trim()){let e=t.toLowerCase().trim();localStorage.setItem("afroconnect-user-city",e),this.cityCoordinates[e]?(this.userLocation=this.cityCoordinates[e],this.selectedCity=e,alert(`\u2705 Standort auf ${this.formatCityName(e)} gesetzt!

\u{1F3AF} Afroshops werden nach Entfernung zu ${this.formatCityName(e)} sortiert.
\u{1F4CF} Du siehst jetzt relevante Gesch\xE4fte in deiner N\xE4he.`)):(this.userLocation=this.cityCoordinates.dortmund||this.cityCoordinates.berlin,this.selectedCity="dortmund",alert(`\u{1F4CD} Stadt "${t}" nicht erkannt

Dortmund wurde als Standard-Standort gew\xE4hlt.

Du kannst jederzeit:
\u2022 Eine andere Stadt aus der Liste w\xE4hlen
\u2022 Eine andere Stadt eingeben
\u2022 GPS nochmal versuchen`))}else this.userLocation=this.cityCoordinates.dortmund||this.cityCoordinates.berlin,this.selectedCity="dortmund",alert(`\u{1F4CD} Standard-Standort: Dortmund

Du kannst jederzeit:
\u2022 Eine Stadt aus der Liste w\xE4hlen
\u2022 Eine Stadt eingeben
\u2022 GPS erneut aktivieren`);this.applyFilters(),this.sortAfroshopsByDistance()}formatCityName(t){return{berlin:"Berlin",hamburg:"Hamburg",m\u00FCnchen:"M\xFCnchen",k\u00F6ln:"K\xF6ln",frankfurt:"Frankfurt am Main",stuttgart:"Stuttgart",d\u00FCsseldorf:"D\xFCsseldorf",dortmund:"Dortmund",essen:"Essen",leipzig:"Leipzig"}[t]||t.charAt(0).toUpperCase()+t.slice(1)}sortAfroshopsByDistance(){this.userLocation&&this.filteredAfroshops.sort((t,e)=>{let i=this.geolocationService.calculateDistance(this.userLocation.lat,this.userLocation.lng,t.coordinates.lat,t.coordinates.lng),r=this.geolocationService.calculateDistance(this.userLocation.lat,this.userLocation.lng,e.coordinates.lat,e.coordinates.lng);return i-r})}getDistanceFromUser(t){if(this.userLocation&&t.coordinates.lat&&t.coordinates.lng&&this.travelDurations[t.id],!this.userLocation)return"";let e=this.geolocationService.calculateDistance(this.userLocation.lat,this.userLocation.lng,t.coordinates.lat,t.coordinates.lng);return e<1?`${Math.round(e*1e3)}m entfernt`:`${e.toFixed(1)}km entfernt`}getDirectionsDuration(t){if(!this.directionsService)if(window.google&&window.google.maps)this.directionsService=new window.google.maps.DirectionsService;else return;let e=new window.google.maps.LatLng(this.userLocation.lat,this.userLocation.lng),i=new window.google.maps.LatLng(t.coordinates.lat,t.coordinates.lng);this.directionsService.route({origin:e,destination:i,travelMode:"DRIVING"},(r,o)=>{if(o==="OK"&&r.routes.length>0){let c=r.routes[0].legs[0].duration.text;this.travelDurations[t.id]=G(b({},this.travelDurations[t.id]),{driving:c})}}),this.directionsService.route({origin:e,destination:i,travelMode:"WALKING"},(r,o)=>{if(o==="OK"&&r.routes.length>0){let c=r.routes[0].legs[0].duration.text;this.travelDurations[t.id]=G(b({},this.travelDurations[t.id]),{walking:c})}})}getTravelDurationDisplay(t){let e=this.travelDurations[t.id];if(!e)return"";let i="";return e.driving&&(i+=`\u{1F697} ${e.driving}`),e.walking&&(i+=(i?" | ":"")+`\u{1F6B6} ${e.walking}`),i}addNewAfroshop(){if(!this.authService.getCurrentUser()){alert("Bitte melden Sie sich an, um einen Afroshop hinzuzuf\xFCgen."),this.router.navigate(["/login"]);return}this.router.navigate(["/add-afroshop"])}canEditAfroshop(t){let e=this.authService.getCurrentUser();return e?t.createdBy===e.uid:!1}editAfroshop(t,e){if(t.stopPropagation(),!this.authService.getCurrentUser()){alert("Bitte melden Sie sich an, um fortzufahren."),this.router.navigate(["/login"]);return}this.router.navigate(["/edit-afroshop",e])}isAdminUser(t){return!t||!t.email?!1:["youssoufdiamaldiallo@gmail.com","admin@afroconnect.de","contact@afroconnect.de"].includes(t.email)}goToAdmin(){this.router.navigate(["/admin"])}getBusinessTypeName(t){return this.translationService.getBusinessTypeName(t)}getBusinessTypeDisplay(t){return this.translationService.getBusinessTypeDisplay(t)}getBusinessTypeIcon(t){return this.translationService.getBusinessTypeIcon(t)}getAllBusinessTypes(){return this.translationService.getAllBusinessTypes()}getSelectedCityName(){return this.selectedCity?this.selectedCity.charAt(0).toUpperCase()+this.selectedCity.slice(1):""}getDefaultImage(t){return{restaurant:"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=400&h=300&fit=crop",epicerie:"https://images.unsplash.com/photo-1586350388589-e263efc1ba5a?w=400&h=300&fit=crop",coiffeur:"https://images.unsplash.com/photo-1560066984-138dadb4c035?w=400&h=300&fit=crop",vetement:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&h=300&fit=crop",services:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=400&h=300&fit=crop"}[t]}onImageError(t,e){t.target.src=this.getDefaultImage(e)}getLocationDisplay(t){if(!t||t.trim()==="")return"Adresse \xE0 confirmer";let e=t.split(",");return e.length>1?e[1].trim():t}searchCity(){if(!this.customCityName?.trim())return;let t=this.customCityName.trim().toLowerCase(),e=Object.keys(this.cityCoordinates).find(r=>r.toLowerCase().includes(t)||t.includes(r.toLowerCase()));if(e){this.selectedCity=e,this.userLocation=this.cityCoordinates[e],this.onCityChange();return}this.searchInAdditionalCities(t)||this.geocodeGermanCity(t)}searchInAdditionalCities(t){let e={werl:{lat:51.5533,lng:7.9111},lippstadt:{lat:51.6755,lng:8.3439},soest:{lat:51.5731,lng:8.1067},paderborn:{lat:51.7189,lng:8.7575},bielefeld:{lat:52.0302,lng:8.5325},m\u00FCnster:{lat:51.9607,lng:7.6261},bochum:{lat:51.4818,lng:7.2162},duisburg:{lat:51.4344,lng:6.7623},wuppertal:{lat:51.2562,lng:7.1508}},i=Object.keys(e).find(r=>r.toLowerCase().includes(t)||t.includes(r.toLowerCase()));return i?(this.userLocation=e[i],this.selectedCity="",this.applyFilters(),this.sortAfroshopsByDistance(),alert(`\u{1F4CD} Stadt gefunden: ${this.customCityName}`),!0):!1}geocodeGermanCity(t){return w(this,null,function*(){try{let e=yield fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(t)}&country=Germany&addressdetails=1&limit=5&format=json&featuretype=city,town,village`);if(!e.ok)throw new Error("Probl\xE8me de r\xE9seau");let i=yield e.json();if(i&&i.length>0){let r=i[0],o=parseFloat(r.lat),c=parseFloat(r.lon);if(!isNaN(o)&&!isNaN(c)){this.userLocation={lat:o,lng:c},this.selectedCity="",this.applyFilters(),this.sortAfroshopsByDistance();let d=r.display_name.split(",")[0];alert(`\u{1F4CD} Stadt gefunden: ${d}
\u{1F5FA}\uFE0F Koordinaten: ${o.toFixed(4)}, ${c.toFixed(4)}`)}else throw new Error("Coordonn\xE9es invalides")}else this.showCityNotFoundAlert()}catch(e){console.error("Erreur de g\xE9ocodage:",e),this.showCityNotFoundAlert()}})}showCityNotFoundAlert(){alert(`\u274C Stadt "${this.customCityName}" nicht gefunden.

\u{1F4A1} Tipps:
\u2022 \xDCberpr\xFCfen Sie die Schreibweise
\u2022 Verwenden Sie deutsche St\xE4dtenamen
\u2022 Versuchen Sie es mit einem Stadtteil oder einer nahegelegenen gr\xF6\xDFeren Stadt
\u2022 W\xE4hlen Sie aus der vordefinierten Liste`)}fixInvalidCoordinates(t){return t.map(e=>{if(e.coordinates.lat===0&&e.coordinates.lng===0){let i=this.guessCoordinatesFromAddress(e.address);if(i)return G(b({},e),{coordinates:i})}return e})}guessCoordinatesFromAddress(t){let e=t.toLowerCase(),i=G(b({},this.cityCoordinates),{lippstadt:{lat:51.6755,lng:8.3439},werl:{lat:51.5533,lng:7.9111},soest:{lat:51.5731,lng:8.1067},paderborn:{lat:51.7189,lng:8.7575},bielefeld:{lat:52.0302,lng:8.5325},m\u00FCnster:{lat:51.9607,lng:7.6261},bochum:{lat:51.4818,lng:7.2162},duisburg:{lat:51.4344,lng:6.7623},wuppertal:{lat:51.2562,lng:7.1508}});for(let[o,c]of Object.entries(i))if(e.includes(o))return c;let r={59555:{lat:51.6755,lng:8.3439},59594:{lat:51.5533,lng:7.9111},59494:{lat:51.5731,lng:8.1067},33098:{lat:51.7189,lng:8.7575}};for(let[o,c]of Object.entries(r))if(t.includes(o))return c;return null}static \u0275fac=function(e){return new(e||n)(P(dn),P(ge),P(ee),P(He),P(Y),P(gr),P(vt),P(lt))};static \u0275cmp=V({type:n,selectors:[["app-gallery"]],decls:75,vars:11,consts:[[1,"intro-section"],[1,"intro-message"],[1,"intro-actions"],[1,"add-shop-btn",3,"click"],["class","settings-btn",3,"click",4,"ngIf"],[1,"controls-section"],[1,"controls-main"],[1,"controls-row"],[1,"filter-gps-column"],[1,"type-filter-group"],["for","type-filter",1,"unified-label"],["id","type-filter",1,"unified-select","type-select-compact",3,"ngModelChange","change","ngModel"],["value",""],["value","restaurant"],["value","epicerie"],["value","coiffeur"],["value","vetement"],["value","services"],[1,"gps-group"],["title","GPS aktivieren und Standort verwenden",1,"location-btn","gps-btn-desktop",3,"click"],["class","radius-info",4,"ngIf"],[1,"location-container"],["for","city-input",1,"unified-label"],[1,"city-search-group"],[1,"unified-input-group"],["type","text","id","city-input","name","cityInput","placeholder","Jede deutsche Stadt...",1,"unified-input","city-input-compact",3,"ngModelChange","keyup.enter","ngModel"],["title","Stadt suchen",1,"unified-btn","search-btn",3,"click","disabled"],[1,"quick-cities-group"],[1,"unified-select","city-select-compact",3,"ngModelChange","ngModel"],["value","berlin"],["value","hamburg"],["value","m\xFCnchen"],["value","k\xF6ln"],["value","frankfurt"],["value","stuttgart"],["value","d\xFCsseldorf"],["value","dortmund"],["value","essen"],["value","leipzig"],["value","bremen"],["value","hannover"],["title","Ausgew\xE4hlte Stadt best\xE4tigen",1,"unified-btn","confirm-btn",3,"click","disabled"],[1,"gallery-section"],["class","map-view",4,"ngIf"],["class","gallery-grid",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"settings-btn",3,"click"],[1,"radius-info"],[1,"radius-indicator"],["class","city-name",4,"ngIf"],["class","current-location",4,"ngIf"],[1,"results-count"],[1,"city-name"],[1,"current-location"],[1,"map-view"],[3,"shopSelected","afroshops","userLocation"],[1,"gallery-grid"],["class","shop-card",4,"ngFor","ngForOf"],[1,"shop-card"],[1,"image-wrapper",3,"click"],[1,"gallery-image",3,"error","src","alt"],[1,"type-badge"],["class","edit-btn","title","Bearbeiten",3,"click",4,"ngIf"],[1,"image-overlay"],[1,"click-hint"],[1,"card-info"],[1,"shop-name"],[1,"shop-location"],[1,"shop-meta"],[1,"rating"],[1,"price"],[1,"type"],["class","distance",4,"ngIf"],[1,"map-buttons"],["target","_blank",1,"map-btn",3,"href"],["target","_blank",1,"route-btn",3,"href"],["title","Bearbeiten",1,"edit-btn",3,"click"],[1,"distance"],[4,"ngIf"],[1,"no-results"],[1,"no-results-content"],[1,"no-results-icon"],[1,"btn-clear-search",3,"click"]],template:function(e,i){e&1&&(s(0,"section",0)(1,"div",1),l(2),a(),s(3,"div",2)(4,"button",3),y("click",function(){return i.goToAddAfroshop()}),l(5,"\u2795 Afroshop hinzuf\xFCgen"),a(),C(6,sh,2,0,"button",4),a()(),s(7,"section",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),l(13,"Nach Type filtern:"),a(),s(14,"select",11),z("ngModelChange",function(o){return R(i.selectedType,o)||(i.selectedType=o),o}),y("change",function(){return i.onTypeFilterChange()}),s(15,"option",12),l(16,"Alle Typen"),a(),s(17,"option",13),l(18,"Restaurant"),a(),s(19,"option",14),l(20,"Lebensmittelgesch\xE4ft"),a(),s(21,"option",15),l(22,"Friseur"),a(),s(23,"option",16),l(24,"Bekleidung"),a(),s(25,"option",17),l(26,"Dienstleistungen"),a()()(),s(27,"div",18)(28,"button",19),y("click",function(){return i.useCurrentLocation()}),l(29," \u{1F4E1} GPS aktivieren "),a()()(),C(30,dh,7,4,"div",20),a(),s(31,"div",7)(32,"div",21)(33,"label",22),l(34,"\u{1F4CD} Deine Stadt:"),a(),s(35,"div",23)(36,"div",24)(37,"input",25),z("ngModelChange",function(o){return R(i.customCityName,o)||(i.customCityName=o),o}),y("keyup.enter",function(){return i.searchCity()}),a(),s(38,"button",26),y("click",function(){return i.searchCity()}),l(39," \u{1F50D} Suchen "),a()()(),s(40,"div",27)(41,"div",24)(42,"select",28),z("ngModelChange",function(o){return R(i.selectedCity,o)||(i.selectedCity=o),o}),s(43,"option",12),l(44,"Beliebte St\xE4dte..."),a(),s(45,"option",29),l(46,"Berlin"),a(),s(47,"option",30),l(48,"Hamburg"),a(),s(49,"option",31),l(50,"M\xFCnchen"),a(),s(51,"option",32),l(52,"K\xF6ln"),a(),s(53,"option",33),l(54,"Frankfurt am Main"),a(),s(55,"option",34),l(56,"Stuttgart"),a(),s(57,"option",35),l(58,"D\xFCsseldorf"),a(),s(59,"option",36),l(60,"Dortmund"),a(),s(61,"option",37),l(62,"Essen"),a(),s(63,"option",38),l(64,"Leipzig"),a(),s(65,"option",39),l(66,"Bremen"),a(),s(67,"option",40),l(68,"Hannover"),a()(),s(69,"button",41),y("click",function(){return i.onCityChange()}),l(70," \u2713 Best\xE4tigen "),a()()()()()()(),s(71,"section",42),C(72,uh,2,2,"div",43)(73,fh,2,1,"div",44)(74,_h,10,0,"div",45),a()),e&2&&(p(2),j(" \u{1F30D} Entdecke ",i.allAfroshops.length," afrikanische Gesch\xE4fte in deiner N\xE4he "),p(4),h("ngIf",i.isAdmin),p(8),T("ngModel",i.selectedType),p(16),h("ngIf",i.userLocation||i.selectedCity),p(7),T("ngModel",i.customCityName),p(),h("disabled",!i.customCityName||!i.customCityName.trim()),p(4),T("ngModel",i.selectedCity),p(27),h("disabled",!i.selectedCity),p(3),h("ngIf",i.showMap&&i.filteredAfroshops.length>0),p(),h("ngIf",!i.showMap&&i.filteredAfroshops.length>0),p(),h("ngIf",i.filteredAfroshops.length===0&&(i.searchTerm||i.selectedType)))},dependencies:[X,Ce,J,Wt,xe,_i,vi,Ie,fi,De,Te,ur],styles:["@media (min-width: 600px) and (max-width: 1024px){.quick-cities-group[_ngcontent-%COMP%]{margin-top:2.2rem}}@media (min-width: 600px) and (max-width: 1024px){.unified-select.city-select-compact[_ngcontent-%COMP%]{max-width:220px;width:100%;min-width:120px}}@media (min-width: 600px) and (max-width: 1024px){.unified-input-group[_ngcontent-%COMP%]{gap:2rem}.search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{min-width:120px;max-width:120px;width:120px}}@media (min-width: 600px) and (max-width: 1024px){.unified-input-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.7rem;width:100%}.unified-input.city-input-compact[_ngcontent-%COMP%]{flex:1 1 0;min-width:0;max-width:70%}.search-btn[_ngcontent-%COMP%]{min-width:90px;max-width:30%;margin-left:.2rem}.quick-cities-group[_ngcontent-%COMP%]{width:100%;margin-top:.5rem}}@media (min-width: 600px) and (max-width: 1024px){.location-container[_ngcontent-%COMP%]{gap:2.2rem;display:flex;flex-direction:column}.city-search-group[_ngcontent-%COMP%]{margin-bottom:3.5rem}}@media (min-width: 600px) and (max-width: 1024px){.gallery-section[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;max-width:900px;width:100%;display:block}}@media (min-width: 600px) and (max-width: 1024px){.controls-main[_ngcontent-%COMP%]{flex-direction:column!important;align-items:stretch!important;gap:1.5rem}.controls-row[_ngcontent-%COMP%], .filter-gps-column[_ngcontent-%COMP%]{flex-direction:column!important;align-items:stretch!important;gap:1.2rem}.type-filter-group[_ngcontent-%COMP%], .gps-group[_ngcontent-%COMP%]{width:100%;margin-bottom:.7rem}.radius-info.radius-center[_ngcontent-%COMP%], .radius-info[_ngcontent-%COMP%]{max-width:98vw;padding:1rem 1.2rem;font-size:1.05rem}.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;gap:1.2rem;justify-content:center}.shop-card[_ngcontent-%COMP%]{max-width:95vw;min-width:320px;margin-left:auto;margin-right:auto}.unified-input[_ngcontent-%COMP%], .unified-select[_ngcontent-%COMP%], .location-btn[_ngcontent-%COMP%], .search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{font-size:1.08rem;min-height:2.2rem}}.filter-gps-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.2rem;align-items:flex-start;margin-bottom:1.5rem}.radius-info.radius-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background:#f9f9f9;border:1px solid #e5e7eb;border-radius:10px;padding:.7rem 1.2rem;margin:1.2rem auto;max-width:420px;font-size:1rem}.radius-info[_ngcontent-%COMP%]   .radius-indicator[_ngcontent-%COMP%]{font-weight:600;color:#2d3748;margin-bottom:.5rem}.radius-info[_ngcontent-%COMP%]   .city-name[_ngcontent-%COMP%], .radius-info[_ngcontent-%COMP%]   .current-location[_ngcontent-%COMP%]{color:#3182ce;font-weight:500}.radius-info[_ngcontent-%COMP%]   .results-count[_ngcontent-%COMP%]{color:#4a5568;font-size:.98rem;margin-top:.3rem}.controls-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.2rem;align-items:flex-start;margin-bottom:1.5rem}@media (max-width: 900px){.gallery-grid[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;align-items:center!important;justify-content:flex-start;width:100%;padding:0;margin:0;box-sizing:border-box}}.shop-card[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:100%;max-width:420px;box-sizing:border-box}@media (max-width: 900px){.shop-card[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:.5rem;width:calc(100% - 1rem);max-width:98vw}}@media (max-width: 600px){.shop-card[_ngcontent-%COMP%]{margin-left:.2rem;margin-right:.2rem;width:calc(100% - .4rem);max-width:99vw}}@media (max-width: 900px){.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%]{width:70%;min-width:120px;max-width:220px;margin-left:auto;margin-right:auto;display:block}}@media (max-width: 600px){.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%]{width:95%;min-width:90px;max-width:180px;font-size:.97rem;margin-left:auto;margin-right:auto;display:block}}@media (max-width: 900px){.location-btn[_ngcontent-%COMP%]{width:70%;min-width:120px;max-width:220px;padding-left:.5rem;padding-right:.5rem}}@media (max-width: 600px){.location-btn[_ngcontent-%COMP%]{width:95%;min-width:90px;max-width:180px;font-size:.97rem;padding-left:.3rem;padding-right:.3rem}}@media (max-width: 900px){.controls-section[_ngcontent-%COMP%], .controls-main[_ngcontent-%COMP%], .controls-row[_ngcontent-%COMP%], .gps-group[_ngcontent-%COMP%], .radius-info[_ngcontent-%COMP%], .location-container[_ngcontent-%COMP%], .city-search-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%], .unified-input-group[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;align-items:center!important;width:100%!important;gap:.4rem}}@media (max-width: 900px){.intro-actions[_ngcontent-%COMP%], .controls-main[_ngcontent-%COMP%], .controls-row[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;width:100%;align-items:center}.gps-group[_ngcontent-%COMP%], .radius-info[_ngcontent-%COMP%], .location-container[_ngcontent-%COMP%], .city-search-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem;align-items:center;display:flex;flex-direction:column;gap:.3rem}.unified-input-group[_ngcontent-%COMP%]{width:100%;flex-direction:column;gap:.3rem;align-items:center}.unified-input.city-input-compact[_ngcontent-%COMP%], .unified-select.city-select-compact[_ngcontent-%COMP%]{width:100%;min-width:0;font-size:1rem;margin-bottom:.5rem}.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%], .location-btn[_ngcontent-%COMP%], .search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{width:100%;min-width:0;font-size:1rem;margin-bottom:.2rem;box-shadow:0 1px 4px #00000014}.radius-info[_ngcontent-%COMP%]{text-align:center;font-size:.98rem;padding:.4rem .2rem;border-radius:7px}.intro-section[_ngcontent-%COMP%], .controls-section[_ngcontent-%COMP%]{padding:.7rem .1rem;border-radius:8px;box-shadow:0 1px 4px #00000014}}@media (max-width: 900px){.intro-section[_ngcontent-%COMP%], .controls-section[_ngcontent-%COMP%]{padding:.8rem .2rem;border-radius:10px;box-shadow:0 2px 8px #00000012}.intro-message[_ngcontent-%COMP%]{font-size:1.05rem;margin-bottom:.7rem}.controls-main[_ngcontent-%COMP%], .controls-row[_ngcontent-%COMP%]{flex-direction:column;gap:.7rem;width:100%;align-items:stretch}.location-container[_ngcontent-%COMP%], .radius-info[_ngcontent-%COMP%]{width:100%;max-width:100%;padding:0 .2rem;box-sizing:border-box}.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%], .location-btn[_ngcontent-%COMP%], .search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{width:100%;min-width:0;font-size:1rem;margin-bottom:.4rem;box-shadow:0 1px 4px #00000014}.unified-input.city-input-compact[_ngcontent-%COMP%], .unified-select.city-select-compact[_ngcontent-%COMP%]{width:100%;min-width:0;font-size:.98rem}.gallery-section[_ngcontent-%COMP%]{padding:.5rem .1rem}.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:1fr!important;gap:1rem}.shop-card[_ngcontent-%COMP%]{min-width:0;width:100%;box-shadow:0 1px 6px #00000014;border-radius:10px}.card-info[_ngcontent-%COMP%]{font-size:.98rem;padding:.7rem .5rem}}@media (max-width: 600px){.intro-section[_ngcontent-%COMP%], .controls-section[_ngcontent-%COMP%]{padding:.4rem .05rem;border-radius:7px;box-shadow:0 1px 4px #0000000f}.intro-message[_ngcontent-%COMP%]{font-size:.98rem;margin-bottom:.5rem}.controls-section[_ngcontent-%COMP%]{gap:.5rem}.radius-info[_ngcontent-%COMP%]{font-size:.93rem;padding:.3rem .2rem;border-radius:6px}.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%], .location-btn[_ngcontent-%COMP%], .search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{font-size:.95rem;min-width:0;padding:.4rem .5rem;margin-bottom:.3rem}.gallery-section[_ngcontent-%COMP%]{padding:.2rem .01rem}.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:1fr!important;gap:.7rem}.shop-card[_ngcontent-%COMP%]{border-radius:7px;box-shadow:0 1px 3px #00000012}.card-info[_ngcontent-%COMP%]{font-size:.95rem;padding:.5rem .2rem}}@media (max-width: 900px){.controls-main[_ngcontent-%COMP%], .controls-row[_ngcontent-%COMP%]{flex-direction:column;gap:1.2rem;width:100%;align-items:center}.intro-section[_ngcontent-%COMP%], .controls-section[_ngcontent-%COMP%]{padding:1.2rem .5rem}.intro-message[_ngcontent-%COMP%]{font-size:1.1rem}.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%], .location-btn[_ngcontent-%COMP%], .search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{width:100%;min-width:180px;font-size:1rem;margin-bottom:.5rem}.location-container[_ngcontent-%COMP%]{width:100%;max-width:100%;padding:0 .5rem}.unified-input.city-input-compact[_ngcontent-%COMP%], .unified-select.city-select-compact[_ngcontent-%COMP%]{width:100%;min-width:0}}@media (max-width: 600px){.intro-section[_ngcontent-%COMP%], .controls-section[_ngcontent-%COMP%]{padding:.7rem .2rem;border-radius:10px}.intro-message[_ngcontent-%COMP%]{font-size:1rem}.controls-section[_ngcontent-%COMP%]{gap:1rem}.radius-info[_ngcontent-%COMP%]{font-size:.95rem;padding:.5rem}.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%], .location-btn[_ngcontent-%COMP%], .search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{font-size:.98rem;min-width:120px;padding:.5rem .7rem}}.controls-main[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%}.controls-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:2rem;width:100%;margin-bottom:1.2rem}.location-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.city-search-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%], .unified-input-group[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.location-btn[_ngcontent-%COMP%]{font-size:1.1rem;padding:.6rem 1.2rem;border-radius:8px;background:#e0f7fa;color:#00796b;border:none;box-shadow:0 1px 4px #00000012;cursor:pointer;transition:background .2s,color .2s}.location-btn[_ngcontent-%COMP%]:hover{background:#b2ebf2;color:#004d40}.radius-info[_ngcontent-%COMP%]{background:#f3e5f5;border-radius:8px;padding:.7rem 1rem;margin-bottom:.5rem;text-align:center;color:#6a1b9a;font-weight:500;box-shadow:0 1px 4px #0000000a}.radius-indicator[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:.3rem}.results-count[_ngcontent-%COMP%]{font-size:.95rem;color:#333}.location-container[_ngcontent-%COMP%]{width:100%;max-width:500px;margin:0 auto;display:flex;flex-direction:column;gap:1rem}.unified-label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem;color:#222}.city-search-group[_ngcontent-%COMP%], .unified-input-group[_ngcontent-%COMP%]{display:flex;gap:.5rem}.unified-input.city-input-compact[_ngcontent-%COMP%]{flex:1;padding:.5rem 1rem;border-radius:8px;border:1px solid #e0e0e0;font-size:1rem}.search-btn[_ngcontent-%COMP%]{background:#e0f7fa;color:#00796b;border:none;border-radius:8px;padding:.5rem 1.2rem;font-size:1rem;cursor:pointer;transition:background .2s,color .2s}.search-btn[_ngcontent-%COMP%]:hover{background:#b2ebf2;color:#004d40}.quick-cities-group[_ngcontent-%COMP%]{margin-top:.5rem;display:flex;gap:.5rem}.unified-select.city-select-compact[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:8px;border:1px solid #e0e0e0;font-size:1rem}.confirm-btn[_ngcontent-%COMP%]{background:#f3e5f5;color:#6a1b9a;border:none;border-radius:8px;padding:.5rem 1.2rem;font-size:1rem;cursor:pointer;transition:background .2s,color .2s}.confirm-btn[_ngcontent-%COMP%]:hover{background:#ce93d8;color:#4a148c}.location-hint[_ngcontent-%COMP%]{font-size:.95rem;color:#888;margin-top:.5rem;text-align:center}.intro-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem 1rem 1.5rem;background:#f8fafc;border-radius:16px;box-shadow:0 2px 8px #0000000a;margin-bottom:2rem}.intro-message[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#222;margin-bottom:1.2rem;text-align:center;letter-spacing:.5px}.intro-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center}.add-shop-btn[_ngcontent-%COMP%], .settings-btn[_ngcontent-%COMP%]{font-size:1.1rem;padding:.6rem 1.2rem;border-radius:8px;border:none;background:#fff;color:#222;box-shadow:0 1px 4px #00000012;cursor:pointer;transition:background .2s,box-shadow .2s}.add-shop-btn[_ngcontent-%COMP%]:hover{background:#e0f7fa;color:#00796b}.settings-btn[_ngcontent-%COMP%]:hover{background:#f3e5f5;color:#6a1b9a}@media (min-width: 1024px){.controls-desktop-layout[_ngcontent-%COMP%]{display:grid;box-shadow:0 4px 16px #00000026;gap:48px;align-items:start;padding:32px 40px;background:linear-gradient(135deg,#fff,#f4f7fa);border-radius:18px;box-shadow:0 8px 32px #00000014;margin-bottom:40px}.controls-left[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:24px;align-items:flex-end;justify-content:flex-start}.controls-right[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:24px;align-items:flex-end;justify-content:flex-end}.filter-container.unified-control-group[_ngcontent-%COMP%], .gps-group-above-city[_ngcontent-%COMP%]{margin:0;max-width:220px;width:100%}.gps-btn-desktop[_ngcontent-%COMP%]{min-width:160px;max-width:220px;padding:12px 24px;margin:0;border-radius:10px;font-size:1rem;font-weight:600;box-shadow:0 4px 15px #28a7454d;display:flex;align-items:center;justify-content:center}.city-search-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%]{margin:0;max-width:220px;width:100%}}.gallery-container[_ngcontent-%COMP%]{padding:var(--spacing-lg)}.gallery-header[_ngcontent-%COMP%]{margin-bottom:var(--spacing-xl)}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-lg)}.header-text[_ngcontent-%COMP%]{text-align:center;flex:1}.header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--primary-color);font-size:2.5rem;margin-bottom:var(--spacing-sm)}.header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);font-size:1.1rem}.header-actions[_ngcontent-%COMP%]{margin-left:var(--spacing-lg)}.add-afroshop-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--border-radius);font-size:.9rem;font-weight:500;cursor:pointer;transition:all .3s ease;box-shadow:var(--shadow-sm)}.add-afroshop-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-md);text-align:center}.header-actions[_ngcontent-%COMP%]{margin-left:0;width:100%;display:flex;justify-content:center}.header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}.unified-control-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs);max-width:500px;margin:0 auto var(--spacing-md) auto;width:100%}.unified-label[_ngcontent-%COMP%]{color:var(--text-dark);font-size:1rem;font-weight:600;margin-bottom:var(--spacing-xs);text-align:center}.unified-input-group[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm);align-items:stretch;width:100%;height:50px}.unified-input[_ngcontent-%COMP%], .unified-select[_ngcontent-%COMP%]{flex:1;padding:var(--spacing-sm) var(--spacing-md);border:2px solid #e0e0e0;border-radius:var(--border-radius);background:var(--background-white);font-size:1rem;color:var(--text-dark);transition:all .3s ease;height:100%;box-sizing:border-box}.unified-input[_ngcontent-%COMP%]:focus, .unified-select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #4a90e21a}.unified-input[_ngcontent-%COMP%]::placeholder{color:#999;font-style:italic}.unified-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),#2980b9);color:#fff;border:none;padding:0 var(--spacing-md);border-radius:var(--border-radius);font-size:.9rem;font-weight:500;cursor:pointer;white-space:nowrap;transition:all .3s ease;min-width:120px;height:100%;box-sizing:border-box}.unified-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#2980b9,var(--primary-color));transform:translateY(-1px);box-shadow:var(--shadow-sm)}.unified-btn[_ngcontent-%COMP%]:disabled{background:#bdc3c7;cursor:not-allowed;transform:none;opacity:.6}.filter-container.unified-control-group[_ngcontent-%COMP%]   .unified-input-group[_ngcontent-%COMP%]{justify-content:flex-start;max-width:100%;padding-left:0}.filter-container.unified-control-group[_ngcontent-%COMP%]   .unified-select[_ngcontent-%COMP%]{flex:1;max-width:280px;min-width:180px;margin:0}.unified-spacer[_ngcontent-%COMP%]{width:120px;min-width:120px;visibility:hidden}.controls-desktop-layout[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);border:2px solid #e9ecef;border-radius:16px;padding:24px;margin-bottom:32px;box-shadow:0 8px 32px #00000014}@media (min-width: 1024px){.controls-desktop-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(250px,300px) 1fr;gap:40px;align-items:start}.filter-container[_ngcontent-%COMP%]{margin:0;text-align:left}.filter-container[_ngcontent-%COMP%]   .unified-input-group[_ngcontent-%COMP%]{padding-left:0}.location-container[_ngcontent-%COMP%]{margin:0}.desktop-city-controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 2fr 1fr;gap:20px;align-items:end;width:100%}.city-search-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%], .gps-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.city-search-group[_ngcontent-%COMP%]   .unified-input-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%]   .unified-input-group[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:stretch}.city-input-compact[_ngcontent-%COMP%]{min-width:200px;flex:1;max-width:300px}.city-select-compact[_ngcontent-%COMP%]{min-width:180px;flex:1;max-width:250px}.search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{min-width:90px;flex-shrink:0}.gps-btn-desktop[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#20c997);color:#fff;border:none;padding:12px 16px;border-radius:10px;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px #28a7454d;white-space:nowrap;width:100%;min-height:48px}.gps-btn-desktop[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #28a74566}.mobile-only[_ngcontent-%COMP%], .quick-cities[_ngcontent-%COMP%]   .unified-label[_ngcontent-%COMP%]{display:none}}@media (min-width: 768px) and (max-width: 1023px){.controls-desktop-layout[_ngcontent-%COMP%]{padding:20px}.desktop-city-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.city-search-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%]{width:100%}.city-search-group[_ngcontent-%COMP%]   .unified-input-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%]   .unified-input-group[_ngcontent-%COMP%]{display:flex;gap:12px;width:100%}.city-input-compact[_ngcontent-%COMP%], .city-select-compact[_ngcontent-%COMP%]{flex:1}.search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{min-width:100px;flex-shrink:0}.gps-group[_ngcontent-%COMP%]{width:100%}.gps-btn-desktop[_ngcontent-%COMP%]{width:100%;padding:14px}}@media (max-width: 767px){.controls-desktop-layout[_ngcontent-%COMP%]{background:none;border:none;padding:0;box-shadow:none}.desktop-city-controls[_ngcontent-%COMP%]{display:block}.city-search-group[_ngcontent-%COMP%], .quick-cities-group[_ngcontent-%COMP%], .gps-group[_ngcontent-%COMP%]{margin-bottom:16px}.gps-btn-desktop[_ngcontent-%COMP%]{background:var(--primary-color);width:100%;margin-top:0;padding:14px}.mobile-only[_ngcontent-%COMP%]{display:block}}.search-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto var(--spacing-lg) auto}.filter-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto var(--spacing-lg) auto;text-align:center}.filter-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:var(--text-dark);font-weight:500;margin-bottom:var(--spacing-xs)}.type-filter[_ngcontent-%COMP%]{width:100%;padding:var(--spacing-sm);border:2px solid #e0e0e0;border-radius:var(--border-radius);background:var(--background-white);font-size:1rem;color:var(--text-dark);cursor:pointer;transition:border-color .3s ease}.type-filter[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #667eea1a}.search-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:var(--background-white);border:2px solid #e0e0e0;border-radius:25px;padding:var(--spacing-xs);transition:all .3s ease;box-shadow:var(--shadow-sm)}.search-wrapper[_ngcontent-%COMP%]:focus-within{border-color:var(--primary-color);box-shadow:0 0 0 3px #667eea1a}.search-icon[_ngcontent-%COMP%]{padding:0 var(--spacing-sm);color:var(--text-light);font-size:1.1rem}.search-input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;padding:var(--spacing-sm) var(--spacing-xs);font-size:1rem;background:transparent;color:var(--text-dark)}.search-input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.clear-button[_ngcontent-%COMP%]{background:var(--text-light);color:#fff;border:none;width:24px;height:24px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:.8rem;margin-right:var(--spacing-xs);transition:background .3s ease}.clear-button[_ngcontent-%COMP%]:hover{background:#e74c3c}.search-results[_ngcontent-%COMP%]{text-align:center;margin-top:var(--spacing-sm);color:var(--primary-color);font-weight:500;font-size:.9rem}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:var(--spacing-md);margin:var(--spacing-lg) auto;flex-wrap:wrap}.map-toggle-btn[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-lg);border-radius:var(--border-radius);font-size:1rem;cursor:pointer;display:inline-flex;align-items:center;gap:var(--spacing-xs);transition:all .3s ease}.map-toggle-btn[_ngcontent-%COMP%]:hover{background:var(--secondary-color);transform:translateY(-2px)}.map-toggle-btn.active[_ngcontent-%COMP%]{background:var(--secondary-color)}.map-toggle-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.2rem}.add-afroshop-btn[_ngcontent-%COMP%]{background:var(--accent-color);color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-lg);border-radius:var(--border-radius);font-size:1rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:var(--spacing-xs);transition:all .3s ease;box-shadow:var(--shadow-sm)}.add-afroshop-btn.primary[_ngcontent-%COMP%]{background:var(--accent-color);padding:var(--spacing-md) var(--spacing-xl);font-size:1.1rem;box-shadow:var(--shadow-md)}.add-afroshop-btn.disabled[_ngcontent-%COMP%]{background:#95a5a6;cursor:pointer}.add-afroshop-btn[_ngcontent-%COMP%]:hover:not(.disabled){background:#e67e22;transform:translateY(-2px);box-shadow:var(--shadow-lg)}.add-afroshop-btn.disabled[_ngcontent-%COMP%]:hover{background:#7f8c8d;transform:none}.add-afroshop-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.2rem}.admin-link-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#95a5a6,#7f8c8d);color:#fff;border:none;padding:8px 12px;border-radius:50%;font-size:1.1rem;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 8px #0000001a;margin-left:10px;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.admin-link-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#7f8c8d,#95a5a6);transform:translateY(-2px) scale(1.05);box-shadow:0 6px 20px #00000026}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}@media (max-width: 600px){.action-buttons[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.add-afroshop-btn[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-md);font-size:.9rem;width:auto;min-width:200px}.add-afroshop-btn.primary[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-lg);font-size:1rem}.header-content[_ngcontent-%COMP%]{align-items:center}.header-actions[_ngcontent-%COMP%]{margin-left:0}}.map-view[_ngcontent-%COMP%]{margin-bottom:var(--spacing-lg);border-radius:var(--border-radius);overflow:hidden;box-shadow:var(--shadow)}.location-container[_ngcontent-%COMP%]{max-width:700px;margin:0 auto var(--spacing-lg) auto;text-align:center}.location-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:var(--text-dark);font-weight:500;margin-bottom:var(--spacing-sm);font-size:1.1rem}.city-search-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md);align-items:center}.city-input-group[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm);width:100%;max-width:500px;justify-content:center;align-items:stretch}.city-input[_ngcontent-%COMP%]{flex:1;padding:var(--spacing-sm) var(--spacing-md);border:2px solid #e0e0e0;border-radius:var(--border-radius);background:var(--background-white);font-size:1rem;color:var(--text-dark);transition:border-color .3s ease}.city-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #3498db1a}.city-input[_ngcontent-%COMP%]::placeholder{color:#999;font-style:italic}.search-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),#2980b9);color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--border-radius);font-size:.9rem;font-weight:500;cursor:pointer;white-space:nowrap;transition:all .3s ease;min-width:100px}.search-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#2980b9,var(--primary-color));transform:translateY(-1px);box-shadow:var(--shadow-sm)}.search-btn[_ngcontent-%COMP%]:disabled{background:#bdc3c7;cursor:not-allowed;transform:none}.quick-cities[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);flex-wrap:wrap;justify-content:center;width:100%;max-width:500px;margin:0 auto}.quick-label[_ngcontent-%COMP%]{color:var(--text-light);font-size:.9rem;white-space:nowrap;min-width:80px}.city-selector-compact[_ngcontent-%COMP%]{padding:var(--spacing-xs) var(--spacing-sm);border:2px solid #e0e0e0;border-radius:var(--border-radius);background:var(--background-white);font-size:.9rem;color:var(--text-dark);cursor:pointer;transition:border-color .3s ease;min-width:180px}.city-selector-compact[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #4a90e21a}.location-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-xs)}.location-btn[_ngcontent-%COMP%]{background:var(--secondary-color);color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--border-radius);font-size:.9rem;cursor:pointer;white-space:nowrap;transition:all .3s ease}.location-btn[_ngcontent-%COMP%]:hover{background:#e67e22;transform:translateY(-1px)}.location-hint[_ngcontent-%COMP%]{color:#666;font-size:.8em;text-align:center;max-width:250px}.radius-info[_ngcontent-%COMP%]{margin-top:var(--spacing-md);padding:var(--spacing-sm) var(--spacing-md);background:linear-gradient(135deg,#f8f9fa,#e9ecef);border:2px solid #dee2e6;border-radius:var(--border-radius);text-align:center;max-width:500px;margin-left:auto;margin-right:auto}.radius-indicator[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:600;font-size:1rem;margin-bottom:var(--spacing-xs)}.city-name[_ngcontent-%COMP%], .current-location[_ngcontent-%COMP%]{color:var(--secondary-color);font-weight:700}.results-count[_ngcontent-%COMP%]{color:var(--text-light);font-size:.9rem;font-style:italic}.distance[_ngcontent-%COMP%]{color:var(--secondary-color);font-size:.85rem;font-weight:500;margin-top:var(--spacing-xs)}@media (max-width: 600px){.unified-control-group[_ngcontent-%COMP%]{max-width:100%;padding:0 var(--spacing-sm)}.unified-input-group[_ngcontent-%COMP%]{flex-direction:column;height:auto;gap:var(--spacing-xs)}.unified-input[_ngcontent-%COMP%], .unified-select[_ngcontent-%COMP%], .unified-btn[_ngcontent-%COMP%]{height:50px;min-width:auto;width:100%}.filter-container.unified-control-group[_ngcontent-%COMP%]   .unified-select[_ngcontent-%COMP%]{max-width:100%}.city-input-group[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-xs)}.search-btn[_ngcontent-%COMP%]{min-width:auto;width:100%}.quick-cities[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-xs);max-width:100%}.quick-label[_ngcontent-%COMP%]{min-width:auto;text-align:center}.city-dropdown-group[_ngcontent-%COMP%]{width:100%;max-width:300px}.city-selector-compact[_ngcontent-%COMP%]{min-width:auto;width:100%;max-width:none}.location-container[_ngcontent-%COMP%]{max-width:100%;padding:0 var(--spacing-md)}}.no-results[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:400px;padding:var(--spacing-xl)}.no-results-content[_ngcontent-%COMP%]{text-align:center;max-width:400px}.no-results-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:var(--spacing-lg);opacity:.6}.no-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-dark);font-size:1.5rem;margin-bottom:var(--spacing-sm)}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);margin-bottom:var(--spacing-lg);line-height:1.6}.btn-clear-search[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-lg);border-radius:var(--border-radius);cursor:pointer;font-size:1rem;font-weight:500;transition:transform .3s ease,box-shadow .3s ease}.btn-clear-search[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:var(--spacing-lg);max-width:1200px;margin:0 auto;padding:0 var(--spacing-md)}@media (max-width: 768px){.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:var(--spacing-md);padding:0 var(--spacing-sm)}}@media (max-width: 480px){.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:var(--spacing-sm);padding:0 var(--spacing-xs)}}.image-card[_ngcontent-%COMP%], .shop-card[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s ease,box-shadow .3s ease;border-radius:var(--border-radius-lg);overflow:hidden;background:var(--background-white);box-shadow:var(--shadow-sm)}.image-card[_ngcontent-%COMP%]:hover, .shop-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:var(--shadow-lg)}.type-badge[_ngcontent-%COMP%]{position:absolute;top:var(--spacing-sm);left:var(--spacing-sm);background:#000c;color:#fff;padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--border-radius);font-size:1.2rem;z-index:2}.type-badge.restaurant[_ngcontent-%COMP%]{background:#e74c3ce6}.type-badge.epicerie[_ngcontent-%COMP%]{background:#27ae60e6}.type-badge.coiffeur[_ngcontent-%COMP%]{background:#9b59b6e6}.type-badge.vetement[_ngcontent-%COMP%]{background:#3498dbe6}.type-badge.services[_ngcontent-%COMP%]{background:#f1c40fe6;color:var(--text-dark)}.rating[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:var(--spacing-xs);opacity:.95}.image-wrapper[_ngcontent-%COMP%]{position:relative;height:300px;overflow:hidden}.gallery-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.image-card[_ngcontent-%COMP%]:hover   .gallery-image[_ngcontent-%COMP%]{transform:scale(1.05)}.image-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0009;color:#fff;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease}.image-card[_ngcontent-%COMP%]:hover   .image-overlay[_ngcontent-%COMP%], .shop-card[_ngcontent-%COMP%]:hover   .image-overlay[_ngcontent-%COMP%]{opacity:1}.click-hint[_ngcontent-%COMP%]{background:var(--primary-color);padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--border-radius);font-size:1rem;font-weight:600;box-shadow:var(--shadow-md);transition:transform .2s ease}.image-overlay[_ngcontent-%COMP%]:hover   .click-hint[_ngcontent-%COMP%]{transform:scale(1.05)}@media (max-width: 1024px){.gallery-container[_ngcontent-%COMP%]{padding:var(--spacing-md)}.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(300px,1fr))}}@media (max-width: 768px){.gallery-container[_ngcontent-%COMP%]{padding:var(--spacing-sm)}.gallery-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;text-align:center}.gallery-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;text-align:center}.image-overlay[_ngcontent-%COMP%]{position:static;transform:none;background:linear-gradient(135deg,#000c,#0009);margin-top:-60px;z-index:2;border-radius:0 0 var(--border-radius-lg) var(--border-radius-lg)}.image-card[_ngcontent-%COMP%]:hover   .image-overlay[_ngcontent-%COMP%]{transform:none}}@media (max-width: 480px){.gallery-container[_ngcontent-%COMP%]{padding:var(--spacing-xs)}.gallery-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;line-height:1.3}.gallery-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.image-card[_ngcontent-%COMP%], .shop-card[_ngcontent-%COMP%]{margin:0 var(--spacing-xs)}.image-overlay[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem}.image-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width: 360px){.gallery-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem}.image-wrapper[_ngcontent-%COMP%]{height:200px}}@media (max-width: 768px){.image-wrapper[_ngcontent-%COMP%]{height:250px}.search-container[_ngcontent-%COMP%]{max-width:100%;margin-bottom:var(--spacing-md)}.search-wrapper[_ngcontent-%COMP%]{border-radius:20px}.search-input[_ngcontent-%COMP%]{font-size:.9rem}.no-results-icon[_ngcontent-%COMP%]{font-size:3rem}.no-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem}}.edit-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:40px;height:40px;border-radius:50%;background:#fffffff2;border:none;cursor:pointer;font-size:1.2rem;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0003;transition:all var(--transition-normal);z-index:10}.edit-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:var(--primary-color);box-shadow:0 4px 12px #e639464d}.edit-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.card-info[_ngcontent-%COMP%]{padding:var(--spacing-md);background:var(--background-white);border-top:1px solid var(--background-light)}.shop-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--text-dark);margin:0 0 var(--spacing-xs) 0;line-height:1.3;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical}.shop-location[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-light);margin:0 0 var(--spacing-sm) 0;display:flex;align-items:center;gap:var(--spacing-xs)}.shop-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);flex-wrap:wrap}.shop-meta[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{color:var(--accent-color);font-weight:600;font-size:.95rem}.shop-meta[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:var(--success-color);font-weight:700;font-size:.95rem}.shop-meta[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{background:var(--background-light);color:var(--text-light);padding:.25rem .5rem;border-radius:var(--border-radius-sm);font-size:.85rem;font-weight:500}.city-dropdown-group[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm);align-items:stretch;flex:1}.city-dropdown-group[_ngcontent-%COMP%]   .city-selector-compact[_ngcontent-%COMP%]{flex:1;min-width:180px}.validate-city-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--success-color),#27ae60);color:#fff;border:none;padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--border-radius);font-size:.85rem;font-weight:500;cursor:pointer;white-space:nowrap;transition:all .3s ease;min-width:90px}.validate-city-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#27ae60,var(--success-color));transform:translateY(-1px);box-shadow:var(--shadow-sm)}.validate-city-btn[_ngcontent-%COMP%]:disabled{background:#bdc3c7;cursor:not-allowed;transform:none;opacity:.6}@media (max-width: 768px){.city-dropdown-group[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-xs)}.validate-city-btn[_ngcontent-%COMP%]{min-width:auto;padding:var(--spacing-sm)}}@media (min-width: 1400px){.filter-container.unified-control-group[_ngcontent-%COMP%]   .unified-select[_ngcontent-%COMP%]{max-width:320px;min-width:200px}.city-input-compact[_ngcontent-%COMP%]{max-width:350px;min-width:220px}.city-select-compact[_ngcontent-%COMP%]{max-width:280px;min-width:200px}.search-btn[_ngcontent-%COMP%], .confirm-btn[_ngcontent-%COMP%]{min-width:100px}}"]})};function vh(n,t){if(n&1){let e=F();s(0,"button",28),y("click",function(){_(e);let r=m(2);return v(r.editAfroshop())}),l(1," \u270F\uFE0F Bearbeiten "),a()}}function bh(n,t){if(n&1){let e=F();s(0,"div")(1,"img",29),y("error",function(r){_(e);let o=m(2);return v(o.onImageError(r))}),a()()}if(n&2){let e=m(2);p(),h("src",e.afroshop.image,ke)("alt",e.afroshop.name)}}function yh(n,t){if(n&1&&(s(0,"div",30)(1,"div",31),l(2,"\u{1F4F7}"),a(),s(3,"p"),l(4,"Kein Bild verf\xFCgbar"),a(),s(5,"small"),l(6),a()()),n&2){let e=m(2);p(6),K(e.afroshop.image?"Fehler beim Laden: "+e.afroshop.image:"Keine Bild-URL gespeichert")}}function Ch(n,t){if(n&1&&(s(0,"div",32),l(1),a()),n&2){let e=m(2);p(),j(" \u{1F37D}\uFE0F ",e.afroshop.cuisine," K\xFCche ")}}function xh(n,t){if(n&1&&(s(0,"div",33)(1,"span",34),l(2),a(),s(3,"span",35),l(4),a()()),n&2){let e=t.$implicit;Bt("closed",!e.isOpen)("open",e.isOpen),p(2),j("",e.day,":"),p(),Bt("closed-text",!e.isOpen),p(),j(" ",e.hours," ")}}function wh(n,t){if(n&1){let e=F();s(0,"div",39),I(1,"img",40),s(2,"div",41)(3,"span",42),l(4),a(),s(5,"span",43),l(6),Be(7,"currency"),a(),s(8,"button",44),y("click",function(){let r=_(e).$implicit,o=m(3);return v(o.addToCart(r))}),l(9,"Ajouter au panier"),a()()()}if(n&2){let e=t.$implicit;p(),h("src",e.image,ke)("alt",e.name),p(3),K(e.name),p(2),K(za(7,4,e.price,"EUR"))}}function Mh(n,t){if(n&1&&(s(0,"div",36)(1,"h2"),l(2,"Produits"),a(),s(3,"div",37),C(4,wh,10,7,"div",38),a()()),n&2){let e=m(2);p(4),h("ngForOf",e.afroshop.products)}}function Sh(n,t){if(n&1){let e=F();s(0,"button",45),y("click",function(){_(e);let r=m(2);return v(r.editProducts())}),l(1,` \u270F\uFE0F Produkte bearbeiten
`),a()}}function Eh(n,t){if(n&1){let e=F();s(0,"div",46)(1,"h2"),l(2,"\u274C Gesch\xE4ft nicht gefunden"),a(),s(3,"p"),l(4,"Das gesuchte Gesch\xE4ft existiert nicht."),a(),s(5,"button",4),y("click",function(){_(e);let r=m(2);return v(r.goBack())}),l(6," \u2190 Zur\xFCck zur \xDCbersicht "),a()()}}function Oh(n,t){if(n&1){let e=F();s(0,"div",2)(1,"div",3)(2,"button",4),y("click",function(){_(e);let r=m();return v(r.goBack())}),l(3," \u2190 Zur\xFCck zur \xDCbersicht "),a(),C(4,vh,2,0,"button",5),a(),s(5,"div",6)(6,"div",7),C(7,bh,2,2,"div",8)(8,yh,7,1,"ng-template",null,0,La),s(10,"div",9),l(11),Be(12,"titlecase"),a()(),s(13,"div",10)(14,"h1"),l(15),a(),s(16,"div",11)(17,"div",12),l(18),a(),C(19,Ch,2,1,"div",13),a(),s(20,"div",14)(21,"div",15)(22,"strong"),l(23,"\u{1F4CD} Adresse:"),a(),s(24,"p"),l(25),a()(),s(26,"div",15)(27,"strong"),l(28,"\u{1F4DE} Telefon:"),a(),s(29,"p")(30,"a",16),l(31),a()()(),s(32,"div",15)(33,"strong"),l(34,"\u{1F552} \xD6ffnungszeiten:"),a(),s(35,"div",17),C(36,xh,5,8,"div",18),a()()(),s(37,"div",19)(38,"h3"),l(39,"\xDCber uns"),a(),s(40,"p"),l(41),a()(),s(42,"div",20)(43,"button",21),y("click",function(){_(e);let r=m();return v(r.callPhone(r.afroshop.phone))}),l(44," \u{1F4DE} Anrufen "),a(),s(45,"button",22),y("click",function(){_(e);let r=m();return v(r.openInMaps())}),l(46," \u{1F5FA}\uFE0F Auf Karte anzeigen "),a(),s(47,"button",23),y("click",function(){_(e);let r=m();return v(r.getDirections())}),l(48," \u{1F9ED} Route "),a(),s(49,"button",24),y("click",function(){_(e);let r=m();return v(r.goBack())}),l(50," \u2190 Zur\xFCck "),a()()()(),C(51,Mh,5,1,"div",25)(52,Sh,2,0,"button",26)(53,Eh,7,0,"div",27),a()}if(n&2){let e=jt(9),i=m();p(4),h("ngIf",i.canEdit()),p(3),h("ngIf",i.afroshop.image)("ngIfElse",e),p(3),st(i.afroshop.type),p(),Ae(" ",i.getTypeIcon(i.afroshop.type)," ",Je(12,20,i.afroshop.type)," "),p(4),K(i.afroshop.name),p(3),Ae(" \u2B50 ",i.afroshop.rating,"/5 \u2022 ",i.getPriceLevel(i.afroshop.priceLevel)," "),p(),h("ngIf",i.afroshop.cuisine),p(6),K(i.afroshop.address),p(5),Da("href","tel:",i.afroshop.phone,"",ke),p(),j(" ",i.afroshop.phone," "),p(5),h("ngForOf",i.formattedHours),p(5),K(i.afroshop.description),p(10),h("ngIf",i.afroshop==null||i.afroshop.products==null?null:i.afroshop.products.length),p(),h("ngIf",i.canEdit()),p(),h("ngIf",!i.afroshop)}}var mr=class n{constructor(t,e,i,r,o,c,d){this.route=t;this.router=e;this.afroshopService=i;this.firebaseService=r;this.authService=o;this.title=c;this.meta=d}afroshop;shopId="";formattedHours=[];cart=[];newProduct={id:"",name:"",price:0,image:""};isAdmin=!1;productImagePreview=null;productImageFile=null;editProducts(){this.router?.navigate(["/add-product"],{queryParams:{afroshopId:this.shopId}})}ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&(this.shopId=t,console.log("\u{1F50D} Recherche Afroshop avec ID:",t),this.firebaseService.getAllAfroshops().subscribe({next:e=>{console.log("\u{1F50D} Afroshops disponibles:",e.map(i=>`${i.id}: ${i.name}`)),this.afroshop=e.find(i=>i.id===t||i.id===+t||i.id.toString()===t),this.afroshop?(console.log("\u2705 Afroshop trouv\xE9:",this.afroshop.name),console.log("\u{1F5BC}\uFE0F URL de l'image:",this.afroshop.image),console.log("\u{1F4E6} Donn\xE9es compl\xE8tes:",this.afroshop),this.parseOpeningHours(this.afroshop.hours||""),this.title.setTitle(`${this.afroshop.name} | AfroConnect`),this.meta.updateTag({name:"description",content:this.afroshop.description||""}),this.meta.updateTag({name:"keywords",content:`${this.afroshop.name}, ${this.afroshop.type}, ${this.afroshop.city}, AfroConnect`}),this.meta.updateTag({name:"keywords",content:`${this.afroshop.name}, ${this.afroshop.type}, ${this.afroshop.city}, AfroConnect, Alloco, Kochbanane, ignam, fufu, manioc, feuilles de patate, feuilles de manioc, okra, gombo, atti\xE9k\xE9, poisson fum\xE9, \xE9pices africaines, plantain, couscous de ma\xEFs, arachide, huile de palme, bissap, gingembre, ndol\xE9, maf\xE9, yassa, poulet DG, sauce graine, sauce feuille, sauce arachide, k\xE9dj\xE9nou, gari, tapioca, bouillon cube, piment africain`}),this.meta.updateTag({property:"og:title",content:`${this.afroshop.name} | AfroConnect`}),this.meta.updateTag({property:"og:description",content:this.afroshop.description||""}),this.meta.updateTag({property:"og:image",content:this.afroshop.image||""})):(console.log("\u274C Afroshop non trouv\xE9 avec ID:",t),console.log("\u274C Types des IDs:",e.map(i=>`${i.id} (${typeof i.id})`)))},error:e=>{console.error("Erreur lors du chargement Firebase:",e);let i=+t;this.afroshop=this.afroshopService.getAfroshopById(i),this.afroshop&&(this.title.setTitle(`${this.afroshop.name} | AfroConnect`),this.meta.updateTag({name:"description",content:this.afroshop.description||""}),this.meta.updateTag({name:"keywords",content:`${this.afroshop.name}, ${this.afroshop.type}, ${this.afroshop.city}, AfroConnect`}),this.meta.updateTag({name:"keywords",content:`${this.afroshop.name}, ${this.afroshop.type}, ${this.afroshop.city}, AfroConnect, Alloco, Kochbanane, ignam, fufu, manioc, feuilles de patate, feuilles de manioc, okra, gombo, atti\xE9k\xE9, poisson fum\xE9, \xE9pices africaines, plantain, couscous de ma\xEFs, arachide, huile de palme, bissap, gingembre, ndol\xE9, maf\xE9, yassa, poulet DG, sauce graine, sauce feuille, sauce arachide, k\xE9dj\xE9nou, gari, tapioca, bouillon cube, piment africain`}),this.meta.updateTag({property:"og:title",content:`${this.afroshop.name} | AfroConnect`}),this.meta.updateTag({property:"og:description",content:this.afroshop.description||""}),this.meta.updateTag({property:"og:image",content:this.afroshop.image||""}))}})),this.authService.user$.subscribe(e=>{e?.uid&&this.afroshop?this.isAdmin=e.uid===this.afroshop.createdBy:this.isAdmin=!1})}goBack(){this.router.navigate(["/gallery"])}onImageError(t){console.error("\u274C Erreur chargement image:",t),console.error("\u274C URL qui a \xE9chou\xE9:",t.target?.src)}callPhone(t){window.open(`tel:${t}`,"_self")}openInMaps(){if(this.afroshop){let e=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(this.afroshop.address||`${this.afroshop.coordinates.lat},${this.afroshop.coordinates.lng}`)}`;window.open(e,"_blank")}}getDirections(){if(this.afroshop){let e=`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(this.afroshop.address||`${this.afroshop.coordinates.lat},${this.afroshop.coordinates.lng}`)}`;window.open(e,"_blank")}}getTypeIcon(t){return{restaurant:"\u{1F37D}\uFE0F",epicerie:"\u{1F6D2}",coiffeur:"\u2702\uFE0F",vetement:"\u{1F457}",services:"\u{1F3E6}"}[t]}getPriceLevel(t){return"\u20AC".repeat(t)}canEdit(){let t=this.authService.getCurrentUser();if(console.log("\u{1F50D} Debug canEdit:"),console.log("  - User connect\xE9:",t?.uid),console.log("  - Afroshop:",this.afroshop),console.log("  - CreatedBy:",this.afroshop?.createdBy),!t||!this.afroshop)return console.log("  \u274C Pas de user ou pas d'afroshop"),!1;let e=this.afroshop.createdBy===t.uid;return console.log("  \u2705 Peut \xE9diter:",e),e}parseOpeningHours(t){if(this.formattedHours=[],!t)return;let e={Mo:"Montag",Di:"Dienstag",Mi:"Mittwoch",Do:"Donnerstag",Fr:"Freitag",Sa:"Samstag",So:"Sonntag"},i=t.split(",").map(c=>c.trim()),r=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],o={};r.forEach(c=>{o[c]={isOpen:!1,hours:"Geschlossen"}}),i.forEach(c=>{let d=c.indexOf(":");if(d===-1)return;let u=c.substring(0,d).trim(),g=c.substring(d+1).trim();if(u.includes("-")){let[f,M]=u.split("-").map(B=>B.trim()),O=e[f],D=e[M];if(O&&D){let B=r.indexOf(O),L=r.indexOf(D);if(B!==-1&&L!==-1)if(B<=L)for(let E=B;E<=L;E++)o[r[E]]={isOpen:!0,hours:g};else{for(let E=B;E<r.length;E++)o[r[E]]={isOpen:!0,hours:g};for(let E=0;E<=L;E++)o[r[E]]={isOpen:!0,hours:g}}}}else{let f=e[u];f&&(o[f]={isOpen:!0,hours:g})}}),r.forEach(c=>{this.formattedHours.push({day:c,hours:o[c].hours,isOpen:o[c].isOpen})})}editAfroshop(){this.canEdit()&&this.router.navigate(["/edit-afroshop",this.shopId])}addToCart(t){this.cart.push(t)}removeFromCart(t){this.cart=this.cart.filter(e=>e.id!==t)}addProduct(){if(!this.afroshop)return;this.afroshop.products||(this.afroshop.products=[]);let t=G(b({},this.newProduct),{id:Date.now().toString()});this.afroshop.products.push(t),this.newProduct={id:"",name:"",price:0,image:""}}onProductImageSelected(t){return w(this,null,function*(){let e=t.target.files[0];if(!e)return;let i=new FileReader;i.onload=r=>{this.productImagePreview=r.target.result},i.readAsDataURL(e),this.productImageFile=e;try{let r=yield this.firebaseService.uploadImage(e);this.newProduct.image=r}catch(r){console.error("Erreur upload image produit:",r)}})}static \u0275fac=function(e){return new(e||n)(P(ue),P(Y),P(dn),P(ge),P(ee),P(Ai),P(ll))};static \u0275cmp=V({type:n,selectors:[["app-image-detail"]],decls:1,vars:1,consts:[["noImage",""],["class","detail-container",4,"ngIf"],[1,"detail-container"],[1,"detail-header"],[1,"back-button",3,"click"],["class","edit-button","title","Bearbeiten",3,"click",4,"ngIf"],[1,"detail-content"],[1,"image-section"],[4,"ngIf","ngIfElse"],[1,"type-badge-large"],[1,"info-section"],[1,"quick-info"],[1,"rating-info"],["class","cuisine-info",4,"ngIf"],[1,"contact-section"],[1,"contact-item"],[1,"phone-link",3,"href"],[1,"opening-hours-display"],["class","day-row",3,"closed","open",4,"ngFor","ngForOf"],[1,"description"],[1,"actions"],[1,"action-btn","call",3,"click"],[1,"action-btn","maps",3,"click"],[1,"action-btn","route",3,"click"],[1,"action-btn","secondary",3,"click"],["class","products-section",4,"ngIf"],["class","edit-button","title","Produkte bearbeiten",3,"click",4,"ngIf"],["class","error-container",4,"ngIf"],["title","Bearbeiten",1,"edit-button",3,"click"],[1,"detail-image",3,"error","src","alt"],[1,"no-image-placeholder",2,"background","#f5f5f5","padding","2rem","text-align","center","border-radius","8px"],[2,"font-size","3rem"],[1,"cuisine-info"],[1,"day-row"],[1,"day-name"],[1,"day-hours"],[1,"products-section"],[1,"product-list"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[1,"product-image",3,"src","alt"],[1,"product-info"],[1,"product-name"],[1,"product-price"],[3,"click"],["title","Produkte bearbeiten",1,"edit-button",3,"click"],[1,"error-container"]],template:function(e,i){e&1&&C(0,Oh,54,22,"div",1),e&2&&h("ngIf",i.afroshop)},dependencies:[X,Ce,J,Wt,Za,xe],styles:[".detail-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:var(--spacing-lg)}.detail-header[_ngcontent-%COMP%]{margin-bottom:var(--spacing-lg);display:flex;justify-content:space-between;align-items:center;gap:var(--spacing-md)}.back-button[_ngcontent-%COMP%]{background:var(--text-light);color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--border-radius);cursor:pointer;font-size:1rem;transition:all .3s ease}.back-button[_ngcontent-%COMP%]:hover{background:var(--primary-color);transform:translate(-5px)}.edit-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--accent-color),var(--accent-light));color:#fff;border:none;padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--border-radius);cursor:pointer;font-size:1rem;font-weight:600;transition:all var(--transition-normal);box-shadow:var(--shadow-sm);display:inline-flex;align-items:center;gap:var(--spacing-xs)}.edit-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}.detail-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--spacing-xl);align-items:start}.image-section[_ngcontent-%COMP%]{position:sticky;top:var(--spacing-lg)}.detail-image[_ngcontent-%COMP%]{width:100%;height:auto;max-height:70vh;object-fit:cover;border-radius:var(--border-radius-lg);box-shadow:var(--shadow-md)}.info-section[_ngcontent-%COMP%]{padding:var(--spacing-md)}.info-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--primary-color);font-size:2.5rem;margin-bottom:var(--spacing-sm);font-weight:300}.type-badge-large[_ngcontent-%COMP%]{position:absolute;top:var(--spacing-md);right:var(--spacing-md);background:#000c;color:#fff;padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--border-radius-lg);font-weight:500;font-size:1.1rem;text-transform:capitalize}.quick-info[_ngcontent-%COMP%]{margin-bottom:var(--spacing-lg)}.rating-info[_ngcontent-%COMP%]{font-size:1.3rem;color:var(--text-dark);margin-bottom:var(--spacing-xs);font-weight:500}.cuisine-info[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:500;background:var(--background-light);padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--border-radius);display:inline-block}.contact-section[_ngcontent-%COMP%]{background:var(--background-light);padding:var(--spacing-lg);border-radius:var(--border-radius-lg);margin-bottom:var(--spacing-lg);border-left:4px solid var(--primary-color)}.contact-item[_ngcontent-%COMP%]{margin-bottom:var(--spacing-md)}.contact-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.contact-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text-dark);display:block;margin-bottom:var(--spacing-xs)}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);margin:0}.phone-link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:500;transition:color .3s ease}.phone-link[_ngcontent-%COMP%]:hover{color:var(--secondary-color)}.description[_ngcontent-%COMP%]{margin-bottom:var(--spacing-xl)}.description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-dark);font-size:1.5rem;margin-bottom:var(--spacing-sm);font-weight:500}.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);line-height:1.8;font-size:1.1rem}.actions[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm)}.action-btn[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-lg);border:none;border-radius:var(--border-radius);cursor:pointer;font-size:1rem;transition:all .3s ease;font-weight:500}.action-btn.call[_ngcontent-%COMP%]{background:#27ae60;color:#fff}.action-btn.call[_ngcontent-%COMP%]:hover{background:#229954;transform:translateY(-2px);box-shadow:var(--shadow-md)}.action-btn.maps[_ngcontent-%COMP%]{background:#3498db;color:#fff}.action-btn.maps[_ngcontent-%COMP%]:hover{background:#2980b9;transform:translateY(-2px);box-shadow:var(--shadow-md)}.action-btn.route[_ngcontent-%COMP%]{background:#e67e22;color:#fff}.action-btn.route[_ngcontent-%COMP%]:hover{background:#d35400;transform:translateY(-2px);box-shadow:var(--shadow-md)}.action-btn.secondary[_ngcontent-%COMP%]{background:var(--text-light);color:#fff}.action-btn.secondary[_ngcontent-%COMP%]:hover{background:var(--primary-color);transform:translateY(-2px);box-shadow:var(--shadow-md)}.error-container[_ngcontent-%COMP%]{text-align:center;padding:var(--spacing-xl);max-width:600px;margin:0 auto}.error-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#e74c3c;font-size:2rem;margin-bottom:var(--spacing-md)}.error-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);font-size:1.1rem;margin-bottom:var(--spacing-lg)}@media (max-width: 968px){.detail-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:var(--spacing-lg)}}@media (max-width: 1024px){.detail-content[_ngcontent-%COMP%]{gap:var(--spacing-lg)}.image-section[_ngcontent-%COMP%]{position:static}.detail-image[_ngcontent-%COMP%]{max-height:50vh}.info-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 768px){.detail-container[_ngcontent-%COMP%]{padding:var(--spacing-md);display:flex;flex-direction:column;align-items:center}.detail-header[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:var(--spacing-sm);text-align:center}.detail-content[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-md);display:flex;align-items:center}.image-section[_ngcontent-%COMP%]{order:1;display:flex;justify-content:center;width:100%}.detail-image[_ngcontent-%COMP%]{margin:0 auto;display:block}.info-section[_ngcontent-%COMP%]{order:2;padding:var(--spacing-sm);width:100%;text-align:center;display:flex;flex-direction:column;align-items:center}.info-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem;text-align:center}.quick-info[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--spacing-md)}.contact-section[_ngcontent-%COMP%]{margin-bottom:var(--spacing-lg);width:100%;text-align:center;display:flex;flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{text-align:center;width:100%}.actions[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap;gap:var(--spacing-sm);width:100%;display:flex;flex-direction:column;align-items:center}.action-btn[_ngcontent-%COMP%]{flex:1;min-width:120px;text-align:center;margin:0 auto;width:100%}.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;text-align:center}}@media (max-width: 480px){.detail-container[_ngcontent-%COMP%]{padding:var(--spacing-sm)}.info-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.quick-info[_ngcontent-%COMP%]{font-size:.9rem}.contact-item[_ngcontent-%COMP%]{margin-bottom:var(--spacing-md);padding:var(--spacing-sm);background:var(--background-light);border-radius:var(--border-radius)}.contact-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:var(--spacing-xs);color:var(--primary-color)}.actions[_ngcontent-%COMP%]{flex-direction:column}.action-btn[_ngcontent-%COMP%]{width:100%;padding:var(--spacing-md);font-size:1rem}.back-button[_ngcontent-%COMP%], .edit-button[_ngcontent-%COMP%]{width:100%;text-align:center;justify-content:center}}.opening-hours-display[_ngcontent-%COMP%]{margin-top:var(--spacing-sm);background:var(--surface-color);border-radius:var(--border-radius);padding:var(--spacing-md);border:1px solid var(--border-color)}.day-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-xs) 0;border-bottom:1px solid var(--border-light);transition:all var(--transition-normal)}.day-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.day-row.open[_ngcontent-%COMP%]{background:linear-gradient(90deg,#4caf500d,#4caf5005)}.day-row.closed[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f443360d,#f4433605)}.day-name[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary);min-width:100px;font-size:.95rem}.day-hours[_ngcontent-%COMP%]{color:#4caf50;font-weight:500;font-size:.95rem;text-align:right}.day-hours.closed-text[_ngcontent-%COMP%]{color:#f44336;font-style:italic}@media (max-width: 768px){.opening-hours-display[_ngcontent-%COMP%]{padding:var(--spacing-sm)}.day-row[_ngcontent-%COMP%]{padding:var(--spacing-xs)}.day-name[_ngcontent-%COMP%]{min-width:80px;font-size:.9rem}.day-hours[_ngcontent-%COMP%]{font-size:.9rem}}"]})};function Ph(n,t){n&1&&(s(0,"a",79),l(1,"\u2699\uFE0F Param\xE8tre"),a())}function kh(n,t){n&1&&(s(0,"span"),l(1,"\u{1F4E5} Importieren"),a())}function Ah(n,t){n&1&&(s(0,"span"),l(1,"\u23F3 L\xE4dt..."),a())}function Ih(n,t){if(n&1&&(s(0,"div",80),l(1),a()),n&2){let e=m();p(),j(" \u2705 ",e.successMessage," ")}}function Dh(n,t){if(n&1&&(s(0,"div",81),l(1),a()),n&2){let e=m();p(),j(" \u274C ",e.errorMessage," ")}}function Th(n,t){if(n&1&&(s(0,"div",82),l(1),a()),n&2){let e=m();p(),j(" \u26A0\uFE0F ",e.geocodingWarning||"Achtung: Die Adresse konnte nicht genau lokalisiert werden. Bitte \xFCberpr\xFCfen Sie die Eingabe."," ")}}function Rh(n,t){if(n&1&&(s(0,"option",83),l(1),a()),n&2){let e=t.$implicit;h("value",e.value),p(),Ae(" ",e.icon," ",e.label," ")}}function zh(n,t){n&1&&(s(0,"span"),l(1,"\u{1F4C1} Bild ausw\xE4hlen"),a())}function Lh(n,t){n&1&&(s(0,"span"),l(1,"\u{1F504} Anderes Bild w\xE4hlen"),a())}function Fh(n,t){n&1&&(s(0,"span"),l(1,"\u23F3 Wird bearbeitet..."),a())}function Nh(n,t){n&1&&(s(0,"div",84)(1,"div",85),I(2,"div",86),a(),s(3,"small"),l(4,"Bild wird komprimiert und vorbereitet..."),a()())}function Uh(n,t){if(n&1){let e=F();s(0,"div",87),I(1,"img",88),s(2,"button",89),y("click",function(){_(e);let r=m(),o=jt(48);return r.imagePreview=null,r.selectedFile=null,v(o.value="")}),l(3," \u2715 "),a()()}if(n&2){let e=m();p(),h("src",e.imagePreview,ke)}}function Bh(n,t){n&1&&(s(0,"div",90),l(1," \u{1F5FA}\uFE0F Adresse wird georeferenziert... "),a())}function jh(n,t){if(n&1&&(s(0,"div",91),l(1),a()),n&2){let e=m();p(),Ae(" \u2705 Standort gefunden: ",e.afroshop.coordinates.lat.toFixed(4),", ",e.afroshop.coordinates.lng.toFixed(4)," ")}}function Gh(n,t){if(n&1){let e=F();s(0,"div",11)(1,"label",92),l(2,"K\xFCche"),a(),s(3,"input",93),z("ngModelChange",function(r){_(e);let o=m();return R(o.afroshop.cuisine,r)||(o.afroshop.cuisine=r),v(r)}),a(),s(4,"small",33),l(5,"Spezifizieren Sie die Art der afrikanischen K\xFCche"),a()()}if(n&2){let e=m();p(3),T("ngModel",e.afroshop.cuisine)}}function Vh(n,t){if(n&1){let e=F();s(0,"div",94)(1,"select",95),z("ngModelChange",function(r){_(e);let o=m();return R(o.openingHours.monday.open,r)||(o.openingHours.monday.open=r),v(r)}),s(2,"option",96),l(3,"06:00"),a(),s(4,"option",97),l(5,"07:00"),a(),s(6,"option",98),l(7,"08:00"),a(),s(8,"option",99),l(9,"09:00"),a(),s(10,"option",100),l(11,"10:00"),a(),s(12,"option",101),l(13,"11:00"),a(),s(14,"option",102),l(15,"12:00"),a(),s(16,"option",103),l(17,"13:00"),a(),s(18,"option",104),l(19,"14:00"),a(),s(20,"option",105),l(21,"15:00"),a(),s(22,"option",106),l(23,"16:00"),a(),s(24,"option",107),l(25,"17:00"),a(),s(26,"option",108),l(27,"18:00"),a(),s(28,"option",109),l(29,"19:00"),a(),s(30,"option",110),l(31,"20:00"),a(),s(32,"option",111),l(33,"21:00"),a(),s(34,"option",112),l(35,"22:00"),a(),s(36,"option",113),l(37,"23:00"),a()(),s(38,"span",114),l(39,"bis"),a(),s(40,"select",115),z("ngModelChange",function(r){_(e);let o=m();return R(o.openingHours.monday.close,r)||(o.openingHours.monday.close=r),v(r)}),s(41,"option",96),l(42,"06:00"),a(),s(43,"option",97),l(44,"07:00"),a(),s(45,"option",98),l(46,"08:00"),a(),s(47,"option",99),l(48,"09:00"),a(),s(49,"option",100),l(50,"10:00"),a(),s(51,"option",101),l(52,"11:00"),a(),s(53,"option",102),l(54,"12:00"),a(),s(55,"option",103),l(56,"13:00"),a(),s(57,"option",104),l(58,"14:00"),a(),s(59,"option",105),l(60,"15:00"),a(),s(61,"option",106),l(62,"16:00"),a(),s(63,"option",107),l(64,"17:00"),a(),s(65,"option",108),l(66,"18:00"),a(),s(67,"option",109),l(68,"19:00"),a(),s(69,"option",110),l(70,"20:00"),a(),s(71,"option",111),l(72,"21:00"),a(),s(73,"option",112),l(74,"22:00"),a(),s(75,"option",113),l(76,"23:00"),a()()()}if(n&2){let e=m();p(),T("ngModel",e.openingHours.monday.open),p(39),T("ngModel",e.openingHours.monday.close)}}function Wh(n,t){if(n&1){let e=F();s(0,"div",94)(1,"select",116),z("ngModelChange",function(r){_(e);let o=m();return R(o.openingHours.tuesday.open,r)||(o.openingHours.tuesday.open=r),v(r)}),s(2,"option",96),l(3,"06:00"),a(),s(4,"option",97),l(5,"07:00"),a(),s(6,"option",98),l(7,"08:00"),a(),s(8,"option",99),l(9,"09:00"),a(),s(10,"option",100),l(11,"10:00"),a(),s(12,"option",101),l(13,"11:00"),a(),s(14,"option",102),l(15,"12:00"),a(),s(16,"option",103),l(17,"13:00"),a(),s(18,"option",104),l(19,"14:00"),a(),s(20,"option",105),l(21,"15:00"),a(),s(22,"option",106),l(23,"16:00"),a(),s(24,"option",107),l(25,"17:00"),a(),s(26,"option",108),l(27,"18:00"),a(),s(28,"option",109),l(29,"19:00"),a(),s(30,"option",110),l(31,"20:00"),a(),s(32,"option",111),l(33,"21:00"),a(),s(34,"option",112),l(35,"22:00"),a(),s(36,"option",113),l(37,"23:00"),a()(),s(38,"span",114),l(39,"bis"),a(),s(40,"select",117),z("ngModelChange",function(r){_(e);let o=m();return R(o.openingHours.tuesday.close,r)||(o.openingHours.tuesday.close=r),v(r)}),s(41,"option",96),l(42,"06:00"),a(),s(43,"option",97),l(44,"07:00"),a(),s(45,"option",98),l(46,"08:00"),a(),s(47,"option",99),l(48,"09:00"),a(),s(49,"option",100),l(50,"10:00"),a(),s(51,"option",101),l(52,"11:00"),a(),s(53,"option",102),l(54,"12:00"),a(),s(55,"option",103),l(56,"13:00"),a(),s(57,"option",104),l(58,"14:00"),a(),s(59,"option",105),l(60,"15:00"),a(),s(61,"option",106),l(62,"16:00"),a(),s(63,"option",107),l(64,"17:00"),a(),s(65,"option",108),l(66,"18:00"),a(),s(67,"option",109),l(68,"19:00"),a(),s(69,"option",110),l(70,"20:00"),a(),s(71,"option",111),l(72,"21:00"),a(),s(73,"option",112),l(74,"22:00"),a(),s(75,"option",113),l(76,"23:00"),a()()()}if(n&2){let e=m();p(),T("ngModel",e.openingHours.tuesday.open),p(39),T("ngModel",e.openingHours.tuesday.close)}}function $h(n,t){if(n&1){let e=F();s(0,"div",94)(1,"select",118),z("ngModelChange",function(r){_(e);let o=m();return R(o.openingHours.wednesday.open,r)||(o.openingHours.wednesday.open=r),v(r)}),s(2,"option",96),l(3,"06:00"),a(),s(4,"option",97),l(5,"07:00"),a(),s(6,"option",98),l(7,"08:00"),a(),s(8,"option",99),l(9,"09:00"),a(),s(10,"option",100),l(11,"10:00"),a(),s(12,"option",101),l(13,"11:00"),a(),s(14,"option",102),l(15,"12:00"),a(),s(16,"option",103),l(17,"13:00"),a(),s(18,"option",104),l(19,"14:00"),a(),s(20,"option",105),l(21,"15:00"),a(),s(22,"option",106),l(23,"16:00"),a(),s(24,"option",107),l(25,"17:00"),a(),s(26,"option",108),l(27,"18:00"),a(),s(28,"option",109),l(29,"19:00"),a(),s(30,"option",110),l(31,"20:00"),a(),s(32,"option",111),l(33,"21:00"),a(),s(34,"option",112),l(35,"22:00"),a(),s(36,"option",113),l(37,"23:00"),a()(),s(38,"span",114),l(39,"bis"),a(),s(40,"select",119),z("ngModelChange",function(r){_(e);let o=m();return R(o.openingHours.wednesday.close,r)||(o.openingHours.wednesday.close=r),v(r)}),s(41,"option",96),l(42,"06:00"),a(),s(43,"option",97),l(44,"07:00"),a(),s(45,"option",98),l(46,"08:00"),a(),s(47,"option",99),l(48,"09:00"),a(),s(49,"option",100),l(50,"10:00"),a(),s(51,"option",101),l(52,"11:00"),a(),s(53,"option",102),l(54,"12:00"),a(),s(55,"option",103),l(56,"13:00"),a(),s(57,"option",104),l(58,"14:00"),a(),s(59,"option",105),l(60,"15:00"),a(),s(61,"option",106),l(62,"16:00"),a(),s(63,"option",107),l(64,"17:00"),a(),s(65,"option",108),l(66,"18:00"),a(),s(67,"option",109),l(68,"19:00"),a(),s(69,"option",110),l(70,"20:00"),a(),s(71,"option",111),l(72,"21:00"),a(),s(73,"option",112),l(74,"22:00"),a(),s(75,"option",113),l(76,"23:00"),a()()()}if(n&2){let e=m();p(),T("ngModel",e.openingHours.wednesday.open),p(39),T("ngModel",e.openingHours.wednesday.close)}}function Hh(n,t){if(n&1){let e=F();s(0,"div",94)(1,"select",120),z("ngModelChange",function(r){_(e);let o=m();return R(o.openingHours.thursday.open,r)||(o.openingHours.thursday.open=r),v(r)}),s(2,"option",96),l(3,"06:00"),a(),s(4,"option",97),l(5,"07:00"),a(),s(6,"option",98),l(7,"08:00"),a(),s(8,"option",99),l(9,"09:00"),a(),s(10,"option",100),l(11,"10:00"),a(),s(12,"option",101),l(13,"11:00"),a(),s(14,"option",102),l(15,"12:00"),a(),s(16,"option",103),l(17,"13:00"),a(),s(18,"option",104),l(19,"14:00"),a(),s(20,"option",105),l(21,"15:00"),a(),s(22,"option",106),l(23,"16:00"),a(),s(24,"option",107),l(25,"17:00"),a(),s(26,"option",108),l(27,"18:00"),a(),s(28,"option",109),l(29,"19:00"),a(),s(30,"option",110),l(31,"20:00"),a(),s(32,"option",111),l(33,"21:00"),a(),s(34,"option",112),l(35,"22:00"),a(),s(36,"option",113),l(37,"23:00"),a()(),s(38,"span",114),l(39,"bis"),a(),s(40,"select",121),z("ngModelChange",function(r){_(e);let o=m();return R(o.openingHours.thursday.close,r)||(o.openingHours.thursday.close=r),v(r)}),s(41,"option",96),l(42,"06:00"),a(),s(43,"option",97),l(44,"07:00"),a(),s(45,"option",98),l(46,"08:00"),a(),s(47,"option",99),l(48,"09:00"),a(),s(49,"option",100),l(50,"10:00"),a(),s(51,"option",101),l(52,"11:00"),a(),s(53,"option",102),l(54,"12:00"),a(),s(55,"option",103),l(56,"13:00"),a(),s(57,"option",104),l(58,"14:00"),a(),s(59,"option",105),l(60,"15:00"),a(),s(61,"option",106),l(62,"16:00"),a(),s(63,"option",107),l(64,"17:00"),a(),s(65,"option",108),l(66,"18:00"),a(),s(67,"option",109),l(68,"19:00"),a(),s(69,"option",110),l(70,"20:00"),a(),s(71,"option",111),l(72,"21:00"),a(),s(73,"option",112),l(74,"22:00"),a(),s(75,"option",113),l(76,"23:00"),a()()()}if(n&2){let e=m();p(),T("ngModel",e.openingHours.thursday.open),p(39),T("ngModel",e.openingHours.thursday.close)}}function qh(n,t){if(n&1){let e=F();s(0,"div",94)(1,"select",122),z("ngModelChange",function(r){_(e);let o=m();return R(o.openingHours.friday.open,r)||(o.openingHours.friday.open=r),v(r)}),s(2,"option",96),l(3,"06:00"),a(),s(4,"option",97),l(5,"07:00"),a(),s(6,"option",98),l(7,"08:00"),a(),s(8,"option",99),l(9,"09:00"),a(),s(10,"option",100),l(11,"10:00"),a(),s(12,"option",101),l(13,"11:00"),a(),s(14,"option",102),l(15,"12:00"),a(),s(16,"option",103),l(17,"13:00"),a(),s(18,"option",104),l(19,"14:00"),a(),s(20,"option",105),l(21,"15:00"),a(),s(22,"option",106),l(23,"16:00"),a(),s(24,"option",107),l(25,"17:00"),a(),s(26,"option",108),l(27,"18:00"),a(),s(28,"option",109),l(29,"19:00"),a(),s(30,"option",110),l(31,"20:00"),a(),s(32,"option",111),l(33,"21:00"),a(),s(34,"option",112),l(35,"22:00"),a(),s(36,"option",113),l(37,"23:00"),a()(),s(38,"span",114),l(39,"bis"),a(),s(40,"select",123),z("ngModelChange",function(r){_(e);let o=m();return R(o.openingHours.friday.close,r)||(o.openingHours.friday.close=r),v(r)}),s(41,"option",96),l(42,"06:00"),a(),s(43,"option",97),l(44,"07:00"),a(),s(45,"option",98),l(46,"08:00"),a(),s(47,"option",99),l(48,"09:00"),a(),s(49,"option",100),l(50,"10:00"),a(),s(51,"option",101),l(52,"11:00"),a(),s(53,"option",102),l(54,"12:00"),a(),s(55,"option",103),l(56,"13:00"),a(),s(57,"option",104),l(58,"14:00"),a(),s(59,"option",105),l(60,"15:00"),a(),s(61,"option",106),l(62,"16:00"),a(),s(63,"option",107),l(64,"17:00"),a(),s(65,"option",108),l(66,"18:00"),a(),s(67,"option",99),l(68,"09:00"),a(),s(69,"option",110),l(70,"20:00"),a(),s(71,"option",111),l(72,"21:00"),a(),s(73,"option",112),l(74,"22:00"),a(),s(75,"option",113),l(76,"23:00"),a()()()}if(n&2){let e=m();p(),T("ngModel",e.openingHours.friday.open),p(39),T("ngModel",e.openingHours.friday.close)}}function Kh(n,t){if(n&1){let e=F();s(0,"div",94)(1,"select",124),z("ngModelChange",function(r){_(e);let o=m();return R(o.openingHours.saturday.open,r)||(o.openingHours.saturday.open=r),v(r)}),s(2,"option",96),l(3,"06:00"),a(),s(4,"option",97),l(5,"07:00"),a(),s(6,"option",98),l(7,"08:00"),a(),s(8,"option",99),l(9,"09:00"),a(),s(10,"option",100),l(11,"10:00"),a(),s(12,"option",101),l(13,"11:00"),a(),s(14,"option",102),l(15,"12:00"),a(),s(16,"option",103),l(17,"13:00"),a(),s(18,"option",104),l(19,"14:00"),a(),s(20,"option",105),l(21,"15:00"),a(),s(22,"option",106),l(23,"16:00"),a(),s(24,"option",107),l(25,"17:00"),a(),s(26,"option",108),l(27,"18:00"),a(),s(28,"option",109),l(29,"19:00"),a(),s(30,"option",110),l(31,"20:00"),a(),s(32,"option",111),l(33,"21:00"),a(),s(34,"option",112),l(35,"22:00"),a(),s(36,"option",113),l(37,"23:00"),a()(),s(38,"span",114),l(39,"bis"),a(),s(40,"select",125),z("ngModelChange",function(r){_(e);let o=m();return R(o.openingHours.saturday.close,r)||(o.openingHours.saturday.close=r),v(r)}),s(41,"option",96),l(42,"06:00"),a(),s(43,"option",97),l(44,"07:00"),a(),s(45,"option",98),l(46,"08:00"),a(),s(47,"option",99),l(48,"09:00"),a(),s(49,"option",100),l(50,"10:00"),a(),s(51,"option",101),l(52,"11:00"),a(),s(53,"option",102),l(54,"12:00"),a(),s(55,"option",103),l(56,"13:00"),a(),s(57,"option",104),l(58,"14:00"),a(),s(59,"option",105),l(60,"15:00"),a(),s(61,"option",106),l(62,"16:00"),a(),s(63,"option",107),l(64,"17:00"),a(),s(65,"option",108),l(66,"18:00"),a(),s(67,"option",109),l(68,"19:00"),a(),s(69,"option",110),l(70,"20:00"),a(),s(71,"option",111),l(72,"21:00"),a(),s(73,"option",112),l(74,"22:00"),a(),s(75,"option",113),l(76,"23:00"),a()()()}if(n&2){let e=m();p(),T("ngModel",e.openingHours.saturday.open),p(39),T("ngModel",e.openingHours.saturday.close)}}function Zh(n,t){if(n&1){let e=F();s(0,"div",94)(1,"select",126),z("ngModelChange",function(r){_(e);let o=m();return R(o.openingHours.sunday.open,r)||(o.openingHours.sunday.open=r),v(r)}),s(2,"option",96),l(3,"06:00"),a(),s(4,"option",97),l(5,"07:00"),a(),s(6,"option",98),l(7,"08:00"),a(),s(8,"option",99),l(9,"09:00"),a(),s(10,"option",100),l(11,"10:00"),a(),s(12,"option",101),l(13,"11:00"),a(),s(14,"option",102),l(15,"12:00"),a(),s(16,"option",103),l(17,"13:00"),a(),s(18,"option",104),l(19,"14:00"),a(),s(20,"option",105),l(21,"15:00"),a(),s(22,"option",106),l(23,"16:00"),a(),s(24,"option",107),l(25,"17:00"),a(),s(26,"option",108),l(27,"18:00"),a(),s(28,"option",109),l(29,"19:00"),a(),s(30,"option",110),l(31,"20:00"),a(),s(32,"option",111),l(33,"21:00"),a(),s(34,"option",112),l(35,"22:00"),a(),s(36,"option",113),l(37,"23:00"),a()(),s(38,"span",114),l(39,"bis"),a(),s(40,"select",127),z("ngModelChange",function(r){_(e);let o=m();return R(o.openingHours.sunday.close,r)||(o.openingHours.sunday.close=r),v(r)}),s(41,"option",96),l(42,"06:00"),a(),s(43,"option",97),l(44,"07:00"),a(),s(45,"option",98),l(46,"08:00"),a(),s(47,"option",99),l(48,"09:00"),a(),s(49,"option",100),l(50,"10:00"),a(),s(51,"option",101),l(52,"11:00"),a(),s(53,"option",102),l(54,"12:00"),a(),s(55,"option",103),l(56,"13:00"),a(),s(57,"option",104),l(58,"14:00"),a(),s(59,"option",105),l(60,"15:00"),a(),s(61,"option",106),l(62,"16:00"),a(),s(63,"option",107),l(64,"17:00"),a(),s(65,"option",108),l(66,"18:00"),a(),s(67,"option",109),l(68,"19:00"),a(),s(69,"option",110),l(70,"20:00"),a(),s(71,"option",111),l(72,"21:00"),a(),s(73,"option",112),l(74,"22:00"),a(),s(75,"option",113),l(76,"23:00"),a()()()}if(n&2){let e=m();p(),T("ngModel",e.openingHours.sunday.open),p(39),T("ngModel",e.openingHours.sunday.close)}}function Yh(n,t){n&1&&(s(0,"span"),l(1,"\u274C Abbrechen"),a())}function Xh(n,t){n&1&&(s(0,"span"),l(1,"\u23F3 Warten..."),a())}function Jh(n,t){if(n&1&&(s(0,"span"),l(1),a()),n&2){let e=m();p(),K(e.isEditMode?"\u23F3 Wird aktualisiert...":"\u23F3 Wird hinzugef\xFCgt...")}}function Qh(n,t){n&1&&(s(0,"span"),l(1,"\u{1F4E4} Bild wird hochgeladen..."),a())}function em(n,t){if(n&1&&(s(0,"span"),l(1),a()),n&2){let e=m();p(),K(e.isEditMode?"\u{1F4BE} \xC4nderungen speichern":"\u{1F3EA} Afroshop hinzuf\xFCgen")}}var ai=class n{constructor(t,e,i,r,o,c,d){this.firebaseService=t;this.authService=e;this.translationService=i;this.geocodingService=r;this.router=o;this.route=c;this.firestore=d}geocodingWarning="";initStreetAutocomplete(t){if(window.google&&window.google.maps)this.setupAutocomplete(t);else{let e=setInterval(()=>{window.google&&window.google.maps&&(clearInterval(e),this.setupAutocomplete(t))},300)}}setupAutocomplete(t){if(window.google&&window.google.maps&&window.google.maps.places.PlaceAutocompleteElement){let e=document.createElement("gmp-place-autocomplete");e.setAttribute("componentRestrictions",JSON.stringify({country:"DE"})),e.setAttribute("fields","address_components,formatted_address"),e.setAttribute("placeholder",t.placeholder||"Adresse"),e.setAttribute("inputMode","search"),t.parentNode?.replaceChild(e,t),e.addEventListener("gmp-place-autocomplete:place_changed",i=>{let r=i.detail;if(r&&r.address_components){let o="",c="",d="";for(let u of r.address_components)u.types.includes("route")&&(o=u.long_name),u.types.includes("street_number")&&(o+=" "+u.long_name),u.types.includes("locality")&&(c=u.long_name),u.types.includes("postal_code")&&(d=u.long_name);o.trim()&&!/^!+$/.test(o.trim())&&(this.afroshop.street=o.trim()),c&&(this.afroshop.city=c),d&&(this.afroshop.plz=d)}})}}afroshop={name:"",type:"restaurant",address:"",street:"",city:"",plz:"",coordinates:{lat:0,lng:0},phone:"",description:"",rating:4,image:"",cuisine:"",priceLevel:0,hours:"",website:""};openingHours={monday:{isOpen:!1,open:"09:00",close:"18:00"},tuesday:{isOpen:!1,open:"09:00",close:"18:00"},wednesday:{isOpen:!1,open:"09:00",close:"18:00"},thursday:{isOpen:!1,open:"09:00",close:"18:00"},friday:{isOpen:!1,open:"09:00",close:"18:00"},saturday:{isOpen:!1,open:"10:00",close:"16:00"},sunday:{isOpen:!1,open:"12:00",close:"16:00"}};isEditMode=!1;editingId=null;selectedFile=null;imagePreview=null;isUploadingImage=!1;importUrl="";isImporting=!1;isSubmitting=!1;isGeocoding=!1;isAdmin=!1;successMessage="";errorMessage="";ngOnInit(){return w(this,null,function*(){this.authService.user$.subscribe(e=>w(this,null,function*(){if(console.log("Mon UID:",e?.uid),e?.uid){let i=Qe(this.firestore,"roles/admins"),o=(yield $t(i)).data();console.log("UIDs Firestore:",o?.uids),this.isAdmin=o?.uids?.includes(e.uid)??!1,console.log("isAdmin:",this.isAdmin)}else this.isAdmin=!1}));let t=this.route.snapshot.paramMap.get("id");t&&(this.isEditMode=!0,this.editingId=t,this.loadAfroshopForEdit(t))})}loadAfroshopForEdit(t){return w(this,null,function*(){try{let e=yield this.firebaseService.getAfroshopById(t);e?(this.afroshop={name:e.name||"",type:e.type||"restaurant",address:e.address||"",street:e.street||"",city:e.city||"",plz:e.plz||"",coordinates:e.coordinates||{lat:0,lng:0},phone:e.phone||"",description:e.description||"",rating:e.rating||4,image:e.image||"",cuisine:e.cuisine||"",priceLevel:e.priceLevel||2,hours:e.hours||"",website:e.website||""},this.imagePreview=e.image||null,this.parseOpeningHoursFromString(e.hours||"")):(this.errorMessage="Afroshop nicht gefunden",setTimeout(()=>this.router.navigate(["/"]),2e3))}catch(e){console.error("Fehler beim Laden:",e),this.errorMessage="Fehler beim Laden des Afroshops"}})}onFileSelected(t){return w(this,null,function*(){let e=t.target.files[0];if(this.errorMessage="",e){if(console.log("\u{1F4C1} Datei ausgew\xE4hlt:",e.name,`${(e.size/1024).toFixed(0)}KB`),!e.type.startsWith("image/")){this.errorMessage="Bitte w\xE4hlen Sie eine Bilddatei (JPG, PNG, GIF)";return}if(e.size>5*1024*1024){this.errorMessage="Bild ist zu gro\xDF (max 5MB)";return}try{this.isUploadingImage=!0,console.log("\u{1F5DC}\uFE0F Komprimierung startet...");let i=yield this.compressImage(e);this.selectedFile=i,console.log("\u2705 Komprimierung abgeschlossen");let r=new FileReader;r.onload=o=>{this.imagePreview=o.target.result,console.log("\u{1F441}\uFE0F Vorschau erstellt")},r.readAsDataURL(i)}catch(i){console.error("\u274C Komprimierungsfehler:",i),this.errorMessage="Fehler bei der Bildkomprimierung"}finally{this.isUploadingImage=!1}}})}testFirebaseConnection(){return w(this,null,function*(){console.log("\u{1F525} Test Firebase Storage...");try{console.log("\u{1F50D} Storage service:",this.firebaseService),console.log("\u{1F50D} Storage instance:",this.firebaseService.storage);let t=document.createElement("canvas");t.width=100,t.height=100;let e=t.getContext("2d");e&&(e.fillStyle="#FF6B6B",e.fillRect(0,0,100,100),e.fillStyle="white",e.font="16px Arial",e.fillText("Test",30,55));let i=yield new Promise(c=>{t.toBlob(d=>c(d),"image/jpeg",.8)}),r=new File([i],"test-image.jpg",{type:"image/jpeg"});console.log("\u{1F9EA} Test upload avec image g\xE9n\xE9r\xE9e...",r.size,"bytes");let o=yield this.firebaseService.uploadImage(r);console.log("\u2705 Test r\xE9ussi! URL:",o),this.successMessage="Firebase Storage fonctionne correctement! Image upload\xE9e."}catch(t){console.error("\u274C Test \xE9chou\xE9:",t),t instanceof Error?t.message.includes("CORS")?this.errorMessage="Erreur CORS: V\xE9rifiez les r\xE8gles Firebase Storage et l'authentification.":t.message.includes("permission-denied")?this.errorMessage="Permission refus\xE9e: Connectez-vous et v\xE9rifiez les r\xE8gles Firebase.":t.message.includes("network")?this.errorMessage="Erreur r\xE9seau: V\xE9rifiez votre connexion internet.":this.errorMessage=`Erreur Firebase: ${t.message}`:this.errorMessage="Erreur inconnue lors du test Firebase Storage."}})}compressImage(t){return new Promise((e,i)=>{let r=new FileReader;r.readAsDataURL(t),r.onload=o=>{let c=new Image;c.src=o.target.result,c.onload=()=>{let d=document.createElement("canvas"),u=d.getContext("2d"),g=1200,f=1200,M=c.width,O=c.height;M>O?M>g&&(O*=g/M,M=g):O>f&&(M*=f/O,O=f),d.width=M,d.height=O,u?.drawImage(c,0,0,M,O),d.toBlob(D=>{if(D){let B=new File([D],t.name,{type:"image/jpeg",lastModified:Date.now()});console.log(`\u2705 Image compress\xE9e: ${(t.size/1024).toFixed(0)}KB \u2192 ${(B.size/1024).toFixed(0)}KB`),e(B)}else i(new Error("Compression \xE9chou\xE9e"))},"image/jpeg",.8)},c.onerror=()=>i(new Error("Erreur de chargement de l'image"))},r.onerror=()=>i(new Error("Erreur de lecture du fichier"))})}uploadImage(){return w(this,null,function*(){if(!this.selectedFile)return console.log("\u{1F4DD} Kein neues Bild, behalte das vorhandene"),this.afroshop.image;this.isUploadingImage=!0,console.log(`\u{1F4E4} Upload l\xE4uft... Gr\xF6\xDFe: ${(this.selectedFile.size/1024).toFixed(0)}KB`),console.log("\u{1F4C1} Datei:",this.selectedFile.name,this.selectedFile.type);try{console.log("\u{1F525} Service Firebase:",this.firebaseService);let t=yield this.firebaseService.uploadImage(this.selectedFile);return console.log("\u2705 Upload erfolgreich! URL:",t),this.afroshop.image=t,t}catch(t){throw console.error("\u274C Detaillierter Upload-Fehler:",t),console.error("\u274C Fehlertyp:",typeof t),console.error("\u274C Nachricht:",t instanceof Error?t.message:"Unbekannter Fehler"),t instanceof Error?this.errorMessage=`Upload-Fehler: ${t.message}`:this.errorMessage="Unbekannter Upload-Fehler",t}finally{this.isUploadingImage=!1}})}onSubmit(){return w(this,null,function*(){if(this.validateForm()){this.isSubmitting=!0,this.errorMessage="",this.successMessage="";try{let t=this.authService.getCurrentUser();if(!t){this.errorMessage="Sie m\xFCssen angemeldet sein";return}this.selectedFile&&(this.afroshop.image=yield this.uploadImage()),(!this.afroshop.priceLevel||this.afroshop.priceLevel===0)&&(this.afroshop.priceLevel=2),this.afroshop.website=this.afroshop.website?.trim()||"",this.afroshop.cuisine=this.afroshop.cuisine?.trim()||"",this.afroshop.hours=this.convertOpeningHoursToString();let e=this.extractCityFromAddress(this.afroshop.address);if(console.log("\u{1F4DD} Donn\xE9es soumises:",JSON.stringify(this.afroshop)),console.log("\u{1F5FA}\uFE0F Coordonn\xE9es:",this.afroshop.coordinates),console.log("\u{1F3D9}\uFE0F Ville extraite:",e),console.log("\u{1F6E3}\uFE0F Adresse:",this.afroshop.address),this.isEditMode&&this.editingId){let i=G(b({},this.afroshop),{city:e,updatedBy:t.uid,updatedByName:t.displayName||t.email,updatedAt:new Date});console.log("\u{1F504} Mise \xE0 jour Afroshop:",i),yield this.firebaseService.updateAfroshop(this.editingId,i),this.successMessage="\u2705 Afroshop erfolgreich aktualisiert!"}else{let i=G(b({},this.afroshop),{verified:!1,city:e,createdBy:t.uid,createdByName:t.displayName||t.email,createdAt:new Date});console.log("\u2795 Cr\xE9ation Afroshop:",i);let r=yield this.firebaseService.addAfroshop(i);this.successMessage="\u2705 Afroshop erfolgreich hinzugef\xFCgt! ID: "+r}this.resetForm(),console.log("\u{1F500} Navigation vers la galerie..."),setTimeout(()=>{this.router.navigate(["/gallery"])},2e3)}catch(t){console.error("Fehler:",t),this.errorMessage=this.isEditMode?"Fehler beim Aktualisieren des Afroshops":"Fehler beim Hinzuf\xFCgen des Afroshops"}finally{this.isSubmitting=!1}}})}validateForm(){return this.afroshop.name.trim()?this.afroshop.address.trim()?this.geocodingService.isValidCoordinates(this.afroshop.coordinates.lat,this.afroshop.coordinates.lng)?this.afroshop.phone.trim()?this.afroshop.description.trim()?this.afroshop.website&&this.afroshop.website.trim()&&!/^https?:\/\/.+/.test(this.afroshop.website)?(this.errorMessage="Website URL muss mit http:// oder https:// beginnen",!1):(this.setCoordinatesFromAddress(),!0):(this.errorMessage="Beschreibung ist erforderlich",!1):(this.errorMessage="Telefonnummer ist erforderlich",!1):(this.errorMessage="Adresse konnte nicht georeferenziert werden. Bitte \xFCberpr\xFCfen Sie die Adresse.",console.warn("\u274C Coordonn\xE9es invalides:",this.afroshop.coordinates),!1):(this.errorMessage="Adresse ist erforderlich",!1):(this.errorMessage="Name ist erforderlich",!1)}onAddressChange(){if(console.log("\u{1F4DD} Stra\xDFeneingabe:",this.afroshop.street),/^!+$/.test(this.afroshop.street)){this.geocodingWarning="Ung\xFCltige Eingabe: Bitte geben Sie eine g\xFCltige Stra\xDFe ein.";return}this.geocodeTimeout&&clearTimeout(this.geocodeTimeout),this.geocodeTimeout=setTimeout(()=>{this.setCoordinatesFromAddress()},1e3)}geocodeTimeout=null;setCoordinatesFromAddress(){let t=this.afroshop.street?this.afroshop.street.trim():"",e=this.afroshop.plz?this.afroshop.plz.trim():"",i=this.afroshop.city?this.afroshop.city.trim():"";if(!t||t.length<3){this.geocodingWarning="Bitte geben Sie eine g\xFCltige Stra\xDFe ein (mindestens 3 Zeichen).",console.warn("\u274C Stra\xDFe zu kurz oder leer, Geocodierung abgebrochen.");return}t=t.replace(/([a-zA-Z]+)(\d+)/,"$1 $2"),t=t.replace(/\bStr\.?\b/g,"Stra\xDFe"),t=t.replace(/\bPl\.?\b/g,"Platz"),t=t.replace(/\bDr\.?\b/g,"Doktor"),t=t.replace(/\b([a-z])([a-z]*)/gi,(o,c,d)=>c.toUpperCase()+d.toLowerCase()),i=i.replace(/\b([a-z])([a-z]*)/gi,(o,c,d)=>c.toUpperCase()+d.toLowerCase()),t=t.replace(//g,"ss").replace(/[]/gi,"e").replace(/[]/gi,"a").replace(/[]/gi,"i").replace(/[]/gi,"o").replace(/[]/gi,"u").replace(//gi,"c"),i=i.replace(//g,"ss").replace(/[]/gi,"e").replace(/[]/gi,"a").replace(/[]/gi,"i").replace(/[]/gi,"o").replace(/[]/gi,"u").replace(//gi,"c");let r=`${t}, ${e} ${i}`.trim();if(this.afroshop.address=r,console.log("\u{1F5FA}\uFE0F Adresse normalis\xE9e pour g\xE9ocodage:",r),!r||r.length===0){console.log("\u274C Adresse vide, impossible de g\xE9ocoder"),this.isGeocoding=!1;return}if(this.geocodingService.isValidCoordinates(this.afroshop.coordinates.lat,this.afroshop.coordinates.lng)){console.log("\u2705 Coordonn\xE9es d\xE9j\xE0 valides:",this.afroshop.coordinates),this.isGeocoding=!1;return}console.log("\u{1F5FA}\uFE0F D\xE9marrage du g\xE9ocodage pour:",r),this.isGeocoding=!0,this.geocodingService.geocodeAddress(r).subscribe({next:o=>{if(this.isGeocoding=!1,this.geocodingWarning="",o&&o.lat&&o.lng&&(o.lat!==0||o.lng!==0))this.afroshop.coordinates={lat:o.lat,lng:o.lng},console.log("\u2705 G\xE9ocodage r\xE9ussi:",{address:this.afroshop.address,coordinates:this.afroshop.coordinates,formatted_address:o.formatted_address}),o.accuracy==="APPROXIMATE"&&(this.geocodingWarning="Attention : la localisation est impr\xE9cise, veuillez v\xE9rifier l'adresse."),o.formatted_address&&this.afroshop.city&&!o.formatted_address.toLowerCase().includes(this.afroshop.city.toLowerCase())&&(this.geocodingWarning="Attention : la ville trouv\xE9e ne correspond pas \xE0 celle saisie."),o.formatted_address&&o.accuracy!=="APPROXIMATE"&&(this.afroshop.address=o.formatted_address);else{console.warn("\u274C Premi\xE8re tentative \xE9chou\xE9e, essai avec adresse brute:",this.afroshop.street,this.afroshop.plz,this.afroshop.city);let c=`${this.afroshop.street}, ${this.afroshop.plz} ${this.afroshop.city}`.trim();c+=", Deutschland",this.geocodingService.geocodeAddress(c).subscribe({next:d=>{console.log("\u{1F5FA}\uFE0F R\xE9ponse brute API g\xE9ocodage (fallback):",d),d&&d.lat&&d.lng&&(d.lat!==0||d.lng!==0)?(this.afroshop.coordinates={lat:d.lat,lng:d.lng},console.log("\u2705 Coordonn\xE9es trouv\xE9es (fallback):",d),d.formatted_address&&d.accuracy!=="APPROXIMATE"&&(this.afroshop.address=d.formatted_address)):(this.afroshop.coordinates={lat:0,lng:0},console.log("\u274C Coordonn\xE9es invalides apr\xE8s fallback:",d),this.geocodingWarning="Adresse non reconnue, veuillez v\xE9rifier.")},error:d=>{this.afroshop.coordinates={lat:0,lng:0},this.geocodingWarning="Erreur lors du g\xE9ocodage.",console.error("\u274C Erreur lors du g\xE9ocodage (fallback):",d)}})}},error:o=>{this.isGeocoding=!1,this.geocodingWarning="Erreur lors du g\xE9ocodage.",console.error("\u274C Erreur lors du g\xE9ocodage:",o),this.afroshop.coordinates={lat:0,lng:0}}})}resetForm(){this.afroshop={name:"",type:"restaurant",address:"",street:"",city:"",plz:"",coordinates:{lat:0,lng:0},phone:"",description:"",rating:4,image:"",cuisine:"",priceLevel:2,hours:"",website:""}}extractCityFromAddress(t){let e=["berlin","hamburg","m\xFCnchen","k\xF6ln","frankfurt","dortmund"],i=t.toLowerCase();for(let r of e)if(i.includes(r))return r;return"unknown"}importFromUrl(){return w(this,null,function*(){if(!this.importUrl.trim()){this.errorMessage="Bitte geben Sie eine g\xFCltige URL ein";return}this.isImporting=!0,this.errorMessage="",this.successMessage="";try{this.importUrl.includes("google.com/maps")||this.importUrl.includes("goo.gl/maps")?yield this.importFromGoogleMaps():this.importUrl.includes("nextdoor.")?yield this.importFromNextdoor():this.importUrl.includes("facebook.com")||this.importUrl.includes("fb.com")?yield this.importFromFacebook():yield this.importFromGenericWebsite(),this.successMessage="Informationen erfolgreich importiert! \xDCberpr\xFCfen Sie die Felder und erg\xE4nzen Sie bei Bedarf."}catch(t){console.error("Import error:",t),this.errorMessage="Fehler beim Importieren der Daten. Bitte versuchen Sie es manuell."}finally{this.isImporting=!1}})}importFromGoogleMaps(){return w(this,null,function*(){let t=this.extractPlaceNameFromGoogleMapsUrl(this.importUrl);t&&(this.afroshop.name=t,this.afroshop.description="Afrikanisches Gesch\xE4ft/Restaurant gefunden auf Google Maps")})}importFromNextdoor(){return w(this,null,function*(){let e=this.importUrl.split("/").find(i=>i.includes("-"))?.replace(/-/g," ")||"";if(e){this.afroshop.name=this.capitalizeWords(e),this.afroshop.description="Afrikanisches Gesch\xE4ft gefunden auf Nextdoor";let i=e.match(/(berlin|hamburg|mnchen|kln|frankfurt|dortmund|essen|dsseldorf)/i);i&&(this.afroshop.address=i[1])}})}importFromFacebook(){return w(this,null,function*(){try{let t=this.importUrl.split("/"),e="",i=t.findIndex(r=>r==="p");if(i!==-1&&t[i+1])e=t[i+1].split("-").slice(0,-1).join(" ");else{let r=t.find(o=>o&&o!=="www.facebook.com"&&o!=="facebook.com"&&o!=="p"&&!o.match(/^\d+$/)&&o.length>2);r&&(e=r.replace(/-/g," "))}if(e){this.afroshop.name=this.capitalizeWords(e),this.afroshop.description="Afrikanisches Gesch\xE4ft gefunden auf Facebook",this.afroshop.website=this.importUrl,this.afroshop.type="services";let r=e.toLowerCase();r.includes("restaurant")||r.includes("food")||r.includes("cuisine")?this.afroshop.type="restaurant":r.includes("shop")||r.includes("store")||r.includes("market")?this.afroshop.type="epicerie":r.includes("hair")||r.includes("coiffeur")||r.includes("salon")?this.afroshop.type="coiffeur":(r.includes("mode")||r.includes("fashion")||r.includes("clothing"))&&(this.afroshop.type="vetement"),console.log("Facebook import successful:",e)}else throw new Error("Impossible d'extraire le nom depuis l'URL Facebook")}catch(t){console.error("Erreur lors de l'import Facebook:",t),this.afroshop.website=this.importUrl,this.afroshop.description="Afrikanisches Gesch\xE4ft gefunden auf Facebook",this.afroshop.name="Facebook Business"}})}importFromGenericWebsite(){return w(this,null,function*(){try{let e=new URL(this.importUrl).hostname.replace("www.",""),i=e.split(".")[0];i=this.capitalizeWords(i.replace(/[-_]/g," ")),this.afroshop.name=i,this.afroshop.website=this.importUrl,this.afroshop.description=`Afrikanisches Gesch\xE4ft gefunden auf ${e}`,this.afroshop.type="services";let r=e.toLowerCase();r.includes("restaurant")||r.includes("food")||r.includes("cuisine")?this.afroshop.type="restaurant":r.includes("shop")||r.includes("store")||r.includes("market")?this.afroshop.type="epicerie":r.includes("hair")||r.includes("coiffeur")||r.includes("salon")?this.afroshop.type="coiffeur":(r.includes("mode")||r.includes("fashion")||r.includes("clothing"))&&(this.afroshop.type="vetement"),console.log(`Site web g\xE9n\xE9rique import\xE9: ${i} (${e})`)}catch(t){console.error("Erreur lors de l'import du site web:",t),this.afroshop.website=this.importUrl,this.afroshop.description="Site web afrikanisches Gesch\xE4ft",this.afroshop.name="Nouveau Afroshop"}})}extractPlaceNameFromGoogleMapsUrl(t){let e=t.match(/place\/([^\/]+)/);return e?decodeURIComponent(e[1]).replace(/\+/g," "):""}capitalizeWords(t){return t.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}convertOpeningHoursToString(){let t=[{key:"monday",name:"Mo"},{key:"tuesday",name:"Di"},{key:"wednesday",name:"Mi"},{key:"thursday",name:"Do"},{key:"friday",name:"Fr"},{key:"saturday",name:"Sa"},{key:"sunday",name:"So"}],e=[];return t.forEach(i=>{let r=this.openingHours[i.key];r.isOpen&&e.push(`${i.name}: ${r.open}-${r.close}`)}),e.length>0?e.join(", "):"\xD6ffnungszeiten nicht angegeben"}parseOpeningHoursFromString(t){if(!t||t==="\xD6ffnungszeiten nicht angegeben")return;this.openingHours.monday.isOpen=!1,this.openingHours.tuesday.isOpen=!1,this.openingHours.wednesday.isOpen=!1,this.openingHours.thursday.isOpen=!1,this.openingHours.friday.isOpen=!1,this.openingHours.saturday.isOpen=!1,this.openingHours.sunday.isOpen=!1,t.split(",").forEach(i=>{let o=i.trim().match(/^(\w+):\s*(\d{2}:\d{2})-(\d{2}:\d{2})$/);if(o){let[,c,d,u]=o;switch(c.toLowerCase()){case"mo":this.openingHours.monday={isOpen:!0,open:d,close:u};break;case"di":this.openingHours.tuesday={isOpen:!0,open:d,close:u};break;case"mi":this.openingHours.wednesday={isOpen:!0,open:d,close:u};break;case"do":this.openingHours.thursday={isOpen:!0,open:d,close:u};break;case"fr":this.openingHours.friday={isOpen:!0,open:d,close:u};break;case"sa":this.openingHours.saturday={isOpen:!0,open:d,close:u};break;case"so":this.openingHours.sunday={isOpen:!0,open:d,close:u};break}}})}goBack(){this.router.navigate(["/"])}getAllBusinessTypes(){return this.translationService.getAllBusinessTypes()}getBusinessTypeName(t){return this.translationService.getBusinessTypeName(t)}onAddProducts(){this.router.navigate(["/add-product"])}static \u0275fac=function(e){return new(e||n)(P(ge),P(ee),P(He),P(vt),P(Y),P(ue),P(lt))};static \u0275cmp=V({type:n,selectors:[["app-add-afroshop"]],decls:186,vars:50,consts:[["fileInput",""],["streetInput",""],[1,"add-afroshop-container"],[1,"form-header"],[1,"header-content"],[1,"header-text"],[1,"header-actions"],["routerLink","/gallery",1,"back-btn"],["routerLink","/admin","class","back-btn",4,"ngIf"],[1,"afroshop-form",3,"ngSubmit"],[1,"auto-import-section"],[1,"form-group"],["for","importUrl"],[1,"url-input-group"],["type","url","id","importUrl","name","importUrl","placeholder","https://www.facebook.com/business... oder https://www.google.com/maps/place/...",1,"form-input","url-input",3,"ngModelChange","ngModel"],["type","button",1,"import-btn",3,"click","disabled"],[4,"ngIf"],[1,"divider"],["class","message success",4,"ngIf"],["class","message error",4,"ngIf"],["class","message warning",4,"ngIf"],["for","name"],["type","text","id","name","name","name","placeholder","z.B. Mama Afrika Restaurant","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","type"],["id","type","name","type","required","",1,"form-select",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","image"],[1,"image-upload-section"],["type","file","id","image","accept","image/*",1,"file-input",3,"change"],["type","button",1,"upload-btn",3,"click","disabled"],["class","upload-progress",4,"ngIf"],["class","image-preview-container",4,"ngIf"],[1,"form-hint"],["for","street"],["type","text","id","street","name","street","placeholder","z.B. M\xFCllerstra\xDFe 123","required","",1,"form-input",3,"ngModelChange","focus","input","ngModel"],["for","plz"],["type","text","id","plz","name","plz","placeholder","z.B. 13349","required","","pattern","\\d{5}","maxlength","5",1,"form-input",3,"ngModelChange","input","ngModel"],["for","city"],["type","text","id","city","name","city","placeholder","z.B. Berlin","required","","pattern","[A-Za-z\xE4\xF6\xFC\xC4\xD6\xDC\xDF\\-\\s]+",1,"form-input",3,"ngModelChange","input","ngModel"],["class","geocoding-indicator",4,"ngIf"],["class","geocoding-success",4,"ngIf"],["for","phone"],["type","tel","id","phone","name","phone","placeholder","+49 30 12345678","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","description"],["id","description","name","description","placeholder","Beschreiben Sie das Gesch\xE4ft, Spezialit\xE4ten, Atmosph\xE4re...","required","","rows","4",1,"form-textarea",3,"ngModelChange","ngModel"],["class","form-group",4,"ngIf"],[1,"opening-hours-container"],[1,"day-hours"],[1,"day-label"],[1,"hours-controls"],["type","checkbox","id","mon-open","name","mon-open",3,"ngModelChange","ngModel"],["for","mon-open",1,"checkbox-label"],["class","time-selectors",4,"ngIf"],["type","checkbox","id","tue-open","name","tue-open",3,"ngModelChange","ngModel"],["for","tue-open",1,"checkbox-label"],["type","checkbox","id","wed-open","name","wed-open",3,"ngModelChange","ngModel"],["for","wed-open",1,"checkbox-label"],["type","checkbox","id","thu-open","name","thu-open",3,"ngModelChange","ngModel"],["for","thu-open",1,"checkbox-label"],["type","checkbox","id","fri-open","name","fri-open",3,"ngModelChange","ngModel"],["for","fri-open",1,"checkbox-label"],["type","checkbox","id","sat-open","name","sat-open",3,"ngModelChange","ngModel"],["for","sat-open",1,"checkbox-label"],["type","checkbox","id","sun-open","name","sun-open",3,"ngModelChange","ngModel"],["for","sun-open",1,"checkbox-label"],["for","website"],["type","url","id","website","name","website","placeholder","https://www.beispiel.com",1,"form-input",3,"ngModelChange","ngModel"],["for","priceLevel"],["id","priceLevel","name","priceLevel",1,"form-select",3,"ngModelChange","ngModel"],["value","1"],["value","2"],["value","3"],["value","4"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"info-text"],["type","button",1,"btn","btn-success",3,"click"],["routerLink","/admin",1,"back-btn"],[1,"message","success"],[1,"message","error"],[1,"message","warning"],[3,"value"],[1,"upload-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"image-preview-container"],["alt","Preview",1,"image-preview",3,"src"],["type","button","title","Bild entfernen",1,"remove-image-btn",3,"click"],[1,"geocoding-indicator"],[1,"geocoding-success"],["for","cuisine"],["type","text","id","cuisine","name","cuisine","placeholder","z.B. Westafrikanische, \xC4thiopische, Nigerianische, Senegalesische",1,"form-input",3,"ngModelChange","ngModel"],[1,"time-selectors"],["name","mon-open-time",1,"time-select",3,"ngModelChange","ngModel"],["value","06:00"],["value","07:00"],["value","08:00"],["value","09:00"],["value","10:00"],["value","11:00"],["value","12:00"],["value","13:00"],["value","14:00"],["value","15:00"],["value","16:00"],["value","17:00"],["value","18:00"],["value","19:00"],["value","20:00"],["value","21:00"],["value","22:00"],["value","23:00"],[1,"time-separator"],["name","mon-close-time",1,"time-select",3,"ngModelChange","ngModel"],["name","tue-open-time",1,"time-select",3,"ngModelChange","ngModel"],["name","tue-close-time",1,"time-select",3,"ngModelChange","ngModel"],["name","wed-open-time",1,"time-select",3,"ngModelChange","ngModel"],["name","wed-close-time",1,"time-select",3,"ngModelChange","ngModel"],["name","thu-open-time",1,"time-select",3,"ngModelChange","ngModel"],["name","thu-close-time",1,"time-select",3,"ngModelChange","ngModel"],["name","fri-open-time",1,"time-select",3,"ngModelChange","ngModel"],["name","fri-close-time",1,"time-select",3,"ngModelChange","ngModel"],["name","sat-open-time",1,"time-select",3,"ngModelChange","ngModel"],["name","sat-close-time",1,"time-select",3,"ngModelChange","ngModel"],["name","sun-open-time",1,"time-select",3,"ngModelChange","ngModel"],["name","sun-close-time",1,"time-select",3,"ngModelChange","ngModel"]],template:function(e,i){if(e&1){let r=F();s(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h2"),l(5),a(),s(6,"p"),l(7),a()(),s(8,"div",6)(9,"a",7),l(10,"\u2190 Galerie"),a(),C(11,Ph,2,0,"a",8),a()(),s(12,"form",9),y("ngSubmit",function(){return _(r),v(i.onSubmit())}),s(13,"div",10)(14,"h3"),l(15,"\u{1F517} Schnell hinzuf\xFCgen"),a(),s(16,"p"),l(17,"F\xFCgen Sie einen Link ein, um Informationen automatisch zu laden"),a(),s(18,"div",11)(19,"label",12),l(20,"Google Maps, Facebook, Nextdoor oder Website URL"),a(),s(21,"div",13)(22,"input",14),z("ngModelChange",function(c){return _(r),R(i.importUrl,c)||(i.importUrl=c),v(c)}),a(),s(23,"button",15),y("click",function(){return _(r),v(i.importFromUrl())}),C(24,kh,2,0,"span",16)(25,Ah,2,0,"span",16),a()()(),s(26,"div",17)(27,"span"),l(28,"oder manuell eingeben"),a()()(),C(29,Ih,2,1,"div",18)(30,Dh,2,1,"div",19)(31,Th,2,1,"div",20),s(32,"div",11)(33,"label",21),l(34,"Name des Gesch\xE4fts *"),a(),s(35,"input",22),z("ngModelChange",function(c){return _(r),R(i.afroshop.name,c)||(i.afroshop.name=c),v(c)}),a()(),s(36,"div",11)(37,"label",23),l(38,"Typ *"),a(),s(39,"select",24),z("ngModelChange",function(c){return _(r),R(i.afroshop.type,c)||(i.afroshop.type=c),v(c)}),s(40,"option",25),l(41,"Typ ausw\xE4hlen"),a(),C(42,Rh,2,3,"option",26),a()(),s(43,"div",11)(44,"label",27),l(45,"\u{1F4F8} Bild hochladen"),a(),s(46,"div",28)(47,"input",29,0),y("change",function(c){return _(r),v(i.onFileSelected(c))}),a(),s(49,"button",30),y("click",function(){_(r);let c=jt(48);return v(c.click())}),C(50,zh,2,0,"span",16)(51,Lh,2,0,"span",16)(52,Fh,2,0,"span",16),a(),C(53,Nh,5,0,"div",31)(54,Uh,4,1,"div",32),s(55,"small",33),l(56,"Max. 5MB - Wird automatisch komprimiert und optimiert"),a()()(),s(57,"div",11)(58,"label",34),l(59,"Stra\xDFe und Hausnr. *"),a(),s(60,"input",35,1),z("ngModelChange",function(c){return _(r),R(i.afroshop.street,c)||(i.afroshop.street=c),v(c)}),y("focus",function(){_(r);let c=jt(61);return v(i.initStreetAutocomplete(c))})("input",function(){return _(r),v(i.onAddressChange())}),a(),s(62,"small",33),l(63,"Adresse wird automatisch vorgeschlagen (Google Maps Autocomplete)"),a()(),s(64,"div",11)(65,"label",36),l(66,"PLZ *"),a(),s(67,"input",37),z("ngModelChange",function(c){return _(r),R(i.afroshop.plz,c)||(i.afroshop.plz=c),v(c)}),y("input",function(){return _(r),v(i.onAddressChange())}),a(),s(68,"small",33),l(69,"5-stellige Postleitzahl"),a()(),s(70,"div",11)(71,"label",38),l(72,"Stadt *"),a(),s(73,"input",39),z("ngModelChange",function(c){return _(r),R(i.afroshop.city,c)||(i.afroshop.city=c),v(c)}),y("input",function(){return _(r),v(i.onAddressChange())}),a(),s(74,"small",33),l(75,"Nur Buchstaben und Bindestriche"),a()(),s(76,"div",11)(77,"small"),l(78,"Bitte geben Sie Stra\xDFe, PLZ und Stadt an"),a(),C(79,Bh,2,0,"div",40)(80,jh,2,2,"div",41),a(),s(81,"div",11)(82,"label",42),l(83,"Telefon *"),a(),s(84,"input",43),z("ngModelChange",function(c){return _(r),R(i.afroshop.phone,c)||(i.afroshop.phone=c),v(c)}),a()(),s(85,"div",11)(86,"label",44),l(87,"Beschreibung *"),a(),s(88,"textarea",45),z("ngModelChange",function(c){return _(r),R(i.afroshop.description,c)||(i.afroshop.description=c),v(c)}),a()(),C(89,Gh,6,1,"div",46),s(90,"div",11)(91,"label"),l(92,"\xD6ffnungszeiten"),a(),s(93,"div",47)(94,"div",48)(95,"div",49),l(96,"Montag:"),a(),s(97,"div",50)(98,"input",51),z("ngModelChange",function(c){return _(r),R(i.openingHours.monday.isOpen,c)||(i.openingHours.monday.isOpen=c),v(c)}),a(),s(99,"label",52),l(100,"Ge\xF6ffnet"),a(),C(101,Vh,77,2,"div",53),a()(),s(102,"div",48)(103,"div",49),l(104,"Dienstag:"),a(),s(105,"div",50)(106,"input",54),z("ngModelChange",function(c){return _(r),R(i.openingHours.tuesday.isOpen,c)||(i.openingHours.tuesday.isOpen=c),v(c)}),a(),s(107,"label",55),l(108,"Ge\xF6ffnet"),a(),C(109,Wh,77,2,"div",53),a()(),s(110,"div",48)(111,"div",49),l(112,"Mittwoch:"),a(),s(113,"div",50)(114,"input",56),z("ngModelChange",function(c){return _(r),R(i.openingHours.wednesday.isOpen,c)||(i.openingHours.wednesday.isOpen=c),v(c)}),a(),s(115,"label",57),l(116,"Ge\xF6ffnet"),a(),C(117,$h,77,2,"div",53),a()(),s(118,"div",48)(119,"div",49),l(120,"Donnerstag:"),a(),s(121,"div",50)(122,"input",58),z("ngModelChange",function(c){return _(r),R(i.openingHours.thursday.isOpen,c)||(i.openingHours.thursday.isOpen=c),v(c)}),a(),s(123,"label",59),l(124,"Ge\xF6ffnet"),a(),C(125,Hh,77,2,"div",53),a()(),s(126,"div",48)(127,"div",49),l(128,"Freitag:"),a(),s(129,"div",50)(130,"input",60),z("ngModelChange",function(c){return _(r),R(i.openingHours.friday.isOpen,c)||(i.openingHours.friday.isOpen=c),v(c)}),a(),s(131,"label",61),l(132,"Ge\xF6ffnet"),a(),C(133,qh,77,2,"div",53),a()(),s(134,"div",48)(135,"div",49),l(136,"Samstag:"),a(),s(137,"div",50)(138,"input",62),z("ngModelChange",function(c){return _(r),R(i.openingHours.saturday.isOpen,c)||(i.openingHours.saturday.isOpen=c),v(c)}),a(),s(139,"label",63),l(140,"Ge\xF6ffnet"),a(),C(141,Kh,77,2,"div",53),a()(),s(142,"div",48)(143,"div",49),l(144,"Sonntag:"),a(),s(145,"div",50)(146,"input",64),z("ngModelChange",function(c){return _(r),R(i.openingHours.sunday.isOpen,c)||(i.openingHours.sunday.isOpen=c),v(c)}),a(),s(147,"label",65),l(148,"Ge\xF6ffnet"),a(),C(149,Zh,77,2,"div",53),a()(),s(150,"small",33),l(151,"W\xE4hlen Sie f\xFCr jeden Tag, ob das Gesch\xE4ft ge\xF6ffnet ist und die \xD6ffnungszeiten"),a()()(),s(152,"div",11)(153,"label",66),l(154,"Website"),a(),s(155,"input",67),z("ngModelChange",function(c){return _(r),R(i.afroshop.website,c)||(i.afroshop.website=c),v(c)}),a(),s(156,"small",33),l(157,"Optional: Offizielle Website oder Social Media Profil"),a()(),s(158,"div",11)(159,"label",68),l(160,"Preisstufe"),a(),s(161,"select",69),z("ngModelChange",function(c){return _(r),R(i.afroshop.priceLevel,c)||(i.afroshop.priceLevel=c),v(c)}),s(162,"option",25),l(163,"-- Bitte w\xE4hlen --"),a(),s(164,"option",70),l(165,"\u20AC - G\xFCnstig (unter 10\u20AC)"),a(),s(166,"option",71),l(167,"\u20AC\u20AC - Moderat (10-20\u20AC)"),a(),s(168,"option",72),l(169,"\u20AC\u20AC\u20AC - Gehoben (20-40\u20AC)"),a(),s(170,"option",73),l(171,"\u20AC\u20AC\u20AC\u20AC - Hochpreisig (\xFCber 40\u20AC)"),a()()(),s(172,"div",74)(173,"button",75),y("click",function(){return _(r),v(i.goBack())}),C(174,Yh,2,0,"span",16)(175,Xh,2,0,"span",16),a(),s(176,"button",76),C(177,Jh,2,1,"span",16)(178,Qh,2,0,"span",16)(179,em,2,1,"span",16),a()(),s(180,"div",74)(181,"div",77)(182,"span"),l(183,"Wenn Sie eine E-Commerce Seite erstellen m\xF6chten, dann klicken Sie auf den Button hier unter."),a()(),s(184,"button",78),y("click",function(){return _(r),v(i.onAddProducts())}),l(185," \u{1F6D2} Produkte hinzuf\xFCgen "),a()()()()()}e&2&&(p(5),K(i.isEditMode?"\u270F\uFE0F Afroshop bearbeiten":"\u{1F3EA} Neuen Afroshop hinzuf\xFCgen"),p(2),K(i.isEditMode?"Aktualisieren Sie die Informationen":"Teilen Sie Ihren Lieblings-Afroshop mit der Community!"),p(4),h("ngIf",i.isAdmin),p(11),T("ngModel",i.importUrl),p(),h("disabled",!i.importUrl||i.isImporting),p(),h("ngIf",!i.isImporting),p(),h("ngIf",i.isImporting),p(4),h("ngIf",i.successMessage),p(),h("ngIf",i.errorMessage),p(),h("ngIf",i.geocodingWarning),p(4),T("ngModel",i.afroshop.name),p(4),T("ngModel",i.afroshop.type),p(3),h("ngForOf",i.getAllBusinessTypes()),p(7),h("disabled",i.isUploadingImage),p(),h("ngIf",!i.imagePreview&&!i.isUploadingImage),p(),h("ngIf",i.imagePreview&&!i.isUploadingImage),p(),h("ngIf",i.isUploadingImage),p(),h("ngIf",i.isUploadingImage),p(),h("ngIf",i.imagePreview),p(6),T("ngModel",i.afroshop.street),p(7),T("ngModel",i.afroshop.plz),p(6),T("ngModel",i.afroshop.city),p(6),h("ngIf",i.isGeocoding),p(),h("ngIf",i.afroshop.coordinates.lat!==0&&i.afroshop.coordinates.lng!==0),p(4),T("ngModel",i.afroshop.phone),p(4),T("ngModel",i.afroshop.description),p(),h("ngIf",i.afroshop.type==="restaurant"),p(9),T("ngModel",i.openingHours.monday.isOpen),p(3),h("ngIf",i.openingHours.monday.isOpen),p(5),T("ngModel",i.openingHours.tuesday.isOpen),p(3),h("ngIf",i.openingHours.tuesday.isOpen),p(5),T("ngModel",i.openingHours.wednesday.isOpen),p(3),h("ngIf",i.openingHours.wednesday.isOpen),p(5),T("ngModel",i.openingHours.thursday.isOpen),p(3),h("ngIf",i.openingHours.thursday.isOpen),p(5),T("ngModel",i.openingHours.friday.isOpen),p(3),h("ngIf",i.openingHours.friday.isOpen),p(5),T("ngModel",i.openingHours.saturday.isOpen),p(3),h("ngIf",i.openingHours.saturday.isOpen),p(5),T("ngModel",i.openingHours.sunday.isOpen),p(3),h("ngIf",i.openingHours.sunday.isOpen),p(6),T("ngModel",i.afroshop.website),p(6),T("ngModel",i.afroshop.priceLevel),p(12),h("disabled",i.isSubmitting||i.isUploadingImage),p(),h("ngIf",!i.isSubmitting&&!i.isUploadingImage),p(),h("ngIf",i.isSubmitting||i.isUploadingImage),p(),h("disabled",i.isSubmitting||i.isUploadingImage),p(),h("ngIf",i.isSubmitting&&!i.isUploadingImage),p(),h("ngIf",i.isUploadingImage),p(),h("ngIf",!i.isSubmitting&&!i.isUploadingImage))},dependencies:[X,Ce,J,xe,ut,_i,vi,Ie,Ls,fi,De,ct,pt,Ns,Us,Te,dt,_e,pe],styles:['.message.error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb;padding:10px 16px;border-radius:6px;margin-bottom:12px;font-weight:500}.auto-import-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff7b00,#ff5722);color:#fff;padding:20px;border-radius:12px;margin-bottom:30px;box-shadow:0 4px 15px #ff57224d}.auto-import-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:1.3em;font-weight:600}.auto-import-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px;opacity:.9;font-size:.95em}.url-input-group[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.url-input[_ngcontent-%COMP%]{flex:1;padding:12px 15px;border:2px solid rgba(255,255,255,.5);background:#ffffffe6;color:#333;border-radius:8px;font-size:14px}.url-input[_ngcontent-%COMP%]::placeholder{color:#666}.url-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#fff;background:#fff;color:#333}.geocoding-indicator[_ngcontent-%COMP%]{margin-top:8px;padding:8px 12px;background:#e3f2fd;color:#1976d2;border-radius:6px;font-size:.9em;border-left:4px solid #2196f3;animation:_ngcontent-%COMP%_pulse 1.5s infinite}.geocoding-success[_ngcontent-%COMP%]{margin-top:8px;padding:8px 12px;background:#e8f5e8;color:#2e7d32;border-radius:6px;font-size:.9em;border-left:4px solid #4caf50}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.7}to{opacity:1}}.import-btn[_ngcontent-%COMP%]{padding:12px 20px;background:#fff3;color:#fff;border:2px solid rgba(255,255,255,.3);border-radius:8px;cursor:pointer;font-weight:600;transition:all .3s ease;white-space:nowrap;backdrop-filter:blur(10px)}.import-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffffff4d;border-color:#ffffff80;transform:translateY(-2px)}.import-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.divider[_ngcontent-%COMP%]{text-align:center;margin:25px 0;position:relative}.divider[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:#ffffff4d}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff7b00,#ff5722);padding:0 15px;font-size:.9em;opacity:.8}@media (max-width: 600px){.url-input-group[_ngcontent-%COMP%]{flex-direction:column}.url-input[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.import-btn[_ngcontent-%COMP%]{width:100%;margin-bottom:0}}.add-afroshop-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:var(--spacing-lg)}.form-header[_ngcontent-%COMP%]{margin-bottom:var(--spacing-xl);padding:2rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:15px;box-shadow:0 10px 30px #667eea4d}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:20px}.header-text[_ngcontent-%COMP%]{text-align:center;flex:1}.header-actions[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.back-btn[_ngcontent-%COMP%]{background:#fff3;color:#fff;padding:8px 15px;border-radius:6px;text-decoration:none;font-size:14px;font-weight:500;transition:all .3s ease;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3)}.back-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:translateY(-1px);text-decoration:none;color:#fff}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;margin-bottom:var(--spacing-sm)}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffe6;font-size:1.1rem}.afroshop-form[_ngcontent-%COMP%]{background:#fff;padding:var(--spacing-xl);border-radius:var(--border-radius);box-shadow:var(--shadow-soft)}.form-group[_ngcontent-%COMP%]{margin-bottom:var(--spacing-lg)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:var(--spacing-xs);color:var(--text-primary)}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{width:100%;padding:var(--spacing-sm);border:2px solid #ff7b00;border-radius:var(--border-radius);font-size:1rem;background:#fff;box-shadow:0 2px 8px #00000012;transition:border-color .3s ease,box-shadow .3s ease}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#ff5722;box-shadow:0 4px 16px #ff57221a}.form-textarea[_ngcontent-%COMP%]{min-height:100px;resize:vertical}.form-actions[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:flex-start;margin-bottom:.5rem}.form-actions[_ngcontent-%COMP%]:first-of-type{justify-content:flex-start}.form-actions[_ngcontent-%COMP%] + .form-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:center;margin-top:1.2rem}.info-text[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:1.05em;color:#1976d2;background:#e3f2fd;border-radius:8px;padding:10px 18px;margin-bottom:.7rem;font-weight:500;box-shadow:0 2px 8px #1976d212}.form-actions[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{min-width:200px;font-size:1.08em;padding:12px 28px;border-radius:8px;margin:0 auto;display:block}.btn[_ngcontent-%COMP%]{padding:16px 32px;border:none;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);text-decoration:none;display:inline-flex;align-items:center;justify-content:center;text-align:center;min-width:160px;position:relative;overflow:hidden;-webkit-user-select:none;user-select:none;transform:translateY(0)}.btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.btn[_ngcontent-%COMP%]:hover:before{left:100%}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff7b00,#ff5722,#e64a19);color:#fff;box-shadow:0 6px 20px #ff7b0066;border:2px solid transparent}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ff8f00,#ff6f00,#f57c00);transform:translateY(-3px);box-shadow:0 12px 30px #ff7b0080}.btn-primary[_ngcontent-%COMP%]:active{transform:translateY(-1px);box-shadow:0 4px 15px #ff7b0099}.btn-primary[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#bdbdbd,#9e9e9e);color:#fff;cursor:not-allowed;transform:none;box-shadow:0 2px 8px #0000001a;opacity:.7;animation:none}.btn-primary[_ngcontent-%COMP%]:disabled:before{display:none}.btn-primary[_ngcontent-%COMP%]:not(:disabled){animation:_ngcontent-%COMP%_gentle-pulse 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_gentle-pulse{0%,to{box-shadow:0 6px 20px #ff7b0066}50%{box-shadow:0 6px 25px #ff7b0099}}.btn-primary[_ngcontent-%COMP%]:hover{animation:none}.btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);color:#495057;box-shadow:0 4px 15px #0000001a;border:2px solid #dee2e6}.btn-secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#e9ecef,#dee2e6);transform:translateY(-2px);box-shadow:0 8px 25px #00000026;border-color:#adb5bd}.btn-secondary[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 10px #0003}.alert[_ngcontent-%COMP%]{padding:var(--spacing-sm);border-radius:var(--border-radius);margin-bottom:var(--spacing-md)}.alert-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724;border:1px solid #c3e6cb}.alert-error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.image-upload-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.file-input[_ngcontent-%COMP%]{display:none}.upload-btn[_ngcontent-%COMP%]{padding:12px 24px;background:linear-gradient(135deg,var(--accent-color),var(--accent-light));color:#fff;border:none;border-radius:var(--border-radius);cursor:pointer;font-weight:600;transition:all var(--transition-normal);box-shadow:var(--shadow-sm);display:inline-flex;align-items:center;justify-content:center;gap:8px;width:fit-content}.upload-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}.upload-btn[_ngcontent-%COMP%]:disabled{background:#bdc3c7;cursor:not-allowed;transform:none}.upload-btn[_ngcontent-%COMP%]:disabled:hover{transform:none;box-shadow:var(--shadow-sm)}.upload-progress[_ngcontent-%COMP%]{margin-top:var(--spacing-sm);text-align:center}.progress-bar[_ngcontent-%COMP%]{width:100%;height:4px;background:#ecf0f1;border-radius:2px;overflow:hidden;margin-bottom:var(--spacing-xs)}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,var(--accent-color),var(--secondary-color));border-radius:2px;animation:_ngcontent-%COMP%_progress 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_progress{0%{width:0%}50%{width:100%}to{width:0%}}.upload-progress[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-muted);font-style:italic}.image-preview-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:400px;border-radius:var(--border-radius);overflow:hidden;box-shadow:var(--shadow-md);animation:_ngcontent-%COMP%_scaleIn .3s ease-out}.image-preview[_ngcontent-%COMP%]{width:100%;height:auto;max-height:300px;object-fit:cover;display:block}.remove-image-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:32px;height:32px;border-radius:50%;background:#e74c3ce6;color:#fff;border:none;cursor:pointer;font-size:1.2rem;display:flex;align-items:center;justify-content:center;transition:all var(--transition-fast);box-shadow:0 2px 8px #0000004d}.remove-image-btn[_ngcontent-%COMP%]:hover{background:#c0392b;transform:scale(1.1)}.form-hint[_ngcontent-%COMP%]{color:var(--text-light);font-size:.85rem;display:block;margin-top:5px}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@media (max-width: 768px){.add-afroshop-container[_ngcontent-%COMP%]{padding:var(--spacing-md);max-width:100%;display:flex;flex-direction:column;align-items:center}.afroshop-form[_ngcontent-%COMP%]{padding:var(--spacing-lg);display:flex;flex-direction:column;align-items:center}.form-header[_ngcontent-%COMP%]{text-align:center}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;text-align:center}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.url-input-group[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-sm);align-items:center}.url-input[_ngcontent-%COMP%]{width:100%;margin:0 auto}.import-btn[_ngcontent-%COMP%]{width:100%;justify-content:center;margin:0 auto}.form-actions[_ngcontent-%COMP%]{flex-direction:column;gap:15px;padding:20px 0;align-items:center}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{width:100%;font-size:16px;padding:18px 24px;min-width:auto;margin:0 auto}}@media (max-width: 480px){.add-afroshop-container[_ngcontent-%COMP%]{padding:var(--spacing-sm);display:flex;flex-direction:column;align-items:center}.afroshop-form[_ngcontent-%COMP%]{padding:var(--spacing-md);display:flex;flex-direction:column;align-items:center}.form-header[_ngcontent-%COMP%]{text-align:center}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;text-align:center}.auto-import-section[_ngcontent-%COMP%]{padding:var(--spacing-md);margin-bottom:var(--spacing-lg);text-align:center}.auto-import-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;text-align:center}.form-input[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{font-size:16px;margin:0 auto}.upload-btn[_ngcontent-%COMP%]{width:100%;text-align:center;margin:0 auto}.image-preview-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto}.image-preview[_ngcontent-%COMP%]{max-height:200px;margin:0 auto}}.opening-hours-container[_ngcontent-%COMP%]{background:#f8f9fa;border:2px solid #e9ecef;border-radius:12px;padding:20px;margin-top:10px}.day-hours[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px;padding:12px;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000000d}.day-hours[_ngcontent-%COMP%]:last-child{margin-bottom:0}.day-label[_ngcontent-%COMP%]{width:100px;font-weight:600;color:#495057;flex-shrink:0}.hours-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;flex:1}.checkbox-label[_ngcontent-%COMP%]{font-size:14px;color:#6c757d;cursor:pointer;margin:0;padding:0}.time-selectors[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-left:10px}.time-select[_ngcontent-%COMP%]{padding:8px 12px;border:2px solid #dee2e6;border-radius:6px;background:#fff;color:#495057;font-size:14px;cursor:pointer;transition:all .2s}.time-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#ff7b00;box-shadow:0 0 0 3px #ff7b001a}.time-separator[_ngcontent-%COMP%]{color:#6c757d;font-weight:500;margin:0 5px}@media (max-width: 768px){.day-hours[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}.day-label[_ngcontent-%COMP%]{width:auto;margin-bottom:5px}.hours-controls[_ngcontent-%COMP%]{width:100%;flex-direction:column;align-items:flex-start;gap:10px}.time-selectors[_ngcontent-%COMP%]{margin-left:0;justify-content:flex-start}}@media (max-width: 480px){.opening-hours-container[_ngcontent-%COMP%]{padding:15px}.time-selectors[_ngcontent-%COMP%]{flex-direction:column;gap:8px;align-items:flex-start}.time-separator[_ngcontent-%COMP%]{display:none}}@media (max-width: 360px){.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem}.auto-import-section[_ngcontent-%COMP%], .afroshop-form[_ngcontent-%COMP%]{padding:var(--spacing-sm)}}.form-actions[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]{font-size:.95em;padding:6px 14px;min-width:0;border-radius:6px;max-width:180px;white-space:nowrap}']})};function tm(n,t){if(n&1&&(s(0,"div",16),l(1),a()),n&2){let e=m();p(),j(" ",e.errorMessage," ")}}function nm(n,t){n&1&&(s(0,"span"),l(1,"Anmelden"),a())}function im(n,t){n&1&&(s(0,"span"),l(1,"\u23F3 Anmeldung..."),a())}function rm(n,t){n&1&&(s(0,"span"),l(1,"\u{1F50D} Mit Google fortfahren"),a())}function om(n,t){n&1&&(s(0,"span"),l(1,"\u23F3 Google-Anmeldung..."),a())}var fr=class n{constructor(t,e,i){this.authService=t;this.router=e;this.route=i}email="";password="";isLoading=!1;errorMessage="";onSubmit(){return w(this,null,function*(){if(!this.email||!this.password){this.errorMessage="Bitte f\xFCllen Sie alle Felder aus";return}this.isLoading=!0,this.errorMessage="";try{yield this.authService.login(this.email,this.password);let t=this.route.snapshot.queryParams.returnUrl||"/gallery";this.router.navigate([t])}catch(t){this.errorMessage=t.message}finally{this.isLoading=!1}})}loginWithGoogle(){return w(this,null,function*(){this.isLoading=!0,this.errorMessage="";try{console.log("\u{1F510} Tentative de connexion Google...");let t=yield this.authService.loginWithGoogle();console.log("\u2705 Connexion Google r\xE9ussie:",t);let e=this.route.snapshot.queryParams.returnUrl||"/gallery";this.router.navigate([e])}catch(t){console.error("\u274C Erreur connexion Google:",t);let e=t.message;t instanceof Error&&(console.log("Type d'erreur:",t.name),console.log("Code d'erreur:",t.code),console.log("Message complet:",t.message)),e.includes("annul\xE9e")||e.includes("Connexion annul\xE9e")||e.includes("popup-closed-by-user")||e.includes("cancelled")?this.showGoogleLoginDialog():e.includes("bloqu\xE9e")||e.includes("popup")||e.includes("popup-blocked")?this.showPopupBlockedDialog():this.errorMessage=`Erreur de connexion: ${e}`}finally{this.isLoading=!1}})}showGoogleLoginDialog(){confirm(`\u{1F510} Connexion Google interrompue

\u2022 La popup de connexion a \xE9t\xE9 ferm\xE9e avant la fin
\u2022 Souhaitez-vous r\xE9essayer?

Conseils:
\u2713 Gardez la popup ouverte pendant la connexion
\u2713 V\xE9rifiez que les popups ne sont pas bloqu\xE9es
\u2713 Utilisez votre compte Google habituel

R\xE9essayer maintenant?`)&&setTimeout(()=>{this.loginWithGoogle()},500)}showPopupBlockedDialog(){confirm(`\u{1F6AB} Popups bloqu\xE9es par le navigateur

\u2022 Votre navigateur bloque les popups d'AfroConnect
\u2022 Pour vous connecter avec Google, vous devez:

Instructions:
1. Cliquez sur l'ic\xF4ne \u{1F6E1}\uFE0F dans la barre d'adresse
2. Autorisez les popups pour ce site
3. Rechargez la page si n\xE9cessaire

R\xE9essayer maintenant?`)?setTimeout(()=>{this.loginWithGoogle()},1e3):this.errorMessage="Utilisez la connexion par email/mot de passe en attendant"}static \u0275fac=function(e){return new(e||n)(P(ee),P(Y),P(ue))};static \u0275cmp=V({type:n,selectors:[["app-login"]],decls:31,vars:11,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-header"],[1,"auth-form",3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","placeholder","ihre@email.com","required","",3,"ngModelChange","ngModel","disabled"],["for","password"],["type","password","id","password","name","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",3,"ngModelChange","ngModel","disabled"],["class","error-message",4,"ngIf"],["type","submit",1,"auth-btn",3,"disabled"],[4,"ngIf"],[1,"divider"],[1,"google-btn",3,"click","disabled"],[1,"auth-footer"],["routerLink","/register",1,"auth-link"],[1,"error-message"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),l(4,"\u{1F510} Anmeldung"),a(),s(5,"p"),l(6,"Melden Sie sich bei Ihrem AfroConnect-Konto an"),a()(),s(7,"form",3),y("ngSubmit",function(){return i.onSubmit()}),s(8,"div",4)(9,"label",5),l(10,"E-Mail-Adresse"),a(),s(11,"input",6),z("ngModelChange",function(o){return R(i.email,o)||(i.email=o),o}),a()(),s(12,"div",4)(13,"label",7),l(14,"Passwort"),a(),s(15,"input",8),z("ngModelChange",function(o){return R(i.password,o)||(i.password=o),o}),a()(),C(16,tm,2,1,"div",9),s(17,"button",10),C(18,nm,2,0,"span",11)(19,im,2,0,"span",11),a()(),s(20,"div",12)(21,"span"),l(22,"oder"),a()(),s(23,"button",13),y("click",function(){return i.loginWithGoogle()}),C(24,rm,2,0,"span",11)(25,om,2,0,"span",11),a(),s(26,"div",14)(27,"p"),l(28,"Noch kein Konto? "),s(29,"a",15),l(30,"Registrieren"),a()()()()()),e&2&&(p(11),T("ngModel",i.email),h("disabled",i.isLoading),p(4),T("ngModel",i.password),h("disabled",i.isLoading),p(),h("ngIf",i.errorMessage),p(),h("disabled",i.isLoading||!i.email||!i.password),p(),h("ngIf",!i.isLoading),p(),h("ngIf",i.isLoading),p(4),h("disabled",i.isLoading),p(),h("ngIf",!i.isLoading),p(),h("ngIf",i.isLoading))},dependencies:[X,J,xe,ut,Ie,De,ct,pt,Te,dt,_e,pe],styles:['.auth-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));padding:var(--spacing-md)}.auth-card[_ngcontent-%COMP%]{background:var(--background-white);padding:var(--spacing-xl);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-lg);width:100%;max-width:400px}.auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--spacing-xl)}.auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-dark);margin-bottom:var(--spacing-sm);font-size:1.8rem}.auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);font-size:.9rem}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md)}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:var(--text-dark);font-size:.9rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:var(--spacing-md);border:2px solid #e0e0e0;border-radius:var(--border-radius);font-size:1rem;transition:all .3s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #667eea1a}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;cursor:not-allowed}.error-message[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:var(--spacing-sm);border-radius:var(--border-radius);border:1px solid #f5c6cb;font-size:.9rem;text-align:center}.auth-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));color:#fff;border:none;padding:var(--spacing-md);border-radius:var(--border-radius);font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;margin-top:var(--spacing-sm)}.auth-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:var(--shadow-md)}.auth-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.auth-footer[_ngcontent-%COMP%]{text-align:center;margin-top:var(--spacing-lg);padding-top:var(--spacing-lg);border-top:1px solid #e0e0e0}.auth-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);font-size:.9rem}.auth-link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:500;transition:color .3s ease}.auth-link[_ngcontent-%COMP%]:hover{color:var(--secondary-color);text-decoration:underline}.divider[_ngcontent-%COMP%]{text-align:center;margin:var(--spacing-lg) 0;position:relative}.divider[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:#e0e0e0}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:var(--background-white);color:var(--text-light);padding:0 var(--spacing-md);font-size:.9rem}.google-btn[_ngcontent-%COMP%]{width:100%;background:#4285f4;color:#fff;border:none;padding:var(--spacing-md);border-radius:var(--border-radius);font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:var(--spacing-xs)}.google-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#3367d6;transform:translateY(-2px);box-shadow:var(--shadow-md)}.google-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}']})};function am(n,t){if(n&1&&(s(0,"div",20),l(1),a()),n&2){let e=m();p(),j(" ",e.errorMessage," ")}}function sm(n,t){n&1&&(s(0,"span"),l(1,"Registrieren"),a())}function lm(n,t){n&1&&(s(0,"span"),l(1,"\u23F3 Registrierung..."),a())}function cm(n,t){n&1&&(s(0,"span"),l(1,"\u{1F50D} Mit Google fortfahren"),a())}function dm(n,t){n&1&&(s(0,"span"),l(1,"\u23F3 Google-Anmeldung..."),a())}var _r=class n{constructor(t,e){this.authService=t;this.router=e}email="";password="";confirmPassword="";displayName="";isLoading=!1;errorMessage="";onSubmit(){return w(this,null,function*(){if(!this.email||!this.password||!this.confirmPassword||!this.displayName){this.errorMessage="Bitte f\xFCllen Sie alle Felder aus";return}if(this.password!==this.confirmPassword){this.errorMessage="Die Passw\xF6rter stimmen nicht \xFCberein";return}if(this.password.length<6){this.errorMessage="Das Passwort muss mindestens 6 Zeichen enthalten";return}this.isLoading=!0,this.errorMessage="";try{yield this.authService.register(this.email,this.password,this.displayName),this.router.navigate(["/gallery"])}catch(t){this.errorMessage=t.message}finally{this.isLoading=!1}})}loginWithGoogle(){return w(this,null,function*(){this.isLoading=!0,this.errorMessage="";try{yield this.authService.loginWithGoogle(),this.router.navigate(["/gallery"])}catch(t){let e=t.message;e.includes("annul\xE9e")||e.includes("Connexion annul\xE9e")?this.showGoogleLoginDialog():e.includes("bloqu\xE9e")||e.includes("popup")?this.showPopupBlockedDialog():this.errorMessage=e}finally{this.isLoading=!1}})}showGoogleLoginDialog(){confirm(`\u{1F510} Connexion Google interrompue

\u2022 La popup de connexion a \xE9t\xE9 ferm\xE9e avant la fin
\u2022 Souhaitez-vous r\xE9essayer?

Conseils:
\u2713 Gardez la popup ouverte pendant la connexion
\u2713 V\xE9rifiez que les popups ne sont pas bloqu\xE9es
\u2713 Utilisez votre compte Google habituel

R\xE9essayer maintenant?`)&&setTimeout(()=>{this.loginWithGoogle()},500)}showPopupBlockedDialog(){confirm(`\u{1F6AB} Popups bloqu\xE9es par le navigateur

\u2022 Votre navigateur bloque les popups d'AfroConnect
\u2022 Pour vous connecter avec Google, vous devez:

Instructions:
1. Cliquez sur l'ic\xF4ne \u{1F6E1}\uFE0F dans la barre d'adresse
2. Autorisez les popups pour ce site
3. Rechargez la page si n\xE9cessaire

R\xE9essayer maintenant?`)?setTimeout(()=>{this.loginWithGoogle()},1e3):this.errorMessage="Utilisez la connexion par email/mot de passe en attendant"}static \u0275fac=function(e){return new(e||n)(P(ee),P(Y))};static \u0275cmp=V({type:n,selectors:[["app-register"]],decls:39,vars:15,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-header"],[1,"auth-form",3,"ngSubmit"],[1,"form-group"],["for","displayName"],["type","text","id","displayName","name","displayName","placeholder","Ihr Name","required","",3,"ngModelChange","ngModel","disabled"],["for","email"],["type","email","id","email","name","email","placeholder","ihre@email.com","required","",3,"ngModelChange","ngModel","disabled"],["for","password"],["type","password","id","password","name","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",3,"ngModelChange","ngModel","disabled"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",3,"ngModelChange","ngModel","disabled"],["class","error-message",4,"ngIf"],["type","submit",1,"auth-btn",3,"disabled"],[4,"ngIf"],[1,"divider"],[1,"google-btn",3,"click","disabled"],[1,"auth-footer"],["routerLink","/login",1,"auth-link"],[1,"error-message"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),l(4,"\u{1F4DD} Registrierung"),a(),s(5,"p"),l(6,"Erstellen Sie Ihr AfroConnect-Konto"),a()(),s(7,"form",3),y("ngSubmit",function(){return i.onSubmit()}),s(8,"div",4)(9,"label",5),l(10,"Anzeigename"),a(),s(11,"input",6),z("ngModelChange",function(o){return R(i.displayName,o)||(i.displayName=o),o}),a()(),s(12,"div",4)(13,"label",7),l(14,"E-Mail-Adresse"),a(),s(15,"input",8),z("ngModelChange",function(o){return R(i.email,o)||(i.email=o),o}),a()(),s(16,"div",4)(17,"label",9),l(18,"Passwort"),a(),s(19,"input",10),z("ngModelChange",function(o){return R(i.password,o)||(i.password=o),o}),a()(),s(20,"div",4)(21,"label",11),l(22,"Passwort best\xE4tigen"),a(),s(23,"input",12),z("ngModelChange",function(o){return R(i.confirmPassword,o)||(i.confirmPassword=o),o}),a()(),C(24,am,2,1,"div",13),s(25,"button",14),C(26,sm,2,0,"span",15)(27,lm,2,0,"span",15),a()(),s(28,"div",16)(29,"span"),l(30,"oder"),a()(),s(31,"button",17),y("click",function(){return i.loginWithGoogle()}),C(32,cm,2,0,"span",15)(33,dm,2,0,"span",15),a(),s(34,"div",18)(35,"p"),l(36,"Bereits ein Konto? "),s(37,"a",19),l(38,"Anmelden"),a()()()()()),e&2&&(p(11),T("ngModel",i.displayName),h("disabled",i.isLoading),p(4),T("ngModel",i.email),h("disabled",i.isLoading),p(4),T("ngModel",i.password),h("disabled",i.isLoading),p(4),T("ngModel",i.confirmPassword),h("disabled",i.isLoading),p(),h("ngIf",i.errorMessage),p(),h("disabled",i.isLoading||!i.email||!i.password||!i.confirmPassword||!i.displayName),p(),h("ngIf",!i.isLoading),p(),h("ngIf",i.isLoading),p(4),h("disabled",i.isLoading),p(),h("ngIf",!i.isLoading),p(),h("ngIf",i.isLoading))},dependencies:[X,J,xe,ut,Ie,De,ct,pt,Te,dt,_e,pe],styles:['.auth-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));padding:var(--spacing-md)}.auth-card[_ngcontent-%COMP%]{background:var(--background-white);padding:var(--spacing-xl);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-lg);width:100%;max-width:400px}.auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--spacing-xl)}.auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-dark);margin-bottom:var(--spacing-sm);font-size:1.8rem}.auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);font-size:.9rem}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md)}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:var(--text-dark);font-size:.9rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:var(--spacing-md);border:2px solid #e0e0e0;border-radius:var(--border-radius);font-size:1rem;transition:all .3s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #667eea1a}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;cursor:not-allowed}.error-message[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:var(--spacing-sm);border-radius:var(--border-radius);border:1px solid #f5c6cb;font-size:.9rem;text-align:center}.auth-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));color:#fff;border:none;padding:var(--spacing-md);border-radius:var(--border-radius);font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;margin-top:var(--spacing-sm)}.auth-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:var(--shadow-md)}.auth-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.auth-footer[_ngcontent-%COMP%]{text-align:center;margin-top:var(--spacing-lg);padding-top:var(--spacing-lg);border-top:1px solid #e0e0e0}.auth-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);font-size:.9rem}.auth-link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:500;transition:color .3s ease}.auth-link[_ngcontent-%COMP%]:hover{color:var(--secondary-color);text-decoration:underline}.divider[_ngcontent-%COMP%]{text-align:center;margin:var(--spacing-lg) 0;position:relative}.divider[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:#e0e0e0}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:var(--background-white);color:var(--text-light);padding:0 var(--spacing-md);font-size:.9rem}.google-btn[_ngcontent-%COMP%]{width:100%;background:#4285f4;color:#fff;border:none;padding:var(--spacing-md);border-radius:var(--border-radius);font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:var(--spacing-xs)}.google-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#3367d6;transform:translateY(-2px);box-shadow:var(--shadow-md)}.google-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}']})};var vr=class n{currentDate=new Date().toLocaleDateString("de-DE");static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-privacy"]],decls:128,vars:1,consts:[[1,"legal-container"],[1,"legal-content"],[1,"last-updated"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"div",1)(2,"h1"),l(3,"Datenschutzerkl\xE4rung"),a(),s(4,"p",2),l(5),a(),s(6,"section")(7,"h2"),l(8,"1. Verantwortlicher"),a(),s(9,"p")(10,"strong"),l(11,"AfroConnect"),a(),I(12,"br"),l(13," Kapuzinerring 26"),I(14,"br"),l(15," 59457 Werl"),I(16,"br"),l(17," Deutschland"),I(18,"br")(19,"br"),l(20," E-Mail: lamaid0502@gmail.com"),I(21,"br")(22,"br"),l(23," Der Verantwortliche im Sinne der Datenschutz-Grundverordnung (DSGVO) und anderer nationaler Datenschutzgesetze der Mitgliedsstaaten sowie sonstiger datenschutzrechtlicher Bestimmungen ist die oben genannte Person. "),a()(),s(24,"section")(25,"h2"),l(26,"2. Erhobene Daten"),a(),s(27,"h3"),l(28,"2.1 Nutzungsdaten"),a(),s(29,"ul")(30,"li"),l(31,"IP-Adresse"),a(),s(32,"li"),l(33,"Browser-Informationen"),a(),s(34,"li"),l(35,"Zugriffszeitpunkt"),a(),s(36,"li"),l(37,"Besuchte Seiten"),a()(),s(38,"h3"),l(39,"2.2 Standortdaten"),a(),s(40,"p"),l(41," Mit Ihrer Einwilligung nutzen wir Ihren Standort, um Ihnen Afroshops in Ihrer N\xE4he anzuzeigen. Die Standortdaten werden nicht gespeichert. "),a(),s(42,"h3"),l(43,"2.3 Registrierungsdaten"),a(),s(44,"ul")(45,"li"),l(46,"E-Mail-Adresse"),a(),s(47,"li"),l(48,"Benutzername"),a(),s(49,"li"),l(50,"Passwort (verschl\xFCsselt)"),a()()(),s(51,"section")(52,"h2"),l(53,"3. Zweck der Datenverarbeitung"),a(),s(54,"ul")(55,"li"),l(56,"Bereitstellung der App-Funktionen"),a(),s(57,"li"),l(58,"Benutzerauthentifizierung"),a(),s(59,"li"),l(60,"Anzeige lokaler Afroshops"),a(),s(61,"li"),l(62,"Verbesserung der Nutzererfahrung"),a()()(),s(63,"section")(64,"h2"),l(65,"4. Rechtsgrundlage"),a(),s(66,"p"),l(67," Die Verarbeitung erfolgt auf Grundlage von: "),a(),s(68,"ul")(69,"li"),l(70,"Art. 6 Abs. 1 lit. a DSGVO (Einwilligung)"),a(),s(71,"li"),l(72,"Art. 6 Abs. 1 lit. b DSGVO (Vertragserf\xFCllung)"),a(),s(73,"li"),l(74,"Art. 6 Abs. 1 lit. f DSGVO (berechtigte Interessen)"),a()()(),s(75,"section")(76,"h2"),l(77,"5. Datenweitergabe"),a(),s(78,"p"),l(79," Ihre Daten werden nicht an Dritte weitergegeben, au\xDFer: "),a(),s(80,"ul")(81,"li"),l(82,"Google Firebase (Hosting und Datenbank)"),a(),s(83,"li"),l(84,"Bei gesetzlicher Verpflichtung"),a()()(),s(85,"section")(86,"h2"),l(87,"6. Speicherdauer"),a(),s(88,"p"),l(89," Daten werden gespeichert, solange Ihr Konto aktiv ist oder zur Erf\xFCllung rechtlicher Verpflichtungen erforderlich. "),a()(),s(90,"section")(91,"h2"),l(92,"7. Ihre Rechte"),a(),s(93,"ul")(94,"li"),l(95,"Auskunft \xFCber gespeicherte Daten"),a(),s(96,"li"),l(97,"Berichtigung falscher Daten"),a(),s(98,"li"),l(99,"L\xF6schung Ihrer Daten"),a(),s(100,"li"),l(101,"Einschr\xE4nkung der Verarbeitung"),a(),s(102,"li"),l(103,"Daten\xFCbertragbarkeit"),a(),s(104,"li"),l(105,"Widerspruch gegen Verarbeitung"),a()()(),s(106,"section")(107,"h2"),l(108,"8. Kontakt"),a(),s(109,"p")(110,"strong"),l(111,"Verantwortlicher f\xFCr den Datenschutz:"),a(),I(112,"br")(113,"br"),s(114,"strong"),l(115,"AfroConnect"),a(),I(116,"br"),l(117," Kapuzinerring 26"),I(118,"br"),l(119," 59457 Werl"),I(120,"br"),l(121," Deutschland"),I(122,"br")(123,"br"),l(124," E-Mail: lamaid0502@gmail.com"),I(125,"br")(126,"br"),l(127," Bei Fragen zum Datenschutz oder zur Aus\xFCbung Ihrer Rechte kontaktieren Sie uns gerne \xFCber die oben genannten Kontaktdaten. "),a()()()()),e&2&&(p(5),j("Letzte Aktualisierung: ",i.currentDate,""))},styles:[".legal-container[_ngcontent-%COMP%]{max-width:700px;margin:2rem auto;padding:1.5rem;background:#f9f9f9;border-radius:12px;box-shadow:0 2px 12px #3182ce14}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#3182ce;margin-bottom:1rem}.last-updated[_ngcontent-%COMP%]{font-size:.98rem;color:#4a5568;margin-bottom:1.5rem}p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{font-size:1.08rem;margin-bottom:1rem}ul[_ngcontent-%COMP%]{padding-left:1.2rem}section[_ngcontent-%COMP%]{margin-bottom:2rem}"]})};var br=class n{currentDate=new Date().toLocaleDateString("de-DE");static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-terms"]],decls:101,vars:1,consts:[[1,"legal-container"],[1,"legal-content"],[1,"last-updated"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"div",1)(2,"h1"),l(3,"Allgemeine Gesch\xE4ftsbedingungen (AGB)"),a(),s(4,"p",2),l(5),a(),s(6,"section")(7,"h2"),l(8,"\xA7 1 Geltungsbereich"),a(),s(9,"p"),l(10," Diese Allgemeinen Gesch\xE4ftsbedingungen gelten f\xFCr die Nutzung der AfroConnect-App und aller damit verbundenen Dienste. "),a()(),s(11,"section")(12,"h2"),l(13,"\xA7 2 Beschreibung der Dienstleistung"),a(),s(14,"p"),l(15," AfroConnect ist eine Plattform zur Entdeckung afrikanischer Gesch\xE4fte, Restaurants und Dienstleistungen in Deutschland. "),a(),s(16,"h3"),l(17,"2.1 Funktionen"),a(),s(18,"ul")(19,"li"),l(20,"Suche nach Afroshops in der N\xE4he"),a(),s(21,"li"),l(22,"Detailinformationen zu Gesch\xE4ften"),a(),s(23,"li"),l(24,"Bewertungen und Kommentare"),a(),s(25,"li"),l(26,"Kartenansicht und Navigation"),a()()(),s(27,"section")(28,"h2"),l(29,"\xA7 3 Nutzerkonto"),a(),s(30,"h3"),l(31,"3.1 Registrierung"),a(),s(32,"p"),l(33," F\xFCr bestimmte Funktionen ist eine Registrierung erforderlich. Sie verpflichten sich, wahrheitsgem\xE4\xDFe Angaben zu machen. "),a(),s(34,"h3"),l(35,"3.2 Passwort und Sicherheit"),a(),s(36,"p"),l(37," Sie sind f\xFCr die Geheimhaltung Ihres Passworts verantwortlich und haften f\xFCr alle Aktivit\xE4ten unter Ihrem Konto. "),a()(),s(38,"section")(39,"h2"),l(40,"\xA7 4 Nutzungsregeln"),a(),s(41,"p"),l(42,"Bei der Nutzung von AfroConnect verpflichten Sie sich:"),a(),s(43,"ul")(44,"li"),l(45,"Keine rechtswidrigen Inhalte zu ver\xF6ffentlichen"),a(),s(46,"li"),l(47,"Keine beleidigenden oder diskriminierenden Inhalte"),a(),s(48,"li"),l(49,"Nur wahrheitsgem\xE4\xDFe Informationen anzugeben"),a(),s(50,"li"),l(51,"Die Rechte Dritter zu respektieren"),a()()(),s(52,"section")(53,"h2"),l(54,"\xA7 5 Inhalte und Urheberrecht"),a(),s(55,"h3"),l(56,"5.1 Nutzergenerierte Inhalte"),a(),s(57,"p"),l(58," Durch das Hochladen von Inhalten gew\xE4hren Sie AfroConnect das Recht, diese Inhalte zu nutzen, zu bearbeiten und zu ver\xF6ffentlichen. "),a(),s(59,"h3"),l(60,"5.2 Verantwortung"),a(),s(61,"p"),l(62," Sie sind allein verantwortlich f\xFCr die von Ihnen hochgeladenen Inhalte und deren Rechtm\xE4\xDFigkeit. "),a()(),s(63,"section")(64,"h2"),l(65,"\xA7 6 Haftung"),a(),s(66,"p"),l(67," AfroConnect haftet nur f\xFCr Sch\xE4den, die auf vors\xE4tzlichem oder grob fahrl\xE4ssigem Verhalten beruhen. "),a()(),s(68,"section")(69,"h2"),l(70,"\xA7 7 \xC4nderungen der AGB"),a(),s(71,"p"),l(72," Wir behalten uns vor, diese AGB jederzeit zu \xE4ndern. \xC4nderungen werden per E-Mail mitgeteilt. "),a()(),s(73,"section")(74,"h2"),l(75,"\xA7 8 K\xFCndigung"),a(),s(76,"p"),l(77," Sie k\xF6nnen Ihr Konto jederzeit l\xF6schen. Wir k\xF6nnen Konten bei Verst\xF6\xDFen gegen diese AGB sperren oder l\xF6schen. "),a()(),s(78,"section")(79,"h2"),l(80,"\xA7 9 Anwendbares Recht"),a(),s(81,"p"),l(82," Es gilt deutsches Recht. Gerichtsstand ist Werl, Deutschland. "),a()(),s(83,"section")(84,"h2"),l(85,"\xA7 10 Kontakt"),a(),s(86,"p")(87,"strong"),l(88,"AfroConnect"),a(),I(89,"br"),l(90," Kapuzinerring 26"),I(91,"br"),l(92," 59457 Werl"),I(93,"br"),l(94," Deutschland"),I(95,"br")(96,"br"),l(97," E-Mail: lamaid0502@gmail.com"),I(98,"br")(99,"br"),l(100," Bei Fragen zu diesen AGB oder zur Nutzung der App kontaktieren Sie uns gerne \xFCber die oben genannten Kontaktdaten. "),a()()()()),e&2&&(p(5),j("Letzte Aktualisierung: ",i.currentDate,""))},styles:[".legal-container[_ngcontent-%COMP%]{max-width:700px;margin:2rem auto;padding:1.5rem;background:#f9f9f9;border-radius:12px;box-shadow:0 2px 12px #3182ce14}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#3182ce;margin-bottom:1rem}.last-updated[_ngcontent-%COMP%]{font-size:.98rem;color:#4a5568;margin-bottom:1.5rem}p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{font-size:1.08rem;margin-bottom:1rem}ul[_ngcontent-%COMP%]{padding-left:1.2rem}section[_ngcontent-%COMP%]{margin-bottom:2rem}"]})};var yr=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-impressum"]],decls:37,vars:0,consts:[[1,"legal-container"],["href","mailto:lamaid0502@gmail.com"]],template:function(e,i){e&1&&(s(0,"h2"),l(1,"Impressum"),a(),s(2,"p")(3,"strong"),l(4,"Angaben gem\xE4\xDF \xA7 5 TMG:"),a()(),s(5,"div",0)(6,"h2"),l(7,"Impressum"),a(),s(8,"p")(9,"strong"),l(10,"Angaben gem\xE4\xDF \xA7 5 TMG:"),a()(),s(11,"p"),l(12," Youssouf Diallo"),I(13,"br"),l(14," Kapuzinerring 26"),I(15,"br"),l(16," 59457 Werl"),I(17,"br"),l(18," Deutschland "),a(),s(19,"p")(20,"strong"),l(21,"Kontakt:"),a()(),s(22,"p"),l(23," E-Mail: "),s(24,"a",1),l(25,"lamaid0502@gmail.com"),a()(),s(26,"p")(27,"strong"),l(28,"Verantwortlich f\xFCr den Inhalt nach \xA7 55 Abs. 2 RStV:"),a()(),s(29,"p"),l(30," Youssouf Diallo"),I(31,"br"),l(32," Kapuzinerring 26"),I(33,"br"),l(34," 59457 Werl"),I(35,"br"),l(36," Deutschland "),a()())},dependencies:[X],styles:[".legal-container[_ngcontent-%COMP%]{max-width:600px;margin:2rem auto;padding:1.5rem;background:#f9f9f9;border-radius:12px;box-shadow:0 2px 12px #3182ce14}h2[_ngcontent-%COMP%]{color:#3182ce;margin-bottom:1rem}p[_ngcontent-%COMP%]{font-size:1.08rem;margin-bottom:1rem}a[_ngcontent-%COMP%]{color:#3182ce;text-decoration:underline}"]})};var Cr=class n{constructor(t){this.firebaseService=t}getExistingAfroshops(){return w(this,null,function*(){return new Promise(t=>{this.firebaseService.getAllAfroshops().subscribe({next:e=>t(e),error:e=>{console.warn("Erreur lors de la r\xE9cup\xE9ration des donn\xE9es existantes:",e),t([])}})})})}cleanDuplicates(){return w(this,null,function*(){try{console.log("\u{1F9F9} Nettoyage des doublons en cours...");let t=yield this.getExistingAfroshops();console.log(`\u{1F4CA} ${t.length} Afroshops trouv\xE9s en base`);let e=new Map;t.forEach(o=>{let c=`${o.name}|${o.address}`;e.has(c)||e.set(c,[]),e.get(c).push(o)});let i=0,r=0;for(let[o,c]of e)if(c.length>1){console.log(`\u{1F50D} Doublon trouv\xE9: ${c[0].name} (${c.length} copies)`),r++;for(let d=1;d<c.length;d++)try{yield this.firebaseService.deleteAfroshop(c[d].id),i++,console.log(`\u{1F5D1}\uFE0F Supprim\xE9: ${c[d].name} (ID: ${c[d].id})`),yield this.delay(100)}catch(u){console.error(`\u274C Erreur suppression ${c[d].id}:`,u)}}else r++;return console.log(`\u2705 Nettoyage termin\xE9: ${i} supprim\xE9s, ${r} conserv\xE9s`),{removed:i,kept:r}}catch(t){throw console.error("\u274C Erreur lors du nettoyage:",t),t}})}afroshopsData=[{name:"Mama Afrika Restaurant",type:"restaurant",address:"M\xFCllerstra\xDFe 123, 13349 Berlin",coordinates:{lat:52.52,lng:13.405},phone:"+49 30 12345678",description:"Authentisches westafrikanisches Restaurant mit traditionellen Gerichten aus Ghana und Nigeria. Spezialit\xE4ten: Jollof Rice, Fufu, Kelewele.",rating:4.5,image:"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800&h=600&fit=crop",cuisine:"Westafrikanische",priceLevel:2,hours:"Mo-Fr: 12:00-22:00, Sa: 14:00-23:00, So: 14:00-21:00",website:"https://mama-afrika-berlin.de"},{name:"Ethiopian Queen Restaurant",type:"restaurant",address:"Kreuzbergstra\xDFe 45, 10965 Berlin",coordinates:{lat:52.4995,lng:13.3883},phone:"+49 30 23456789",description:"Traditionelle \xE4thiopische K\xFCche in gem\xFCtlicher Atmosph\xE4re. Injera, Doro Wat und vegetarische Optionen.",rating:4.3,image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop",cuisine:"\xC4thiopische",priceLevel:2,hours:"Mo-So: 17:00-23:00",website:"https://ethiopian-queen.de"},{name:"Afro Hair Salon Berlin",type:"coiffeur",address:"Hermannstra\xDFe 89, 12049 Berlin",coordinates:{lat:52.4755,lng:13.4324},phone:"+49 30 34567890",description:"Spezialist f\xFCr afroamerikanische Haarpflege. Braids, Weaves, Natural Hair Care und chemische Behandlungen.",rating:4.7,image:"https://images.unsplash.com/photo-1562322140-8baeececf3df?w=800&h=600&fit=crop",cuisine:"",priceLevel:3,hours:"Mo-Fr: 09:00-19:00, Sa: 09:00-17:00",website:""},{name:"Afrika Market Berlin",type:"epicerie",address:"Turmstra\xDFe 234, 10551 Berlin",coordinates:{lat:52.5252,lng:13.3415},phone:"+49 30 45678901",description:"Gr\xF6\xDFter afrikanischer Supermarkt in Berlin. Yams, Kochbananen, Palm\xF6l, Gew\xFCrze und Fleischspezialit\xE4ten.",rating:4.2,image:"https://images.unsplash.com/photo-1578916171728-46686eac8d58?w=800&h=600&fit=crop",cuisine:"",priceLevel:2,hours:"Mo-Sa: 08:00-20:00, So: 10:00-18:00",website:"https://afrika-market-berlin.de"},{name:"Senegal Restaurant Hamburg",type:"restaurant",address:"Reeperbahn 456, 20359 Hamburg",coordinates:{lat:53.5511,lng:9.9937},phone:"+49 40 12345678",description:"Authentische senegalesische K\xFCche. Thieboudienne, Yassa Poulet und frische Meeresfr\xFCchte.",rating:4.4,image:"https://images.unsplash.com/photo-1547592180-85f173990554?w=800&h=600&fit=crop",cuisine:"Senegalesische",priceLevel:3,hours:"Mo-Fr: 18:00-24:00, Sa-So: 17:00-01:00",website:"https://senegal-restaurant-hh.de"},{name:"Afro Style Hamburg",type:"coiffeur",address:"Steindamm 123, 20099 Hamburg",coordinates:{lat:53.553,lng:10.0061},phone:"+49 40 23456789",description:"Moderner Afro-Friseursalon mit internationalen Stylisten. Cuts, Farben und Extensions.",rating:4.6,image:"https://images.unsplash.com/photo-1521490878783-35eb2c52f3b7?w=800&h=600&fit=crop",cuisine:"",priceLevel:3,hours:"Mo-Fr: 10:00-20:00, Sa: 09:00-18:00",website:""},{name:"Kamerun Eck M\xFCnchen",type:"restaurant",address:"Maximilianstra\xDFe 78, 80539 M\xFCnchen",coordinates:{lat:48.1351,lng:11.582},phone:"+49 89 12345678",description:"Kamerunische Spezialit\xE4ten in bayerischer Atmosph\xE4re. Ndol\xE9, Poulet DG und Kochbananen.",rating:4.1,image:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=800&h=600&fit=crop",cuisine:"Kamerunische",priceLevel:2,hours:"Mo-Sa: 11:30-22:00",website:""},{name:"Nigerianisches Restaurant K\xF6ln",type:"restaurant",address:"Z\xFClpicher Stra\xDFe 234, 50937 K\xF6ln",coordinates:{lat:50.9375,lng:6.9603},phone:"+49 221 12345678",description:"Authentische nigerianische K\xFCche. Jollof Rice, Suya, Pounded Yam und Egusi Soup.",rating:4.3,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=800&h=600&fit=crop",cuisine:"Nigerianische",priceLevel:2,hours:"Mo-Fr: 12:00-21:00, Sa-So: 14:00-22:00",website:"https://nigerian-restaurant-koeln.de"},{name:"Eritrea Restaurant Frankfurt",type:"restaurant",address:"Berger Stra\xDFe 145, 60316 Frankfurt am Main",coordinates:{lat:50.1109,lng:8.6821},phone:"+49 69 12345678",description:"Eritreische und \xE4thiopische K\xFCche. Injera, Zigni und traditionelle Kaffeezeremonie.",rating:4.5,image:"https://images.unsplash.com/photo-1554978991-33ef7f31d658?w=800&h=600&fit=crop",cuisine:"Eritreische",priceLevel:2,hours:"Mo-So: 17:00-23:00",website:""},{name:"Afrika Laden Stuttgart",type:"epicerie",address:"K\xF6nigstra\xDFe 89, 70173 Stuttgart",coordinates:{lat:48.7758,lng:9.1829},phone:"+49 711 12345678",description:"Afrikanische Lebensmittel und Gew\xFCrze. Maniok, Kochbananen, Palm\xF6l und traditionelle Snacks.",rating:4,image:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=800&h=600&fit=crop",cuisine:"",priceLevel:2,hours:"Mo-Fr: 09:00-19:00, Sa: 09:00-17:00",website:""},{name:"Marokkanisches Restaurant D\xFCsseldorf",type:"restaurant",address:"Immermannstra\xDFe 23, 40210 D\xFCsseldorf",coordinates:{lat:51.2277,lng:6.7735},phone:"+49 211 12345678",description:"Nordafrikanische K\xFCche. Tajine, Couscous, Pastilla und marokkanische Tees.",rating:4.2,image:"https://images.unsplash.com/photo-1539353130027-9532750e7146?w=800&h=600&fit=crop",cuisine:"Marokkanische",priceLevel:3,hours:"Mo-So: 17:00-24:00",website:"https://marokko-restaurant-dus.de"},{name:"Afro Palace Dortmund",type:"restaurant",address:"Kampstra\xDFe 45, 44137 Dortmund",coordinates:{lat:51.5136,lng:7.4653},phone:"+49 231 12345678",description:"Westafrikanische und zentralafrikanische K\xFCche in modernem Ambiente.",rating:4.1,image:"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=800&h=600&fit=crop",cuisine:"Westafrikanische",priceLevel:2,hours:"Mo-Sa: 12:00-22:00",website:""},{name:"African Beauty Salon Essen",type:"coiffeur",address:"Kettwiger Stra\xDFe 67, 45127 Essen",coordinates:{lat:51.4556,lng:7.0116},phone:"+49 201 12345678",description:"Kompletter Service f\xFCr afrikanisches Haar. Relaxer, Braids, Weaves und Naturhaar-Styling.",rating:4.4,image:"https://images.unsplash.com/photo-1560066984-138dadb4c035?w=800&h=600&fit=crop",cuisine:"",priceLevel:3,hours:"Mo-Fr: 09:00-18:00, Sa: 08:00-16:00",website:""},{name:"\xC4thiopisches Restaurant Leipzig",type:"restaurant",address:"Karl-Liebknecht-Stra\xDFe 123, 04107 Leipzig",coordinates:{lat:51.3397,lng:12.3731},phone:"+49 341 12345678",description:"Traditionelle \xE4thiopische Gerichte in famili\xE4rer Atmosph\xE4re.",rating:4.3,image:"https://images.unsplash.com/photo-1574894709920-11b28e7367e3?w=800&h=600&fit=crop",cuisine:"\xC4thiopische",priceLevel:2,hours:"Mo-Sa: 17:00-22:00",website:""},{name:"Afrika Shop Bremen",type:"epicerie",address:"Osterstra\xDFe 234, 28199 Bremen",coordinates:{lat:53.0793,lng:8.8017},phone:"+49 421 12345678",description:"Afrikanische Spezialit\xE4ten und Kosmetik. Shea-Butter, schwarze Seife und exotische Fr\xFCchte.",rating:4.1,image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop",cuisine:"",priceLevel:2,hours:"Mo-Fr: 10:00-19:00, Sa: 10:00-17:00",website:""},{name:"Sudanesisches Restaurant Dresden",type:"restaurant",address:"Prager Stra\xDFe 89, 01069 Dresden",coordinates:{lat:51.0504,lng:13.7373},phone:"+49 351 12345678",description:"Sudanesische und ostafriikanische K\xFCche. Ful Medames, Kisra und Bamya.",rating:4,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=800&h=600&fit=crop",cuisine:"Sudanesische",priceLevel:2,hours:"Mo-Fr: 12:00-21:00, Sa: 14:00-22:00",website:""},{name:"African Fashion Hannover",type:"vetement",address:"Georgstra\xDFe 156, 30159 Hannover",coordinates:{lat:52.3759,lng:9.732},phone:"+49 511 12345678",description:"Afrikanische Mode und Accessoires. Dashiki, Kente-Stoffe und handgemachter Schmuck.",rating:4.2,image:"https://images.unsplash.com/photo-1558769132-cb1aea458c5e?w=800&h=600&fit=crop",cuisine:"",priceLevel:3,hours:"Mo-Fr: 10:00-19:00, Sa: 10:00-18:00",website:"https://african-fashion-hannover.de"},{name:"Westafrica N\xFCrnberg",type:"restaurant",address:"K\xF6nigstra\xDFe 234, 90402 N\xFCrnberg",coordinates:{lat:49.4521,lng:11.0767},phone:"+49 911 12345678",description:"Ghanaische und ivorische K\xFCche. Banku, Atti\xE9k\xE9 und Palm Nut Soup.",rating:4.4,image:"https://images.unsplash.com/photo-1551218808-94e220e084d2?w=800&h=600&fit=crop",cuisine:"Ghanaische",priceLevel:2,hours:"Mo-Sa: 11:00-22:00",website:""}];kleinestadtAfroshops=[{name:"Afrika Imbiss Soest",type:"restaurant",address:"Thom\xE4stra\xDFe 12, 59494 Soest",coordinates:{lat:51.5671,lng:8.1067},phone:"+49 2921 123456",description:"Kleiner gem\xFCtlicher Imbiss mit westafrikanischen Spezialit\xE4ten. Hausgemachtes Jollof Rice.",rating:4.2,image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=800&h=600&fit=crop",cuisine:"Westafrikanische",priceLevel:1,hours:"Mo-Fr: 11:00-20:00, Sa: 12:00-21:00",website:""},{name:"Afro Hair Werl",type:"coiffeur",address:"Hammer Stra\xDFe 34, 59457 Werl",coordinates:{lat:51.5531,lng:7.9119},phone:"+49 2922 234567",description:"Spezialisiert auf afrikanische Frisuren in ruhiger Kleinstadt-Atmosph\xE4re.",rating:4.5,image:"https://images.unsplash.com/photo-1562322140-8baeececf3df?w=800&h=600&fit=crop",cuisine:"",priceLevel:2,hours:"Mo-Fr: 09:00-18:00, Sa: 09:00-15:00",website:""}];seedDatabase(){return w(this,null,function*(){try{console.log("\u{1F331} D\xE9but du peuplement de la base de donn\xE9es...");let t=yield this.getExistingAfroshops();console.log(`\u{1F4CA} ${t.length} Afroshops d\xE9j\xE0 en base`);let i=[...this.afroshopsData,...this.kleinestadtAfroshops].filter(c=>!t.some(d=>d.name===c.name&&d.address===c.address));if(console.log(`\u2728 ${i.length} nouveaux Afroshops \xE0 ajouter`),i.length===0)throw new Error("\u26A0\uFE0F Tous les Afroshops sont d\xE9j\xE0 en base ! Aucun nouvel ajout n\xE9cessaire.");let r=0,o=0;for(let c of i)try{let d=G(b({},c),{city:this.extractCityFromAddress(c.address),verified:!0,createdBy:"system",createdByName:"System Import",views:Math.floor(Math.random()*100)+10,likes:Math.floor(Math.random()*20)+5});yield this.firebaseService.addAfroshop(d),r++,console.log(`\u2705 ${c.name} ajout\xE9 avec succ\xE8s`),yield this.delay(100)}catch(d){o++,console.error(`\u274C Erreur lors de l'ajout de ${c.name}:`,d)}console.log(`\u{1F389} Import termin\xE9: ${r} ajout\xE9s, ${o} erreurs`)}catch(t){console.error("\u{1F4A5} Erreur g\xE9n\xE9rale lors du seeding:",t)}})}extractCityFromAddress(t){let e=t.split(",");if(e.length>=2){let i=e[e.length-1].trim(),r=i.match(/\d+\s+(.+)/);return r?r[1].toLowerCase():i.toLowerCase()}return""}delay(t){return new Promise(e=>setTimeout(e,t))}static \u0275fac=function(e){return new(e||n)(A(ge))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};ri();var xr=class n{constructor(){}isAdminUser(t){return!t||!t.email?!1:nt.production?(console.warn("\u{1F6AB} Admin check disabled in production - use server-side verification"),!1):[].includes(t.email)}getSecurityMessage(){return nt.production?"Administration d\xE9sactiv\xE9e en production pour des raisons de s\xE9curit\xE9. Contactez l'administrateur syst\xE8me.":"Mode d\xE9veloppement - Acc\xE8s admin disponible."}shouldHideAdminInterface(){return nt.production}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};function gm(n,t){n&1&&(s(0,"span"),l(1,"\u{1F9F9} Doublons entfernen"),a())}function hm(n,t){n&1&&(s(0,"span"),l(1,"\u23F3 Nettoyage l\xE4uft..."),a())}function mm(n,t){n&1&&(s(0,"div",21),I(1,"div",22),s(2,"p"),l(3,"Afroshops werden hinzugef\xFCgt... Bitte warten."),a()())}function fm(n,t){n&1&&(s(0,"div",21),I(1,"div",22),s(2,"p"),l(3,"Doublons werden entfernt... Bitte warten."),a()())}function _m(n,t){if(n&1&&(s(0,"div",23),l(1),a()),n&2){let e=m(2);st(e.seedingMessage.includes("\u274C")?"error":"success"),p(),j(" ",e.seedingMessage," ")}}function vm(n,t){if(n&1&&(s(0,"div",23),l(1),a()),n&2){let e=m(2);st(e.cleaningMessage.includes("\u274C")?"error":"success"),p(),j(" ",e.cleaningMessage," ")}}function bm(n,t){n&1&&(s(0,"span"),l(1,"\u{1F504} Actualiser"),a())}function ym(n,t){n&1&&(s(0,"span"),l(1,"\u23F3 Chargement..."),a())}function Cm(n,t){if(n&1){let e=F();s(0,"div",28)(1,"div",29)(2,"div",30)(3,"h4"),l(4),a(),s(5,"p",31),l(6),a(),s(7,"p",32),l(8),a()(),s(9,"div",33)(10,"span",34),l(11),a()()(),s(12,"div",35)(13,"button",36),y("click",function(){let r=_(e).$implicit,o=m(3);return v(o.editAfroshop(r))}),l(14," \u270F\uFE0F Bearbeiten "),a(),s(15,"button",37),y("click",function(){let r=_(e).$implicit,o=m(3);return v(o.confirmDelete(r))}),l(16," \u{1F5D1}\uFE0F L\xF6schen "),a()()()}if(n&2){let e=t.$implicit,i=m(3);p(4),K(e.name),p(2),K(i.getGermanBusinessType(e.type)),p(2),j("\u{1F4CD} ",e.address,""),p(3),j("ID: ",e.id,""),p(4),h("disabled",i.isDeleting)}}function xm(n,t){if(n&1){let e=F();s(0,"div",24)(1,"div",25)(2,"h3"),l(3),a(),s(4,"button",26),y("click",function(){_(e);let r=m(2);return v(r.loadAfroshops())}),C(5,bm,2,0,"span",10)(6,ym,2,0,"span",10),a()(),C(7,Cm,17,5,"div",27),a()}if(n&2){let e=m(2);p(3),j("\u{1F4CB} Liste des Afroshops (",e.afroshops.length,")"),p(),h("disabled",e.isLoading),p(),h("ngIf",!e.isLoading),p(),h("ngIf",e.isLoading),p(),h("ngForOf",e.afroshops)("ngForTrackBy",e.trackByAfroshop)}}function wm(n,t){n&1&&(s(0,"span"),l(1,"\u{1F4CB} Afroshops anzeigen"),a())}function Mm(n,t){n&1&&(s(0,"span"),l(1,"\u23F3 Wird geladen..."),a())}function Sm(n,t){if(n&1){let e=F();s(0,"div",38)(1,"button",39),y("click",function(){_(e);let r=m(2);return v(r.loadAfroshops())}),C(2,wm,2,0,"span",10)(3,Mm,2,0,"span",10),a()()}if(n&2){let e=m(2);p(),h("disabled",e.isLoading),p(),h("ngIf",!e.isLoading),p(),h("ngIf",e.isLoading)}}function Em(n,t){if(n&1&&(s(0,"div",23),l(1),a()),n&2){let e=m(2);st(e.deleteMessage.includes("\u274C")?"error":"success"),p(),j(" ",e.deleteMessage," ")}}function Om(n,t){if(n&1){let e=F();s(0,"div",4)(1,"h1"),l(2,"Admin works!"),a(),s(3,"div",5)(4,"div",6)(5,"h2"),l(6,"\u{1F331} Peuplement de la base de donn\xE9es"),a()(),s(7,"div",7)(8,"h3"),l(9,"\u{1F4CA} Donn\xE9es incluses:"),a(),s(10,"ul")(11,"li"),l(12,"\u{1F3D9}\uFE0F "),s(13,"strong"),l(14,"Grandes villes:"),a(),l(15," Berlin, Hamburg, M\xFCnchen, K\xF6ln, Frankfurt, Stuttgart, D\xFCsseldorf, Dortmund, Essen"),a(),s(16,"li"),l(17,"\u{1F3D8}\uFE0F "),s(18,"strong"),l(19,"Villes moyennes:"),a(),l(20," Leipzig, Bremen, Dresden, Hannover, N\xFCrnberg"),a(),s(21,"li"),l(22,"\u{1F3E1} "),s(23,"strong"),l(24,"Petites villes & Kreise:"),a(),l(25," Soest, Werl (Kreis Soest) et autres"),a(),s(26,"li"),l(27,"\u{1F37D}\uFE0F "),s(28,"strong"),l(29,"Types:"),a(),l(30," Restaurants, Friseure, Lebensmittelgesch\xE4fte, Mode, Services"),a(),s(31,"li"),l(32,"\u{1F30D} "),s(33,"strong"),l(34,"Cuisines:"),a(),l(35," Westafrikanische, \xC4thiopische, Senegalesische, Kamerunische, Nigerianische, etc."),a()()(),s(36,"div",8)(37,"button",9),y("click",function(){_(e);let r=m();return v(r.cleanDuplicates())}),C(38,gm,2,0,"span",10)(39,hm,2,0,"span",10),a(),C(40,mm,4,0,"div",11)(41,fm,4,0,"div",11),a(),C(42,_m,2,3,"div",12)(43,vm,2,3,"div",12),a(),s(44,"div",13)(45,"div",6)(46,"h2"),l(47,"\u{1F5D1}\uFE0F Gestion des Afroshops"),a(),s(48,"p"),l(49,"Supprimer individuellement des Afroshops de la base de donn\xE9es"),a()(),C(50,xm,8,6,"div",14)(51,Sm,4,3,"div",15)(52,Em,2,3,"div",12),a(),s(53,"div",16)(54,"div",6)(55,"h2"),l(56,"\u{1F527} Diagnostic Technique"),a(),s(57,"p"),l(58,"Outils de diagnostic pour r\xE9soudre les probl\xE8mes de g\xE9ocodage et coordonn\xE9es"),a()(),s(59,"div",8)(60,"a",17),l(61," \u{1F5FA}\uFE0F Diagnostic du G\xE9ocodage "),a(),s(62,"p",18),l(63," Testez le syst\xE8me de coordonn\xE9es, auditez les Afroshops existants et corrigez les probl\xE8mes de g\xE9olocalisation. "),a()()(),s(64,"div",19)(65,"button",20),y("click",function(){_(e);let r=m();return v(r.goToGallery())}),l(66," \u{1F3EA} Voir la galerie "),a()()()}if(n&2){let e=m();p(37),h("disabled",e.isCleaning||e.isSeeding),p(),h("ngIf",!e.isCleaning),p(),h("ngIf",e.isCleaning),p(),h("ngIf",e.isSeeding),p(),h("ngIf",e.isCleaning),p(),h("ngIf",e.seedingMessage),p(),h("ngIf",e.cleaningMessage),p(7),h("ngIf",e.afroshops.length>0),p(),h("ngIf",e.afroshops.length===0),p(),h("ngIf",e.deleteMessage)}}function Pm(n,t){n&1&&(s(0,"div",40)(1,"h2"),l(2,"\u{1F510} Authentification requise"),a(),s(3,"p"),l(4,"Vous devez \xEAtre connect\xE9 pour acc\xE9der aux outils d'administration."),a()())}var wr=class n{constructor(t,e,i,r,o,c){this.dataSeedingService=t;this.authService=e;this.firebaseAfroshopService=i;this.translationService=r;this.adminSecurity=o;this.router=c;this.authService.user$.subscribe(d=>w(this,null,function*(){if(!d){this.router.navigate(["/login"]);return}let{doc:u,getDoc:g}=yield import("./chunk-TFTG6IAA.js"),f=this.firebaseAfroshopService.firestore||window.firestore,M=u(f,"roles/admins"),D=(yield g(M)).data();this.isAuthenticated=D?.uids?.includes(d.uid)??!1,this.isAuthenticated||(console.warn("\u{1F6AB} Acc\xE8s admin refus\xE9: UID non autoris\xE9"),this.router.navigate(["/gallery"]))}))}isSeeding=!1;isCleaning=!1;seedingMessage="";cleaningMessage="";isAuthenticated=!1;afroshops=[];isLoading=!1;isDeleting=!1;deleteMessage="";seedDatabase(){return w(this,null,function*(){if(!this.isAuthenticated){this.seedingMessage="\u274C Vous devez \xEAtre connect\xE9 pour effectuer cette action";return}if(!(this.isSeeding||!confirm(`\u{1F6A8} ACHTUNG!

Diese Aktion wird etwa 50+ neue Afroshops in die Datenbank hinzuf\xFCgen.

\u{1F50D} Bereits vorhandene Gesch\xE4fte werden automatisch \xFCbersprungen.

M\xF6chten Sie fortfahren?`))){this.isSeeding=!0,this.seedingMessage="\u{1F331} Import l\xE4uft... Dies kann einige Minuten dauern.";try{yield this.dataSeedingService.seedDatabase(),this.seedingMessage="\u2705 Datenbank erfolgreich mit neuen Afroshops gef\xFCllt!"}catch(e){console.error("Fehler beim Seeding:",e),this.seedingMessage="\u274C Fehler beim Import. Konsole f\xFCr Details \xFCberpr\xFCfen."}finally{this.isSeeding=!1}}})}editAfroshop(t){this.router.navigate(["/edit-afroshop",t.id])}goToGallery(){this.router.navigate(["/gallery"])}cleanDuplicates(){return w(this,null,function*(){if(!this.isAuthenticated){this.cleaningMessage="\u274C Sie m\xFCssen angemeldet sein, um diese Aktion durchzuf\xFChren";return}if(!(this.isCleaning||!confirm(`\u{1F9F9} DOUBLONS NETTOYAGE

Diese Aktion wird alle doppelten Afroshops l\xF6schen.

\u26A0\uFE0F Nur das erste Exemplar jedes Gesch\xE4fts wird beibehalten.

M\xF6chten Sie fortfahren?`))){this.isCleaning=!0,this.cleaningMessage="\u{1F9F9} Doublons werden entfernt... Bitte warten.";try{let e=yield this.dataSeedingService.cleanDuplicates();this.cleaningMessage=`\u2705 Nettoyage abgeschlossen! ${e.removed} Doublons entfernt, ${e.kept} Afroshops beibehalten.`}catch(e){console.error("Fehler beim Nettoyage:",e),this.cleaningMessage="\u274C Fehler beim Nettoyage. Konsole f\xFCr Details \xFCberpr\xFCfen."}finally{this.isCleaning=!1}}})}loadAfroshops(){return w(this,null,function*(){this.isLoading=!0,this.deleteMessage="";try{this.firebaseAfroshopService.getAllAfroshops().subscribe({next:t=>{this.afroshops=t.sort((e,i)=>e.name.localeCompare(i.name)),this.isLoading=!1},error:t=>{console.error("Erreur lors du chargement:",t),this.deleteMessage="\u274C Fehler beim Laden der Afroshops.",this.isLoading=!1}})}catch(t){console.error("Erreur lors du chargement:",t),this.deleteMessage="\u274C Fehler beim Laden der Afroshops.",this.isLoading=!1}})}confirmDelete(t){return w(this,null,function*(){confirm(`\u{1F5D1}\uFE0F Afroshop l\xF6schen

Name: ${t.name}
Typ: ${this.getGermanBusinessType(t.type)}
Adresse: ${t.address}

\u26A0\uFE0F Diese Aktion kann nicht r\xFCckg\xE4ngig gemacht werden!

M\xF6chten Sie "${t.name}" wirklich l\xF6schen?`)&&(yield this.deleteAfroshop(t))})}deleteAfroshop(t){return w(this,null,function*(){this.isDeleting=!0,this.deleteMessage=`\u{1F5D1}\uFE0F "${t.name}" wird gel\xF6scht...`;try{yield this.firebaseAfroshopService.deleteAfroshop(t.id.toString()),this.afroshops=this.afroshops.filter(e=>e.id!==t.id),this.deleteMessage=`\u2705 "${t.name}" wurde erfolgreich gel\xF6scht.`,setTimeout(()=>{this.deleteMessage=""},3e3)}catch(e){console.error("Erreur lors de la suppression:",e),this.deleteMessage=`\u274C Fehler beim L\xF6schen von "${t.name}". Details in der Konsole.`}finally{this.isDeleting=!1}})}getGermanBusinessType(t){return this.translationService.getBusinessTypeName(t)}formatDate(t){if(!t)return"Datum unbekannt";try{let e;return t.toDate?e=t.toDate():t.seconds?e=new Date(t.seconds*1e3):e=new Date(t),e.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Erreur formatage date:",e),"Datum fehler"}}trackByAfroshop(t,e){return e.id}static \u0275fac=function(e){return new(e||n)(P(Cr),P(ee),P(ge),P(He),P(xr),P(Y))};static \u0275cmp=V({type:n,selectors:[["app-admin"]],decls:8,vars:2,consts:[[1,"admin-container"],[1,"admin-header"],["class","admin-panel",4,"ngIf"],["class","auth-required",4,"ngIf"],[1,"admin-panel"],[1,"seeding-section"],[1,"section-header"],[1,"data-info"],[1,"action-section"],[1,"clean-btn",3,"click","disabled"],[4,"ngIf"],["class","progress-indicator",4,"ngIf"],["class","message",3,"class",4,"ngIf"],[1,"management-section"],["class","afroshops-list",4,"ngIf"],["class","load-button",4,"ngIf"],[1,"diagnostic-section"],["routerLink","/geocoding-diagnostic",1,"diagnostic-btn"],[1,"diagnostic-desc"],[1,"navigation-section"],[1,"nav-btn",3,"click"],[1,"progress-indicator"],[1,"spinner"],[1,"message"],[1,"afroshops-list"],[1,"list-header"],[1,"refresh-btn",3,"click","disabled"],["class","afroshop-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"afroshop-item"],[1,"afroshop-info"],[1,"basic-info"],[1,"type"],[1,"location"],[1,"meta-info"],[1,"id"],[1,"actions"],["title","Afroshop bearbeiten",1,"edit-btn",3,"click"],["title","Afroshop l\xF6schen",1,"delete-btn",3,"click","disabled"],[1,"load-button"],[1,"load-btn",3,"click","disabled"],[1,"auth-required"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"div",1)(2,"h1"),l(3,"\u{1F527} AfroConnect - Administration"),a(),s(4,"p"),l(5,"Outils pour g\xE9rer la base de donn\xE9es d'Afroshops"),a()(),C(6,Om,67,10,"div",2)(7,Pm,5,0,"div",3),a()),e&2&&(p(6),h("ngIf",i.isAuthenticated),p(),h("ngIf",!i.isAuthenticated))},dependencies:[X,Ce,J,_e,pe],styles:[".admin-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:2rem;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.admin-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.admin-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2c3e50;font-size:2.5rem;margin-bottom:.5rem}.admin-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;font-size:1.1rem}.admin-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);border:2px solid #e9ecef;border-radius:16px;padding:2rem;box-shadow:0 8px 32px #00000014}.seeding-section[_ngcontent-%COMP%]{margin-bottom:2rem}.section-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#27ae60;font-size:1.8rem;margin-bottom:.5rem}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d}.data-info[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #dee2e6;border-radius:12px;padding:1.5rem;margin-bottom:2rem}.data-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#495057;margin-bottom:1rem}.data-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.data-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.5rem 0;border-bottom:1px solid #e9ecef}.data-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.action-section[_ngcontent-%COMP%]{text-align:center;margin:2rem 0;display:flex;flex-direction:column;gap:1rem}.seed-btn[_ngcontent-%COMP%], .clean-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#27ae60,#2ecc71);color:#fff;border:none;padding:1rem 2rem;border-radius:12px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 6px 20px #27ae604d;min-width:300px;margin:0 auto}.clean-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e74c3c,#c0392b);box-shadow:0 6px 20px #e74c3c4d}.seed-btn[_ngcontent-%COMP%]:hover:not(:disabled), .clean-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 12px 30px #27ae6066}.clean-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 12px 30px #e74c3c66}.seed-btn[_ngcontent-%COMP%]:disabled, .clean-btn[_ngcontent-%COMP%]:disabled{background:#bdc3c7;cursor:not-allowed;transform:none;box-shadow:0 2px 8px #0000001a}.progress-indicator[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;flex-direction:column;align-items:center;gap:1rem}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #27ae60;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.message[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-radius:8px;margin-top:1.5rem;font-weight:500}.message.success[_ngcontent-%COMP%]{background:#d4edda;color:#155724;border:1px solid #c3e6cb}.message.error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.diagnostic-section[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1.5rem;background:#f1f8ff;border:1px solid #d1ecf1;border-radius:12px}.diagnostic-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#06c;font-size:1.6rem}.diagnostic-btn[_ngcontent-%COMP%]{display:inline-block;background:linear-gradient(135deg,#17a2b8,#138496);color:#fff;padding:.8rem 1.5rem;border-radius:10px;text-decoration:none;font-weight:500;transition:all .3s ease;border:none;cursor:pointer}.diagnostic-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #17a2b84d;text-decoration:none;color:#fff}.diagnostic-desc[_ngcontent-%COMP%]{margin-top:.8rem;color:#6c757d;font-size:.9rem;line-height:1.4}.navigation-section[_ngcontent-%COMP%]{text-align:center;padding-top:2rem;border-top:1px solid #e9ecef}.nav-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3498db,#2980b9);color:#fff;border:none;padding:.8rem 1.5rem;border-radius:10px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;text-decoration:none;display:inline-block}.nav-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #3498db4d}.auth-required[_ngcontent-%COMP%]{text-align:center;padding:3rem;background:#fff3cd;border:1px solid #ffeaa7;border-radius:12px;color:#856404}.auth-required[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#856404;margin-bottom:1rem}@media (max-width: 768px){.admin-container[_ngcontent-%COMP%]{padding:1rem}.admin-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.admin-panel[_ngcontent-%COMP%]{padding:1.5rem}.seed-btn[_ngcontent-%COMP%]{min-width:auto;width:100%;padding:1rem}.data-info[_ngcontent-%COMP%]{padding:1rem}}.management-section[_ngcontent-%COMP%]{margin-top:3rem;padding-top:2rem;border-top:2px solid #e9ecef}.management-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#e74c3c;font-size:1.8rem}.afroshops-list[_ngcontent-%COMP%]{background:#fff;border-radius:12px;border:1px solid #dee2e6;overflow:hidden;margin-top:1rem}.list-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);padding:1rem 1.5rem;border-bottom:1px solid #dee2e6;display:flex;justify-content:space-between;align-items:center}.list-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#495057;margin:0;font-size:1.2rem}.refresh-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#17a2b8,#138496);color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-size:.9rem;transition:all .3s ease}.refresh-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #17a2b84d}.refresh-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.afroshop-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem;border-bottom:1px solid #f1f3f4;transition:background-color .3s ease}.afroshop-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.afroshop-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.afroshop-info[_ngcontent-%COMP%]{flex:1}.basic-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#2c3e50;margin:0 0 .25rem;font-size:1.1rem}.basic-info[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem;margin:0 0 .25rem;font-weight:600}.basic-info[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{color:#495057;font-size:.85rem;margin:0}.meta-info[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:.5rem}.meta-info[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{background:#e9ecef;color:#495057;padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-family:monospace}.actions[_ngcontent-%COMP%]{margin-left:1rem;display:flex;gap:.5rem;align-items:center}.edit-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#218838);color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-size:.9rem;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.edit-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #28a7454d;background:linear-gradient(135deg,#218838,#1e7e34)}.delete-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333);color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-size:.9rem;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.delete-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #dc35454d;background:linear-gradient(135deg,#c82333,#a71e2a)}.delete-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.load-button[_ngcontent-%COMP%]{text-align:center;padding:2rem}.load-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#5a6268);color:#fff;border:none;padding:1rem 2rem;border-radius:8px;cursor:pointer;font-size:1rem;transition:all .3s ease}.load-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #6c757d4d}.load-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media (max-width: 768px){.management-section[_ngcontent-%COMP%]{margin-top:2rem;padding-top:1.5rem}.list-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.afroshop-item[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.actions[_ngcontent-%COMP%]{margin-left:0;width:100%}.delete-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.meta-info[_ngcontent-%COMP%]{justify-content:center}}"]})};function km(n,t){n&1&&(s(0,"span"),l(1,"\u{1F5FA}\uFE0F Tester"),a())}function Am(n,t){n&1&&(s(0,"span"),l(1,"\u23F3 Test..."),a())}function Im(n,t){if(n&1&&(s(0,"div",21)(1,"h4"),l(2,"\u2705 G\xE9ocodage R\xE9ussi"),a(),s(3,"p")(4,"strong"),l(5,"Coordonn\xE9es:"),a(),l(6),a(),s(7,"p")(8,"strong"),l(9,"Adresse format\xE9e:"),a(),l(10),a(),s(11,"p")(12,"strong"),l(13,"Pr\xE9cision:"),a(),l(14),a()()),n&2){let e=m(3);p(6),Ae(" ",e.testResult.lat,", ",e.testResult.lng,""),p(4),j(" ",e.testResult.formatted_address,""),p(4),j(" ",e.testResult.accuracy,"")}}function Dm(n,t){n&1&&(s(0,"div",22)(1,"h4"),l(2,"\u274C G\xE9ocodage \xC9chou\xE9"),a(),s(3,"p"),l(4,"L'adresse n'a pas pu \xEAtre g\xE9ocod\xE9e."),a(),s(5,"p")(6,"em"),l(7,"V\xE9rifiez que l'adresse contient une ville allemande connue."),a()()())}function Tm(n,t){if(n&1&&(s(0,"div",18),C(1,Im,15,4,"div",19)(2,Dm,8,0,"div",20),a()),n&2){let e=m(2);p(),h("ngIf",e.testResult.success),p(),h("ngIf",!e.testResult.success)}}function Rm(n,t){n&1&&(s(0,"span"),l(1,"\u{1F50D} Auditer tous les Afroshops"),a())}function zm(n,t){n&1&&(s(0,"span"),l(1,"\u23F3 Audit en cours..."),a())}function Lm(n,t){if(n&1){let e=F();s(0,"div",31)(1,"strong"),l(2),a(),I(3,"br"),s(4,"small"),l(5),a(),I(6,"br"),s(7,"span",32),l(8),a(),s(9,"button",33),y("click",function(){let r=_(e).$implicit,o=m(4);return v(o.regeocodeAfroshop(r))}),l(10," \u{1F504} Re-g\xE9ocoder "),a()()}if(n&2){let e=t.$implicit,i=m(4);p(2),K(e.name),p(3),K(e.address),p(3),Ae("Coordonn\xE9es: ",e.coordinates.lat,", ",e.coordinates.lng,""),p(),h("disabled",i.isRegeocoding)}}function Fm(n,t){if(n&1&&(s(0,"div",29)(1,"h5"),l(2,"\u26A0\uFE0F Afroshops avec Coordonn\xE9es Invalides"),a(),C(3,Lm,11,5,"div",30),a()),n&2){let e=m(3);p(3),h("ngForOf",e.invalidAfroshops)}}function Nm(n,t){if(n&1&&(s(0,"div",23)(1,"h4"),l(2,"R\xE9sultats de l'Audit"),a(),s(3,"div",24)(4,"div",25)(5,"span",26),l(6),a(),s(7,"span",27),l(8,"Coordonn\xE9es Valides"),a()(),s(9,"div",25)(10,"span",26),l(11),a(),s(12,"span",27),l(13,"Coordonn\xE9es Invalides"),a()()(),C(14,Fm,4,1,"div",28),a()),n&2){let e=m(2);p(6),K(e.validCoordinates),p(5),K(e.invalidCoordinates),p(3),h("ngIf",e.invalidAfroshops.length>0)}}function Um(n,t){if(n&1){let e=F();s(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2"),l(4,"\u{1F527} Diagnostic du G\xE9ocodage"),a(),s(5,"a",5),l(6," \u2190 Zur\xFCck zur Admin-Seite "),a()()(),s(7,"div",6)(8,"h3"),l(9,"Test d'Adresse"),a(),s(10,"div",7)(11,"input",8),z("ngModelChange",function(r){_(e);let o=m();return R(o.testAddress,r)||(o.testAddress=r),v(r)}),a(),s(12,"button",9),y("click",function(){_(e);let r=m();return v(r.testSingleAddress())}),C(13,km,2,0,"span",10)(14,Am,2,0,"span",10),a()(),C(15,Tm,3,2,"div",11),a(),s(16,"div",6)(17,"h3"),l(18,"Audit des Coordonn\xE9es"),a(),s(19,"button",12),y("click",function(){_(e);let r=m();return v(r.auditAfroshops())}),C(20,Rm,2,0,"span",10)(21,zm,2,0,"span",10),a(),C(22,Nm,15,3,"div",13),a(),s(23,"div",6)(24,"h3"),l(25,"Configuration Syst\xE8me"),a(),s(26,"div",14)(27,"div",15)(28,"strong"),l(29,"Mode de g\xE9ocodage:"),a(),s(30,"span",16),l(31),a()(),s(32,"div",15)(33,"strong"),l(34,"Villes support\xE9es:"),a(),s(35,"span"),l(36),a()(),s(37,"div",15)(38,"strong"),l(39,"Estimation par code postal:"),a(),s(40,"span",17),l(41,"\u2705 Activ\xE9e"),a()()()()()}if(n&2){let e=m();p(11),T("ngModel",e.testAddress),p(),h("disabled",e.isGeocoding),p(),h("ngIf",!e.isGeocoding),p(),h("ngIf",e.isGeocoding),p(),h("ngIf",e.testResult),p(4),h("disabled",e.isAuditing),p(),h("ngIf",!e.isAuditing),p(),h("ngIf",e.isAuditing),p(),h("ngIf",e.auditResults.length>0),p(9),K(e.geocodingMode),p(5),j("",e.supportedCitiesCount," villes")}}function Bm(n,t){n&1&&(s(0,"div",34),l(1," \u{1F512} Acc\xE8s r\xE9serv\xE9 aux administrateurs "),a())}var Mr=class n{constructor(t,e,i){this.geocodingService=t;this.firebaseService=e;this.authService=i;this.authService.user$.subscribe(r=>{this.isAdmin=r?.email==="youssoufdiamaldiallo@gmail.com"})}isAdmin=!1;testAddress="";isGeocoding=!1;isAuditing=!1;isRegeocoding=!1;testResult=null;auditResults=[];invalidAfroshops=[];get validCoordinates(){return this.auditResults.filter(t=>this.geocodingService.isValidCoordinates(t.coordinates.lat,t.coordinates.lng)).length}get invalidCoordinates(){return this.auditResults.length-this.validCoordinates}get geocodingMode(){return"Fallback (Villes pr\xE9d\xE9finies)"}get supportedCitiesCount(){return 50}testSingleAddress(){return w(this,null,function*(){if(this.testAddress.trim()){this.isGeocoding=!0,this.testResult=null;try{this.geocodingService.geocodeAddress(this.testAddress).subscribe({next:t=>{this.isGeocoding=!1,t?this.testResult={success:!0,lat:t.lat,lng:t.lng,formatted_address:t.formatted_address,accuracy:t.accuracy}:this.testResult={success:!1}},error:t=>{this.isGeocoding=!1,this.testResult={success:!1,error:t.message},console.error("Erreur test g\xE9ocodage:",t)}})}catch(t){this.isGeocoding=!1,this.testResult={success:!1},console.error("Erreur test g\xE9ocodage:",t)}}})}auditAfroshops(){return w(this,null,function*(){this.isAuditing=!0,this.auditResults=[],this.invalidAfroshops=[];try{this.firebaseService.getAllAfroshops().subscribe({next:t=>{this.auditResults=t,this.invalidAfroshops=t.filter(e=>!this.geocodingService.isValidCoordinates(e.coordinates.lat,e.coordinates.lng)),console.log(`Audit termin\xE9: ${this.validCoordinates}/${this.auditResults.length} coordonn\xE9es valides`),this.isAuditing=!1},error:t=>{console.error("Erreur audit:",t),this.isAuditing=!1}})}catch(t){console.error("Erreur audit:",t),this.isAuditing=!1}})}regeocodeAfroshop(t){return w(this,null,function*(){this.isRegeocoding=!0;try{this.geocodingService.geocodeAddress(t.address).subscribe({next:e=>w(this,null,function*(){if(e){let i={coordinates:{lat:e.lat,lng:e.lng}};yield this.firebaseService.updateAfroshop(t.id,i);let r=this.invalidAfroshops.findIndex(o=>o.id===t.id);r>=0&&(this.invalidAfroshops[r].coordinates=i.coordinates),console.log(`\u2705 Re-g\xE9ocodage r\xE9ussi pour ${t.name}`)}else console.warn(`\u274C Re-g\xE9ocodage \xE9chou\xE9 pour ${t.name}`);this.isRegeocoding=!1}),error:e=>{console.error(`Erreur re-g\xE9ocodage ${t.name}:`,e),this.isRegeocoding=!1}})}catch(e){console.error(`Erreur re-g\xE9ocodage ${t.name}:`,e),this.isRegeocoding=!1}})}static \u0275fac=function(e){return new(e||n)(P(vt),P(ge),P(ee))};static \u0275cmp=V({type:n,selectors:[["app-geocoding-diagnostic"]],decls:2,vars:2,consts:[["class","diagnostic-container",4,"ngIf"],["class","no-access",4,"ngIf"],[1,"diagnostic-container"],[1,"diagnostic-header"],[1,"header-content"],["routerLink","/admin",1,"back-to-admin-btn"],[1,"test-section"],[1,"input-group"],["type","text","placeholder","Saisissez une adresse allemande...",1,"test-input",3,"ngModelChange","ngModel"],[1,"test-btn",3,"click","disabled"],[4,"ngIf"],["class","result-box",4,"ngIf"],[1,"audit-btn",3,"click","disabled"],["class","audit-results",4,"ngIf"],[1,"config-info"],[1,"config-item"],[1,"mode-indicator"],[1,"feature-enabled"],[1,"result-box"],["class","success-result",4,"ngIf"],["class","error-result",4,"ngIf"],[1,"success-result"],[1,"error-result"],[1,"audit-results"],[1,"stats"],[1,"stat-item"],[1,"stat-number"],[1,"stat-label"],["class","invalid-list",4,"ngIf"],[1,"invalid-list"],["class","invalid-item",4,"ngFor","ngForOf"],[1,"invalid-item"],[1,"coordinates"],[1,"regeocode-btn",3,"click","disabled"],[1,"no-access"]],template:function(e,i){e&1&&C(0,Um,42,11,"div",0)(1,Bm,2,0,"div",1),e&2&&(h("ngIf",i.isAdmin),p(),h("ngIf",!i.isAdmin))},dependencies:[X,Ce,J,xe,Ie,De,Te,_e,pe],styles:[".diagnostic-container[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:20px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.diagnostic-header[_ngcontent-%COMP%]{margin-bottom:30px;padding-bottom:15px;border-bottom:2px solid #e9ecef}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:15px}.header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333}.back-to-admin-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#5a6268);color:#fff;padding:8px 16px;border-radius:6px;text-decoration:none;font-size:14px;font-weight:500;transition:all .3s ease;display:flex;align-items:center;gap:5px}.back-to-admin-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a6268,#495057);transform:translateY(-1px);text-decoration:none;color:#fff}.test-section[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:20px;margin-bottom:20px;box-shadow:0 2px 4px #0000001a}.test-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#333;border-bottom:2px solid #007bff;padding-bottom:8px}.input-group[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:15px}.test-input[_ngcontent-%COMP%]{flex:1;padding:10px;border:2px solid #ddd;border-radius:4px;font-size:14px}.test-btn[_ngcontent-%COMP%], .audit-btn[_ngcontent-%COMP%]{padding:10px 20px;background:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-weight:600}.test-btn[_ngcontent-%COMP%]:hover, .audit-btn[_ngcontent-%COMP%]:hover{background:#0056b3}.test-btn[_ngcontent-%COMP%]:disabled, .audit-btn[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed}.result-box[_ngcontent-%COMP%]{margin-top:15px;padding:15px;border-radius:6px}.success-result[_ngcontent-%COMP%]{background:#d4edda;border:1px solid #c3e6cb;color:#155724}.error-result[_ngcontent-%COMP%]{background:#f8d7da;border:1px solid #f5c6cb;color:#721c24}.stats[_ngcontent-%COMP%]{display:flex;gap:20px;margin:15px 0}.stat-item[_ngcontent-%COMP%]{text-align:center;padding:15px;background:#fff;border-radius:6px;box-shadow:0 1px 3px #0000001a}.stat-number[_ngcontent-%COMP%]{display:block;font-size:24px;font-weight:700;color:#007bff}.stat-label[_ngcontent-%COMP%]{display:block;font-size:12px;color:#666;margin-top:5px}.invalid-item[_ngcontent-%COMP%]{background:#fff;padding:15px;margin:10px 0;border-radius:6px;border-left:4px solid #ffc107}.coordinates[_ngcontent-%COMP%]{color:#666;font-family:monospace}.regeocode-btn[_ngcontent-%COMP%]{margin-top:8px;padding:5px 10px;background:#28a745;color:#fff;border:none;border-radius:3px;font-size:12px;cursor:pointer}.config-info[_ngcontent-%COMP%]{background:#fff;padding:15px;border-radius:6px}.config-item[_ngcontent-%COMP%]{margin:10px 0;display:flex;justify-content:space-between}.mode-indicator[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;padding:2px 8px;border-radius:12px;font-size:14px}.feature-enabled[_ngcontent-%COMP%]{color:#28a745}.no-access[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666;font-size:18px}"]})};var zt=class n{constructor(t,e){this.authService=t;this.router=e}canActivate(){return this.authService.user$.pipe(Oe(1),N(t=>t?!0:(this.router.navigate(["/login"],{queryParams:{returnUrl:this.router.url}}),!1)))}static \u0275fac=function(e){return new(e||n)(A(ee),A(Y))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var Sr=class n{constructor(t,e,i){this.authService=t;this.firestore=e;this.router=i}canActivate(){return ie([!0])}static \u0275fac=function(e){return new(e||n)(A(ee),A(lt),A(Y))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};function jm(n,t){if(n&1&&(s(0,"div",10),I(1,"img",11),a()),n&2){let e=m();p(),h("src",e.productImagePreview,ke)}}var Er=class n{constructor(t){this.firebaseService=t}afroshopId="";productAdded=new fe;newProduct={id:"",name:"",price:0,image:""};productImagePreview=null;productImageFile=null;onProductImageSelected(t){return w(this,null,function*(){let e=t.target.files[0];if(!e)return;let i=new FileReader;i.onload=r=>{this.productImagePreview=r.target.result},i.readAsDataURL(e),this.productImageFile=e;try{let r=yield this.firebaseService.uploadImage(e);this.newProduct.image=r}catch(r){console.error("Erreur upload image produit:",r)}})}addProduct(){return w(this,null,function*(){if(!this.newProduct.name||!this.newProduct.price||!this.newProduct.image)return;let t=G(b({},this.newProduct),{id:Date.now().toString()});this.afroshopId&&(yield this.firebaseService.updateAfroshop(this.afroshopId,{products:As(t)})),this.productAdded.emit(t),this.newProduct={id:"",name:"",price:0,image:""},this.productImagePreview=null,this.productImageFile=null})}static \u0275fac=function(e){return new(e||n)(P(ge))};static \u0275cmp=V({type:n,selectors:[["app-add-product"]],inputs:{afroshopId:"afroshopId"},outputs:{productAdded:"productAdded"},decls:16,vars:3,consts:[[1,"add-product-form"],[3,"ngSubmit"],["for","name"],["type","text","name","name","id","name","placeholder","Name des Produkts","required","",3,"ngModelChange","ngModel"],["for","price"],["type","number","step","0.01","name","price","id","price","placeholder","Preis in Euro","required","",3,"ngModelChange","ngModel"],["for","image"],["type","file","id","image",3,"change"],["class","image-preview-container",4,"ngIf"],["type","submit",1,"modern-btn"],[1,"image-preview-container"],["alt","Bildvorschau",1,"preview",3,"src"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"h2"),l(2,"Produkt hinzuf\xFCgen"),a(),s(3,"form",1),y("ngSubmit",function(){return i.addProduct()}),s(4,"label",2),l(5,"Produktname"),a(),s(6,"input",3),z("ngModelChange",function(o){return R(i.newProduct.name,o)||(i.newProduct.name=o),o}),a(),s(7,"label",4),l(8,"Preis (\u20AC)"),a(),s(9,"input",5),z("ngModelChange",function(o){return R(i.newProduct.price,o)||(i.newProduct.price=o),o}),a(),s(10,"label",6),l(11,"Produktbild"),a(),s(12,"input",7),y("change",function(o){return i.onProductImageSelected(o)}),a(),C(13,jm,2,1,"div",8),s(14,"button",9),l(15,"Hinzuf\xFCgen"),a()()()),e&2&&(p(6),T("ngModel",i.newProduct.name),p(3),T("ngModel",i.newProduct.price),p(4),h("ngIf",i.productImagePreview))},dependencies:[X,J,xe,ut,Ie,Fs,De,ct,pt,Te,dt],styles:["[_nghost-%COMP%]{display:block;padding:2rem;background:#f8f9fa;border-radius:16px;box-shadow:0 4px 24px #00000014;max-width:400px;margin:2rem auto}.add-product-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#2d3748;margin-bottom:1.5rem}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.2rem}label[_ngcontent-%COMP%]{font-weight:500;color:#4a5568;margin-bottom:.3rem}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{padding:.7rem;border-radius:8px;border:1px solid #cbd5e0;font-size:1rem;background:#fff;transition:border-color .2s}input[_ngcontent-%COMP%]:focus{border-color:#3182ce;outline:none}.image-preview-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:.5rem}img.preview[_ngcontent-%COMP%]{max-width:180px;max-height:180px;border-radius:12px;box-shadow:0 2px 8px #0000001a}.modern-btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3182ce,#00bcd4);color:#fff;border:none;border-radius:8px;padding:.8rem;font-size:1.1rem;font-weight:600;cursor:pointer;box-shadow:0 2px 8px #3182ce1a;transition:background .2s,transform .1s}.modern-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#00bcd4,#3182ce);transform:translateY(-2px) scale(1.03)}"]})};var Xc=[{path:"",redirectTo:"/gallery",pathMatch:"full"},{path:"about",loadComponent:()=>import("./chunk-YG6H6L77.js").then(n=>n.AboutComponent)},{path:"kontakt",loadComponent:()=>import("./chunk-SF4XQGDJ.js").then(n=>n.KontaktComponent)},{path:"hilfe",loadComponent:()=>import("./chunk-HBXEQ4P5.js").then(n=>n.HilfeComponent)},{path:"gallery",component:hr},{path:"afroshop/:id",component:mr},{path:"add-afroshop",component:ai,canActivate:[zt]},{path:"edit-afroshop/:id",component:ai,canActivate:[zt]},{path:"admin",component:wr,canActivate:[Sr]},{path:"geocoding-diagnostic",component:Mr,canActivate:[zt]},{path:"login",component:fr},{path:"register",component:_r},{path:"privacy",component:vr},{path:"terms",component:br},{path:"impressum",component:yr},{path:"add-product",component:Er,canActivate:[zt]},{path:"**",redirectTo:"/gallery"}];ri();var Jc={providers:[Na({eventCoalescing:!0}),Uo(Xc),co(),dl(cl()),fs(()=>_s(nt.firebase)),Is(()=>zs()),xs(()=>Ss()),Nc(()=>Bc())]};function Gm(n,t){if(n&1){let e=F();s(0,"div",1)(1,"span"),l(2," Diese Website verwendet Cookies f\xFCr Google Analytics, um das Nutzererlebnis zu verbessern. Mehr erfahren in unserer Datenschutzerkl\xE4rung. "),a(),s(3,"button",2),y("click",function(){_(e);let r=m();return v(r.accept())}),l(4,"Akzeptieren"),a(),s(5,"button",2),y("click",function(){_(e);let r=m();return v(r.decline())}),l(6,"Ablehnen"),a()()}}var Or=class n{consentGiven=localStorage.getItem("cookie_consent")==="true";showBanner=!this.consentGiven;accept(){localStorage.setItem("cookie_consent","true"),this.showBanner=!1,this.loadAnalytics()}decline(){localStorage.setItem("cookie_consent","false"),this.showBanner=!1}loadAnalytics(){if(!window.gaLoaded){let t=document.createElement("script");t.src="https://www.googletagmanager.com/gtag/js?id=G-4VZ4WFYE9M",t.async=!0,document.head.appendChild(t),t.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","G-4VZ4WFYE9M",{anonymize_ip:!0}),window.gaLoaded=!0}}}ngOnInit(){this.consentGiven&&this.loadAnalytics()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-cookie-consent"]],decls:1,vars:1,consts:[["class","cookie-banner",4,"ngIf"],[1,"cookie-banner"],[3,"click"]],template:function(e,i){e&1&&C(0,Gm,7,0,"div",0),e&2&&h("ngIf",i.showBanner)},dependencies:[X,J],styles:[".cookie-banner[_ngcontent-%COMP%]{position:fixed;left:0;right:0;bottom:0;background:#222;color:#fff;padding:16px 10px;display:flex;flex-direction:column;align-items:center;z-index:1000;box-shadow:0 -2px 10px #0003}.cookie-banner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:10px;text-align:center}.cookie-banner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:2px 6px;padding:8px 18px;border:none;border-radius:4px;background:#ff7b00;color:#fff;font-weight:600;cursor:pointer;transition:background .2s}.cookie-banner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background:#888}.cookie-banner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ff5722}"]})};var Vm=["messagesEnd"];function Wm(n,t){if(n&1){let e=F();s(0,"button",3),y("click",function(){_(e);let r=m();return v(r.toggleChat())}),l(1,"\u{1F4AC} Diamal"),a()}}function $m(n,t){if(n&1&&(s(0,"span"),l(1),a()),n&2){let e=m().$implicit;p(),K(e.text)}}function Hm(n,t){if(n&1&&I(0,"span",13),n&2){let e=m().$implicit;h("innerHTML",e.text,va)}}function qm(n,t){if(n&1&&(s(0,"div"),C(1,$m,2,1,"span",11)(2,Hm,1,1,"span",12),a()),n&2){let e=t.$implicit;Bt("user",e.from==="user")("bot",e.from==="bot"),p(),h("ngIf",!e.isHtml),p(),h("ngIf",e.isHtml)}}function Km(n,t){if(n&1){let e=F();s(0,"button",14),y("click",function(){let r=_(e).$implicit,o=m(2);return v(o.selectTopic(r))}),l(1),a()}if(n&2){let e=t.$implicit;p(),K(e)}}function Zm(n,t){if(n&1){let e=F();s(0,"div",4)(1,"div",5)(2,"span"),l(3,"\u{1F916} Diamal"),a(),s(4,"button",6),y("click",function(){_(e);let r=m();return v(r.toggleChat())}),l(5,"\xD7"),a()(),s(6,"div",7),C(7,qm,3,6,"div",8),I(8,"div",null,0),a(),s(10,"div",9),C(11,Km,2,1,"button",10),a()()}if(n&2){let e=m();Bt("mobile",e.isMobile),p(7),h("ngForOf",e.messages),p(4),h("ngForOf",e.topics)}}var Pr=class n{constructor(t){this.router=t;this.isMobile=window.innerWidth<600,this.showChat=!1}messagesEnd;isMobile=!1;showChat=!1;messages=[{from:"bot",text:"Hallo! Ich bin Diamal, dein Assistent. Ich erkl\xE4re dir, warum und wie du Popups aktivierst und warum Cookies wichtig sind."},{from:"bot",text:"Stelle mir eine Frage oder w\xE4hle ein Thema:"}];topics=["Warum Popups aktivieren?","Wie Popups aktivieren?","Warum Cookies akzeptieren?","M\xF6chten Sie uns kontaktieren?"];ngOnInit(){this.isMobile=window.innerWidth<600}onResize(){this.isMobile=window.innerWidth<600}selectTopic(t){this.messages.push({from:"user",text:t});let e="";t===this.topics[0]?e="Popups erm\xF6glichen wichtige Benachrichtigungen, Angebote und Infos. Sie sind n\xF6tig f\xFCr Funktionen wie Login, Warnungen und mehr.":t===this.topics[1]?e='Um Popups zu aktivieren, pr\xFCfe die Einstellungen deines Browsers oder Ger\xE4ts. Erlaube Benachrichtigungen f\xFCr AfroConnect.<br><a href="https://support.google.com/chrome/answer/95472?hl=de" target="_blank" rel="noopener">Hier findest du eine Anleitung f\xFCr Chrome und andere Browser (Google Support)</a>':t===this.topics[2]?e="Cookies helfen, deine Erfahrung zu personalisieren, Einstellungen zu speichern und die Sicherheit zu gew\xE4hrleisten. Sie sind f\xFCr die Funktion der Seite wichtig.":t===this.topics[3]&&(e="Super! Ich leite Sie direkt zum Kontaktformular weiter.",this.router.navigate(["/kontakt"])),e&&this.messages.push({from:"bot",text:e,isHtml:t===this.topics[1]}),setTimeout(()=>this.scrollToBottom(),100)}ngAfterViewChecked(){this.scrollToBottom()}scrollToBottom(){this.messagesEnd&&this.messagesEnd.nativeElement.scrollIntoView({behavior:"smooth"})}toggleChat(){this.showChat=!this.showChat}static \u0275fac=function(e){return new(e||n)(P(Y))};static \u0275cmp=V({type:n,selectors:[["app-chatbot"]],viewQuery:function(e,i){if(e&1&&Ta(Vm,5),e&2){let r;di(r=ui())&&(i.messagesEnd=r.first)}},hostBindings:function(e,i){e&1&&y("resize",function(){return i.onResize()},!1,ya)},decls:2,vars:2,consts:[["messagesEnd",""],["class","chatbot-float-btn",3,"click",4,"ngIf"],["class","chatbot-bubble",3,"mobile",4,"ngIf"],[1,"chatbot-float-btn",3,"click"],[1,"chatbot-bubble"],[1,"chatbot-header"],[1,"close-btn",3,"click"],[1,"chatbot-messages"],[3,"user","bot",4,"ngFor","ngForOf"],[1,"chatbot-topics"],[3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[3,"click"]],template:function(e,i){e&1&&C(0,Wm,2,0,"button",1)(1,Zm,12,4,"div",2),e&2&&(h("ngIf",!i.showChat),p(),h("ngIf",i.showChat))},dependencies:[X,Ce,J],styles:[".chatbot-float-btn[_ngcontent-%COMP%]{position:fixed;bottom:2.5rem;right:2.5rem;background:#3182ce;color:#fff;border:none;border-radius:50px;box-shadow:0 4px 16px #3182ce2e;padding:.8rem 1.3rem;font-size:1.3rem;font-weight:700;cursor:pointer;z-index:999;transition:background .2s}.chatbot-float-btn[_ngcontent-%COMP%]:hover{background:#2563eb}.chatbot-bubble[_ngcontent-%COMP%]{position:fixed;bottom:2.5rem;right:2.5rem;width:340px;background:#f7fafc;border-radius:20px;box-shadow:0 8px 32px #3182ce2e;z-index:1000;padding:1.2rem 1rem 1rem;font-family:Arial,sans-serif;border:2px solid #3182ce}.chatbot-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-weight:700;margin-bottom:.7rem;font-size:1.15rem;color:#3182ce}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.7rem;cursor:pointer;color:#3182ce}.chatbot-messages[_ngcontent-%COMP%]{max-height:260px;overflow-y:auto;margin-bottom:.9rem}.chatbot-messages[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{text-align:right;color:#3182ce;margin-bottom:.3rem;font-weight:500}.chatbot-messages[_ngcontent-%COMP%]   .bot[_ngcontent-%COMP%]{text-align:left;color:#2d3748;margin-bottom:.3rem;font-weight:400}.chatbot-topics[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.7rem}.chatbot-topics[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#3182ce;color:#fff;border:none;border-radius:10px;padding:.5rem 1.2rem;cursor:pointer;font-size:1rem;box-shadow:0 2px 8px #3182ce14}.chatbot-bubble.mobile[_ngcontent-%COMP%]{display:none}.chatbot-mobile[_ngcontent-%COMP%]{width:100%;background:#fff;border-radius:12px;box-shadow:0 2px 12px #00000014;padding:1rem;margin:1rem 0}@media (max-width: 600px){.chatbot-bubble[_ngcontent-%COMP%]{display:none}.chatbot-mobile[_ngcontent-%COMP%]{display:block}}"]})};function Ym(n,t){if(n&1){let e=F();s(0,"div",4),y("click",function(){_(e);let r=m();return v(r.closeMenu())}),a()}}function Xm(n,t){if(n&1){let e=F();s(0,"nav",5)(1,"button",6),y("click",function(){_(e);let r=m();return v(r.closeMenu())}),l(2,"\xD7"),a(),s(3,"ul")(4,"li")(5,"a",7),y("click",function(){_(e);let r=m();return v(r.closeMenu())}),l(6,"\xDCber uns"),a()(),s(7,"li")(8,"a",8),y("click",function(){_(e);let r=m();return v(r.closeMenu())}),l(9,"Afroshop hinzuf\xFCgen"),a()(),s(10,"li")(11,"a",9),y("click",function(){_(e);let r=m();return v(r.closeMenu())}),l(12,"Kontakt"),a()(),s(13,"li")(14,"a",10),y("click",function(){_(e);let r=m();return v(r.closeMenu())}),l(15,"Impressum"),a()(),s(16,"li")(17,"a",11),y("click",function(){_(e);let r=m();return v(r.closeMenu())}),l(18,"AGB"),a()(),s(19,"li")(20,"a",12),y("click",function(){_(e);let r=m();return v(r.closeMenu())}),l(21,"Datenschutz"),a()(),s(22,"li")(23,"a",13),y("click",function(){_(e);let r=m();return v(r.closeMenu())}),l(24,"Hilfe"),a()()()()}}var kr=class n{menuOpen=!1;toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-burger-menu"]],decls:7,vars:2,consts:[[1,"burger-menu-container"],["aria-label","Men\xFC \xF6ffnen",1,"burger-icon",3,"click"],["class","menu-overlay",3,"click",4,"ngIf"],["class","menu-panel",4,"ngIf"],[1,"menu-overlay",3,"click"],[1,"menu-panel"],[1,"close-menu",3,"click"],["routerLink","/about",3,"click"],["routerLink","/add-afroshop",3,"click"],["routerLink","/kontakt",3,"click"],["routerLink","/impressum",3,"click"],["routerLink","/terms",3,"click"],["routerLink","/privacy",3,"click"],["routerLink","/hilfe",3,"click"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"button",1),y("click",function(){return i.toggleMenu()}),I(2,"span")(3,"span")(4,"span"),a(),C(5,Ym,1,0,"div",2)(6,Xm,25,0,"nav",3),a()),e&2&&(p(5),h("ngIf",i.menuOpen),p(),h("ngIf",i.menuOpen))},dependencies:[X,J,_e,pe],styles:[".burger-menu-container[_ngcontent-%COMP%]{position:absolute;top:1.2rem;left:1.2rem;z-index:1200}.burger-icon[_ngcontent-%COMP%]{background:none;border:none;display:flex;flex-direction:column;gap:5px;width:38px;height:38px;justify-content:center;align-items:center;cursor:pointer;padding:0}.burger-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:28px;height:4px;background:#3182ce;border-radius:2px;transition:all .3s}.menu-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#3182ce1f;z-index:1201}.menu-panel[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:260px;height:100vh;background:#fff;box-shadow:2px 0 16px #3182ce1f;z-index:1202;padding:2rem 1.2rem 1.2rem;display:flex;flex-direction:column}.menu-panel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:2rem 0 0}.menu-panel[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:1.2rem}.menu-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3182ce;font-size:1.1rem;text-decoration:none;font-weight:500}.close-menu[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:#3182ce;align-self:flex-end;cursor:pointer}@media (max-width: 600px){.burger-menu-container[_ngcontent-%COMP%]{top:.7rem;left:.7rem}.menu-panel[_ngcontent-%COMP%]{width:80vw;min-width:180px;max-width:320px;padding:1.2rem .7rem .7rem}}"]})};function Jm(n,t){if(n&1){let e=F();s(0,"div",21)(1,"span",22),l(2),a(),s(3,"button",23),y("click",function(){_(e);let r=m();return v(r.logout())}),l(4," \u{1F6AA} Abmelden "),a()()}if(n&2){let e=t.ngIf;p(2),j("Hallo, ",e.displayName||e.email,"!")}}function Qm(n,t){n&1&&(s(0,"div",24)(1,"a",25),l(2,"\u{1F510} Anmelden"),a(),s(3,"a",26),l(4,"\u{1F4DD} Registrieren"),a()())}function ef(n,t){n&1&&(Pa(0),I(1,"app-chatbot"),ka())}var Ar=class n{constructor(t,e){this.authService=t;this.router=e;this.user$=this.authService.user$,this.isMobile=window.innerWidth<=768,window.addEventListener("resize",()=>{this.isMobile=window.innerWidth<=768}),this.router.events.subscribe(()=>{this.isHilfePage=this.router.url==="/hilfe"});let i=(ri(),nd(Yc));console.log("Firebase config utilis\xE9e:",i.environment.firebase)}title="AfroConnect";user$;isMobile=!1;isHilfePage=!1;ngOnInit(){}logout(){return w(this,null,function*(){try{yield this.authService.logout(),this.router.navigate(["/gallery"])}catch(t){console.error("Erreur lors de la d\xE9connexion:",t)}})}static \u0275fac=function(e){return new(e||n)(P(ee),P(Y))};static \u0275cmp=V({type:n,selectors:[["app-root"]],decls:41,vars:7,consts:[[1,"app-container"],[1,"app-header"],[1,"header-content"],[1,"header-left"],["routerLink","/",1,"logo-link"],[1,"rotating-globe"],[1,"welcome-message"],[1,"header-right"],["class","user-menu",4,"ngIf"],["class","auth-buttons",4,"ngIf"],[1,"app-main"],[4,"ngIf"],[1,"app-footer"],[1,"footer-content"],[1,"footer-main"],[1,"footer-links"],["routerLink","/privacy",1,"footer-link"],[1,"footer-separator"],["routerLink","/terms",1,"footer-link"],["routerLink","/impressum",1,"footer-link"],["routerLink","/kontakt",1,"footer-link"],[1,"user-menu"],[1,"user-greeting"],[1,"logout-btn",3,"click"],[1,"auth-buttons"],["routerLink","/login",1,"auth-link","login-link"],["routerLink","/register",1,"auth-link","register-link"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"header",1)(2,"div",2),I(3,"app-burger-menu"),s(4,"div",3)(5,"a",4)(6,"h1")(7,"span",5),l(8,"\u{1F30D}"),a(),l(9," AfroConnect"),a()(),s(10,"p",6),l(11,"Verbinde dich mit der afrikanischen Community in Deutschland"),a()(),s(12,"div",7),C(13,Jm,5,1,"div",8),Be(14,"async"),C(15,Qm,5,0,"div",9),Be(16,"async"),a()()(),s(17,"main",10),I(18,"router-outlet"),C(19,ef,2,0,"ng-container",11),a(),s(20,"footer",12)(21,"div",13)(22,"div",14)(23,"p"),l(24,"\xA9 2025 AfroConnect - Verbinde dich mit deiner Community"),a()(),s(25,"div",15)(26,"a",16),l(27,"Datenschutz"),a(),s(28,"span",17),l(29,"|"),a(),s(30,"a",18),l(31,"AGB"),a(),s(32,"span",17),l(33,"|"),a(),s(34,"a",19),l(35,"Impressum"),a(),s(36,"span",17),l(37,"|"),a(),s(38,"a",20),l(39,"Kontakt"),a()()()(),I(40,"app-cookie-consent"),a()),e&2&&(p(13),h("ngIf",Je(14,3,i.user$)),p(2),h("ngIf",!Je(16,5,i.user$)),p(4),h("ngIf",!i.isMobile||i.isMobile&&i.isHilfePage))},dependencies:[X,J,Ka,qn,_e,pe,Or,Pr,kr],styles:[".app-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.app-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,var(--secondary-color) 100%);color:#fff;padding:var(--spacing-lg);box-shadow:var(--shadow-sm)}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto}.logo-link[_ngcontent-%COMP%]{text-decoration:none;color:inherit;transition:all .3s ease;cursor:pointer;border-radius:var(--border-radius);padding:var(--spacing-xs);margin:calc(-1 * var(--spacing-xs))}.logo-link[_ngcontent-%COMP%]:hover{background:#ffffff1a;transform:translateY(-2px)}.logo-link[_ngcontent-%COMP%]:active{transform:translateY(0)}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:2.5rem;font-weight:300;transition:all .3s ease}.logo-link[_ngcontent-%COMP%]:hover   h1[_ngcontent-%COMP%]{color:#fff;text-shadow:0 2px 10px rgba(255,255,255,.3)}.welcome-message[_ngcontent-%COMP%]{margin:.5rem 0 0;font-size:1.2rem;opacity:.9}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-md)}.user-menu[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm)}.user-greeting[_ngcontent-%COMP%]{font-size:.9rem;opacity:.9}.logout-btn[_ngcontent-%COMP%]{background:#fff3;color:#fff;border:1px solid rgba(255,255,255,.3);padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--border-radius);cursor:pointer;transition:all .3s ease;font-size:.9rem}.logout-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:translateY(-1px)}.auth-buttons[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm)}.auth-link[_ngcontent-%COMP%]{padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--border-radius);text-decoration:none;font-size:.9rem;font-weight:500;transition:all .3s ease}.login-link[_ngcontent-%COMP%]{color:#fff;border:1px solid rgba(255,255,255,.3);background:#ffffff1a}.login-link[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-1px)}.register-link[_ngcontent-%COMP%]{background:#fff;color:var(--primary-color);border:1px solid white}.register-link[_ngcontent-%COMP%]:hover{background:#ffffffe6;transform:translateY(-1px)}@media (min-width: 1024px){.header-content[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 2rem;gap:2rem}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:400;letter-spacing:1px;text-align:left}.welcome-message[_ngcontent-%COMP%]{font-size:1.3rem;margin-top:.5rem;text-align:left}.app-main[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:2.5rem 2rem;background:var(--background-light);border-radius:18px;box-shadow:0 2px 24px #00000012}.features[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:2.5rem}.feature-card[_ngcontent-%COMP%]{padding:2.5rem;font-size:1.1rem}.app-footer[_ngcontent-%COMP%]{font-size:1.1rem;padding:2rem 0}.footer-content[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 2rem}}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-sm);text-align:center}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.welcome-message[_ngcontent-%COMP%]{font-size:1rem}}.app-main[_ngcontent-%COMP%]{flex:1;padding:var(--spacing-lg);background-color:var(--background-light)}.content-section[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.content-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-dark);text-align:center;margin-bottom:var(--spacing-lg);font-size:2rem}.content-section[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center;color:#666;font-size:1.1rem;margin-bottom:3rem}.features[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:2rem;margin-top:2rem}.feature-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:10px;box-shadow:0 4px 15px #0000001a;text-align:center;transition:transform .3s ease,box-shadow .3s ease}.feature-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 25px #00000026}.feature-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#667eea;margin-top:0;font-size:1.3rem}.feature-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;line-height:1.6}.app-footer[_ngcontent-%COMP%]{background-color:#333;color:#fff;text-align:center;padding:1rem;margin-top:auto}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-sm);text-align:center}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.welcome-message[_ngcontent-%COMP%]{font-size:1rem;margin-top:var(--spacing-xs)}.auth-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-xs);width:100%}.auth-link[_ngcontent-%COMP%]{text-align:center;padding:var(--spacing-sm) var(--spacing-md)}}@media (max-width: 480px){.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.logo-link[_ngcontent-%COMP%]{padding:var(--spacing-sm);margin:calc(-1 * var(--spacing-sm))}.user-menu[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-xs);text-align:center}}.app-footer[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;padding:var(--spacing-lg) var(--spacing-md);margin-top:auto}.footer-content[_ngcontent-%COMP%]{max-width:var(--max-width);margin:0 auto;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:var(--spacing-sm)}.footer-main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem}.footer-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm)}.footer-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:.9rem;opacity:.8;transition:opacity .3s ease}.footer-link[_ngcontent-%COMP%]:hover{opacity:1;text-decoration:underline}.footer-separator[_ngcontent-%COMP%]{opacity:.5;font-size:.8rem}@media (max-width: 768px){.footer-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:var(--spacing-md)}.footer-links[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}}@media (max-width: 768px){.app-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.app-main[_ngcontent-%COMP%]{padding:1rem}.features[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.feature-card[_ngcontent-%COMP%]{padding:1.5rem}}"]})};oo(Ar,Jc).catch(n=>console.error(n));
