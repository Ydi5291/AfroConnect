<div class="dashboard-container">

  <h2><span style="font-size:1.5em;">üìä</span> Bestellungen f√ºr Ihren Shop</h2>
  <button class="modern-btn dashboard-return" style="margin-bottom:1.5rem;" (click)="goToShop()" [disabled]="!shopIdReady">‚Üê Zur√ºck zum Shop</button>
  <div *ngIf="orders.length === 0" class="dashboard-empty">
    <p>Keine Bestellungen gefunden.</p>
  </div>
  <div class="dashboard-info" *ngIf="orders.length > 0">
    <p style="color: #1e88e5; font-size: 0.9rem; margin-bottom: 0.5rem;">
      üí° <em>Tipp: Wischen Sie nach links/rechts und oben/unten, um alle Informationen zu sehen.</em>
    </p>
  </div>
  <div class="dashboard-table-wrapper" *ngIf="orders.length > 0">
    <table class="dashboard-table">
      <thead>
        <tr>
          <th>Datum</th>
          <th>Kunde</th>
          <th>Produkte</th>
          <th>Menge</th>
          <th>Gesamtbetrag (‚Ç¨)</th>
          <th>Zahlungsart</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let order of orders">
          <td>{{ order.createdAt?.toDate() | date:'dd/MM/yyyy HH:mm' }}</td>
          <td>
            <ng-container *ngIf="order.clientInfo; else noClientInfo">
              <strong>{{ order.clientInfo.firstName }} {{ order.clientInfo.lastName }}</strong><br>
              {{ order.clientInfo.street }} {{ order.clientInfo.number }}<br>
              {{ order.clientInfo.plz }} {{ order.clientInfo.city }}<br>
              Tel: {{ order.clientInfo.phone }}<br>
              <span *ngIf="order.clientInfo.email">E-Mail: {{ order.clientInfo.email }}</span>
            </ng-container>
            <ng-template #noClientInfo>
              <span style="color:#888">Aucune info client</span>
            </ng-template>
          </td>
          <td>
            <ul>
              <li *ngFor="let product of order.products">{{ product.name }}</li>
            </ul>
          </td>
          <td>
            <ul>
              <li *ngFor="let product of order.products">{{ product.quantity }}</li>
            </ul>
          </td>
          <td>‚Ç¨{{ order.total.toFixed(2) }}</td>
          <td>{{ order.paymentMethod }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
