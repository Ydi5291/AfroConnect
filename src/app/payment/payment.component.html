<div class="payment-container">
  <h2>Zahlung</h2>
  <div *ngIf="iban || bic" class="bank-details" style="background:#f8f8f8; border-radius:6px; padding:1em; margin-bottom:1em;">
    <strong>Bankverbindung des Shops:</strong><br>
    <span *ngIf="iban">IBAN: <b>{{ iban }}</b></span><br>
    <span *ngIf="bic">BIC: <b>{{ bic }}</b></span>
  </div>
  <p>Wählen Sie Ihre bevorzugte Zahlungsmethode aus und bestätigen Sie Ihre Bestellung.</p>
  <form class="payment-methods" (ngSubmit)="confirmPayment()">
    <div class="payment-options-list">
      <label class="payment-option">
        <input type="radio" name="payment" [(ngModel)]="selectedMethod" value="bar" required>
        <span>Barzahlung bei Abholung</span>
      </label>
      <label class="payment-option">
        <input type="radio" name="payment" [(ngModel)]="selectedMethod" value="karte">
        <span>EC-/Kreditkarte vor Ort</span>
      </label>
      <label class="payment-option">
        <input type="radio" name="payment" [(ngModel)]="selectedMethod" value="paypal">
        <span>PayPal</span>
      </label>
      <label class="payment-option">
        <input type="radio" name="payment" [(ngModel)]="selectedMethod" value="sofort">
        <span>Sofortüberweisung (Klarna)</span>
      </label>
      <label class="payment-option">
        <input type="radio" name="payment" [(ngModel)]="selectedMethod" value="vorkasse">
        <span>Vorkasse/Überweisung</span>
      </label>
      <label class="payment-option">
        <input type="radio" name="payment" [(ngModel)]="selectedMethod" value="applepay">
        <span>Apple Pay / Google Pay</span>
      </label>
    </div>

    <!-- Formulaire infos client -->
    <div class="client-info-form" *ngIf="selectedMethod">
      <h3>Ihre Kontaktdaten</h3>
      <div class="form-group">
        <label for="clientFirstName">Vorname *</label>
        <input type="text" id="clientFirstName" name="clientFirstName" [(ngModel)]="clientInfo.firstName" required>
      </div>
      <div class="form-group">
        <label for="clientLastName">Nachname *</label>
        <input type="text" id="clientLastName" name="clientLastName" [(ngModel)]="clientInfo.lastName" required>
      </div>
      <div class="form-group">
        <label for="clientStreet">Straße *</label>
        <input type="text" id="clientStreet" name="clientStreet" [(ngModel)]="clientInfo.street" required>
      </div>
      <div class="form-group">
        <label for="clientNumber">Hausnummer *</label>
        <input type="text" id="clientNumber" name="clientNumber" [(ngModel)]="clientInfo.number" required>
      </div>
      <div class="form-group">
        <label for="clientPLZ">PLZ *</label>
        <input type="text" id="clientPLZ" name="clientPLZ" [(ngModel)]="clientInfo.plz" required>
      </div>
      <div class="form-group">
        <label for="clientCity">Stadt *</label>
        <input type="text" id="clientCity" name="clientCity" [(ngModel)]="clientInfo.city" required>
      </div>
      <div class="form-group">
        <label for="clientPhone">Telefon *</label>
        <input type="tel" id="clientPhone" name="clientPhone" [(ngModel)]="clientInfo.phone" required>
      </div>
      <div class="form-group">
        <label for="clientEmail">E-Mail (optional)</label>
        <input type="email" id="clientEmail" name="clientEmail" [(ngModel)]="clientInfo.email">
      </div>
    </div>

    <button class="payment-confirm-btn" [disabled]="!selectedMethod || !clientInfoValid()" type="submit">Zahlung bestätigen</button>
    <button class="payment-back-btn" (click)="goBackToShop()">Zurück zum Shop</button>
    <div *ngIf="paymentConfirmed" class="payment-success">
      <p [innerHTML]="confirmationMessage"></p>
    </div>
  </form>
          <label class="payment-option">
