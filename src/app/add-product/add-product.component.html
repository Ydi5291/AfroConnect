<div class="add-product-form">
  <h2>Produkt hinzuf√ºgen</h2>
  <form (ngSubmit)="addProduct()">
    <label for="name">Produktname</label>
    <input type="text" [(ngModel)]="newProduct.name" name="name" id="name" placeholder="Name des Produkts" required />


    <label for="category">Kategorie</label>
    <select [(ngModel)]="newProduct.category" name="category" id="category" required>
      <option value="Lebensmittel">Lebensmittel</option>
      <option value="Getr√§nke">Getr√§nke</option>
    </select>

    <label for="price">Preis (‚Ç¨)</label>
    <input type="number" step="0.01" [(ngModel)]="newProduct.price" name="price" id="price" placeholder="Preis in Euro" required />

    <label for="image">Produktbild</label>
    <input type="file" id="image" (change)="onProductImageSelected($event)" />
    <div *ngIf="productImagePreview" class="image-preview-container">
      <img [src]="productImagePreview" alt="Bildvorschau" class="preview" />
    </div>

  <button type="submit" class="modern-btn" [disabled]="showBankForm">Hinzuf√ºgen</button>
    <button type="button" class="modern-btn secondary" (click)="goToGallery()">Galerie</button>
    <button type="button" class="modern-btn shop" (click)="goToShop()">Shop ansehen</button>
  </form>

  <div *ngIf="showBankForm" class="bank-form">
    <h3>Bankverbindung f√ºr den Shop angeben</h3>
    <label for="iban">IBAN</label>
    <input type="text" id="iban" [(ngModel)]="iban" name="iban" placeholder="IBAN" required />
    <label for="bic">BIC</label>
    <input type="text" id="bic" [(ngModel)]="bic" name="bic" placeholder="BIC" required />
    <button (click)="saveBankData()" class="modern-btn">Speichern</button>
    <div *ngIf="bankSuccessMessage" class="bank-success-message">
      <strong>{{ bankSuccessMessage }}</strong>
    </div>
  </div>
</div>

<!-- üöÄ Modal Limitation Premium -->
<div *ngIf="showLimitModal" class="limit-modal-overlay" (click)="closeLimitModal()">
  <div class="limit-modal" (click)="$event.stopPropagation()">
    <button class="modal-close" (click)="closeLimitModal()">‚úï</button>
    
    <div class="modal-icon">‚ö†Ô∏è</div>
    
    <h2>Produktlimit erreicht</h2>
    
    <p class="modal-message">
      Sie haben die maximale Anzahl von <strong>{{ FREE_PRODUCT_LIMIT }} Produktfotos</strong> 
      im kostenlosen Plan erreicht.
    </p>
    
    <div class="limit-info">
      <div class="limit-current">
        <span class="limit-number">{{ currentProductCount }}</span>
        <span class="limit-label">Aktuelle Produkte</span>
      </div>
      <div class="limit-max">
        <span class="limit-number">{{ FREE_PRODUCT_LIMIT }}</span>
        <span class="limit-label">Kostenlos Maximum</span>
      </div>
    </div>
    
    <div class="premium-benefits">
      <h3>üåü Premium Vorteile:</h3>
      <ul>
        <li>‚úÖ <strong>Unbegrenzte</strong> Produktfotos</li>
        <li>‚úÖ H√∂here Priorit√§t in Suchergebnissen</li>
        <li>‚úÖ Premium-Badge auf Ihrem Shop</li>
        <li>‚úÖ Erweiterte Statistiken</li>
      </ul>
    </div>
    
    <div class="modal-actions">
      <button class="btn-premium" (click)="goToPremium()">
        üöÄ Jetzt Premium werden
      </button>
      <button class="btn-cancel" (click)="closeLimitModal()">
        Sp√§ter
      </button>
    </div>
  </div>
</div>
